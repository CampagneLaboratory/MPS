package jetbrains.mps.idea.java.psiStubs;

/*Generated by MPS */

import jetbrains.mps.idea.core.psi.MPS2PsiMapper;
import jetbrains.mps.smodel.ModelAccess;
import jetbrains.mps.util.Computable;
import org.jetbrains.mps.openapi.model.SNode;
import com.intellij.psi.PsiElement;
import com.intellij.openapi.project.Project;

public class Mapper implements MPS2PsiMapper {
  @Override
  public boolean canBeMine(final SNode node) {
    return ModelAccess.instance().runReadAction(new Computable<Boolean>() {
      @Override
      public Boolean compute() {
        return node.getModel() instanceof PsiJavaStubModelDescriptor;
      }
    });
  }



  @Override
  public PsiElement getPsiElement(final SNode node, final Project project) {
    return ModelAccess.instance().runReadAction(new Computable<PsiElement>() {
      @Override
      public PsiElement compute() {
        PsiJavaStubModelDescriptor psiModel = (PsiJavaStubModelDescriptor) node.getModel();
        return psiModel.getPsiSource(node);
      }
    });

  }
}
