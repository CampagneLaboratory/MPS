package jetbrains.mps.core.tool.environment.util;

/*Generated by MPS */

import jetbrains.mps.MPSCore;
import jetbrains.mps.persistence.MPSPersistence;
import jetbrains.mps.typesystem.MPSTypesystem;
import jetbrains.mps.generator.MPSGenerator;

public final class MpsPlatform {
  private MPSCore myCore;
  private MPSPersistence myPersistence;
  private MPSTypesystem myTypesystem;
  private MPSGenerator myGenerator;

  public MpsPlatform() {
  }

  public void init() {
    myCore = new MPSCore();
    myCore.init();

    myPersistence = new MPSPersistence(myCore.getPersistenceFacade());
    myTypesystem = new MPSTypesystem(myCore.getLanguageRegistry(), myCore.getClassLoaderManager());
    myGenerator = new MPSGenerator();
    myPersistence.init();
    myTypesystem.init();
    myGenerator.init();
  }

  public void dispose() {
    myGenerator.dispose();
    myTypesystem.dispose();
    myPersistence.dispose();
    myCore.dispose();
    myGenerator = null;
    myTypesystem = null;
    myPersistence = null;
    myCore = null;
  }

  public MPSCore getMPSCore() {
    return myCore;
  }
}
