package jetbrains.mpslite.behavior;

/*Generated by MPS */

import jetbrains.mps.smodel.SNode;
import java.util.Map;
import jetbrains.mps.internal.collections.runtime.MapSequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import java.util.List;
import java.util.ArrayList;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import java.util.Set;
import java.util.HashSet;
import jetbrains.mps.smodel.SModelUtil_new;
import jetbrains.mps.typesystem.inference.TypeChecker;
import jetbrains.mps.project.GlobalScope;
import jetbrains.mps.smodel.SReference;
import jetbrains.mps.smodel.SModelReference;
import jetbrains.mps.smodel.SNodeId;
import jetbrains.mps.lang.typesystem.runtime.HUtil;

public class VariableConcept_Behavior {
  public static void init(SNode thisNode) {
  }

  public static boolean virtual_isAbstract_1239715026284(SNode thisNode) {
    return false;
  }

  public static boolean virtual_isRootable_1239714833738(SNode thisNode) {
    return false;
  }

  public static void virtual_fillConcept_1239891562930(SNode thisNode, SNode concept, Map<SNode, SNode> conceptsToTargets, Map<SNode, SNode> partsToLinks) {
    SNode conceptDeclaration = ((SNode) MapSequence.fromMap(conceptsToTargets).get(thisNode));
    SNode typeLink = SLinkOperations.addNewChild(conceptDeclaration, "linkDeclaration", "jetbrains.mps.lang.structure.structure.LinkDeclaration");
    SPropertyOperations.set(typeLink, "metaClass", "aggregation");
    SPropertyOperations.set(typeLink, "sourceCardinality", "1");
    SPropertyOperations.set(typeLink, "role", SPropertyOperations.getString(thisNode, "typeRole"));
    SLinkOperations.setTarget(typeLink, "target", AbstractConceptReference_Behavior.call_getConcept_1238594571574(SLinkOperations.getTarget(thisNode, "typeConcept", true), conceptsToTargets), false);
    SNode propertyDecl = SLinkOperations.addNewChild(conceptDeclaration, "propertyDeclaration", "jetbrains.mps.lang.structure.structure.PropertyDeclaration");
    SLinkOperations.setTarget(propertyDecl, "dataType", SLinkOperations.getTarget(new VariableConcept_Behavior.QuotationClass_mkovpu_a0c0h0d().createNode(), "dataType", false), false);
    SPropertyOperations.set(propertyDecl, "name", SPropertyOperations.getString(thisNode, "namePropertyName"));
    MapSequence.fromMap(partsToLinks).put(SLinkOperations.getTarget(thisNode, "typeConcept", true), typeLink);
    MapSequence.fromMap(partsToLinks).put(thisNode, propertyDecl);
  }

  public static SNode virtual_createEditor_1239890004879(SNode thisNode, Map<SNode, SNode> conceptsToTargets, Map<SNode, SNode> partsToLinks) {
    SNode editor = SConceptOperations.createNewNode("jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration", null);
    SNode lineList = SLinkOperations.getTarget(thisNode, "concreteSyntax", true);
    SNode contentCell = GenerationUtils.generateEditorCellModel(lineList, thisNode, partsToLinks);
    if (contentCell == null) {
      return null;
    }
    SLinkOperations.setTarget(editor, "cellModel", contentCell, true);
    return editor;
  }

  public static SNode virtual_createAdditionalConcept_1239817368042(SNode thisNode, Map<SNode, SNode> conceptsToTargets, Map<SNode, SNode> partsToLinks) {
    SNode additionalConcept = SConceptOperations.createNewNode("jetbrains.mps.lang.structure.structure.ConceptDeclaration", null);
    SPropertyOperations.set(additionalConcept, "name", SPropertyOperations.getString(thisNode, "name") + "Reference");
    SNode referenceDeclaration = SLinkOperations.addNewChild(additionalConcept, "linkDeclaration", "jetbrains.mps.lang.structure.structure.LinkDeclaration");
    SPropertyOperations.set(referenceDeclaration, "metaClass", "reference");
    SPropertyOperations.set(referenceDeclaration, "sourceCardinality", "1");
    SPropertyOperations.set(referenceDeclaration, "role", "declaration");
    SLinkOperations.setTarget(referenceDeclaration, "target", MapSequence.fromMap(conceptsToTargets).get(thisNode), false);
    SLinkOperations.setTarget(additionalConcept, "extends", (SNode) MapSequence.fromMap(conceptsToTargets).get(SLinkOperations.getTarget(SNodeOperations.getAncestor(thisNode, "jetbrains.mpslite.structure.ConceptContainer", false, false), "expressionConcept", true)), false);
    MapSequence.fromMap(partsToLinks).put(SLinkOperations.getTarget(thisNode, "reference", true), referenceDeclaration);
    return additionalConcept;
  }

  public static SNode virtual_createAdditionalEditor_1239891670850(SNode thisNode, Map<SNode, SNode> conceptsToTargets, Map<SNode, SNode> partsToLinks) {
    SNode editor = SConceptOperations.createNewNode("jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration", null);
    SNode contentCell = SConceptOperations.createNewNode("jetbrains.mps.lang.editor.structure.CellModel_RefCell", null);
    SLinkOperations.setTarget(editor, "cellModel", contentCell, true);
    SLinkOperations.setTarget(contentCell, "relationDeclaration", SNodeOperations.cast(MapSequence.fromMap(partsToLinks).get(SLinkOperations.getTarget(thisNode, "reference", true)), "jetbrains.mps.lang.structure.structure.LinkDeclaration"), false);
    SNode editorComponent = SLinkOperations.setNewChild(contentCell, "editorComponent", "jetbrains.mps.lang.editor.structure.InlineEditorComponent");
    SNode propertyCell = SLinkOperations.setNewChild(editorComponent, "cellModel", "jetbrains.mps.lang.editor.structure.CellModel_Property");
    SLinkOperations.setTarget(propertyCell, "relationDeclaration", SNodeOperations.cast(MapSequence.fromMap(partsToLinks).get(thisNode), "jetbrains.mps.lang.structure.structure.PropertyDeclaration"), false);
    return editor;
  }

  public static SNode call_createVariableScope_1239942296621(SNode thisNode, Map<SNode, SNode> conceptsToTargets, Map<SNode, SNode> partsToLinks) {
    SNode statementConcept = MapSequence.fromMap(conceptsToTargets).get(SLinkOperations.getTarget(SNodeOperations.getAncestor(thisNode, "jetbrains.mpslite.structure.ConceptContainer", false, false), "statementConcept", true));
    final List<SNode> conceptReferences = new ArrayList<SNode>();
    for (SNode blockReference : SLinkOperations.getTargets(thisNode, "scopeBlock", true)) {
      ListSequence.fromList(conceptReferences).addElement(new VariableConcept_Behavior.QuotationClass_mkovpu_a0a0a0c0h().createNode(MapSequence.fromMap(conceptsToTargets).get(SLinkOperations.getTarget(blockReference, "conceptDeclaration", false))));
    }
    return VariableConcept_Behavior.call_createVariableScope_internal_1239972513878(thisNode, statementConcept, conceptReferences, conceptsToTargets, partsToLinks);
  }

  public static SNode call_createVariableScope_internal_1239972513878(SNode thisNode, SNode statementConcept, List<SNode> conceptReferences, Map<SNode, SNode> conceptsToTargets, Map<SNode, SNode> partsToLinks) {
    SNode result = new VariableConcept_Behavior.QuotationClass_mkovpu_a0a0a8().createNode(SNodeOperations.cast(MapSequence.fromMap(partsToLinks).get(SLinkOperations.getTarget(thisNode, "reference", true)), "jetbrains.mps.lang.structure.structure.LinkDeclaration"), statementConcept, conceptReferences, statementConcept, statementConcept);
    return result;
  }

  public static class QuotationClass_mkovpu_a0c0h0d {
    public QuotationClass_mkovpu_a0c0h0d() {
    }

    public SNode createNode() {
      SNode result = null;
      Set<SNode> _parameterValues_129834374 = new HashSet<SNode>();
      SNode quotedNode_mkovpu_a0a0a7a2 = null;
      {
        quotedNode_mkovpu_a0a0a7a2 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.structure.structure.PropertyDeclaration", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
        SNode quotedNode1_mkovpu_a0a0a7a2 = quotedNode_mkovpu_a0a0a7a2;
        quotedNode1_mkovpu_a0a0a7a2.setProperty("name", "_");
        quotedNode1_mkovpu_a0a0a7a2.addReference(SReference.create("dataType", quotedNode1_mkovpu_a0a0a7a2, SModelReference.fromString("r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)"), SNodeId.fromString("1082983041843")));
        result = quotedNode1_mkovpu_a0a0a7a2;
      }
      return result;
    }
  }

  public static class QuotationClass_mkovpu_a0a0a8 {
    public QuotationClass_mkovpu_a0a0a8() {
    }

    public SNode createNode(Object parameter_mkovpu_a0a0a0a7, Object parameter_mkovpu_a0a0a0a1a0a0a0a7, Object parameter_mkovpu_a0a0a0a0a2a0a0a0a7, Object parameter_mkovpu_a0a0a0a0a0c0c0a0a0a0h, Object parameter_mkovpu_a0a0a0a3a2a0a0a0a7) {
      SNode result = null;
      Set<SNode> _parameterValues_129834374 = new HashSet<SNode>();
      SNode quotedNode_mkovpu_a0a0a7 = null;
      SNode quotedNode_mkovpu_a0a0a0h = null;
      SNode quotedNode_mkovpu_a0a0a0a7 = null;
      SNode quotedNode_mkovpu_a0a0a0a0h = null;
      SNode quotedNode_mkovpu_b0a0a0a0h = null;
      SNode quotedNode_mkovpu_c0a0a0a0h = null;
      SNode quotedNode_mkovpu_d0a0a0a0h = null;
      SNode quotedNode_mkovpu_a0a0a0a0a7 = null;
      SNode quotedNode_mkovpu_a1a0a0a0a7 = null;
      SNode quotedNode_mkovpu_a2a0a0a0a7 = null;
      SNode quotedNode_mkovpu_a2a0a0a0a7_0 = null;
      SNode quotedNode_mkovpu_a3a0a0a0a7 = null;
      SNode quotedNode_mkovpu_a0a0a0a0a0h = null;
      SNode quotedNode_mkovpu_a0a0a0a0a0h_0 = null;
      SNode quotedNode_mkovpu_a0b0a0a0a0h = null;
      SNode quotedNode_mkovpu_a0b0a0a0a0h_0 = null;
      SNode quotedNode_mkovpu_a0c0a0a0a0h = null;
      SNode quotedNode_mkovpu_a0c0a0a0a0h_0 = null;
      SNode quotedNode_mkovpu_a0c0a0a0a0h_1 = null;
      SNode quotedNode_mkovpu_b0c0a0a0a0h = null;
      SNode quotedNode_mkovpu_c0c0a0a0a0h = null;
      SNode quotedNode_mkovpu_d0c0a0a0a0h = null;
      SNode quotedNode_mkovpu_a0a0a0a0a0a7 = null;
      SNode quotedNode_mkovpu_a0a0a0a0a0a7_0 = null;
      SNode quotedNode_mkovpu_a0a1a0a0a0a7 = null;
      SNode quotedNode_mkovpu_a0a1a0a0a0a7_0 = null;
      SNode quotedNode_mkovpu_a0a2a0a0a0a7 = null;
      SNode quotedNode_mkovpu_a1a2a0a0a0a7 = null;
      SNode quotedNode_mkovpu_a1a2a0a0a0a7_0 = null;
      SNode quotedNode_mkovpu_a2a2a0a0a0a7 = null;
      SNode quotedNode_mkovpu_a2a2a0a0a0a7_0 = null;
      SNode quotedNode_mkovpu_a2a2a0a0a0a7_1 = null;
      SNode quotedNode_mkovpu_a3a2a0a0a0a7 = null;
      SNode quotedNode_mkovpu_a0a0a0a0a0a0h = null;
      SNode quotedNode_mkovpu_a0a0b0a0a0a0h = null;
      SNode quotedNode_mkovpu_b0a0b0a0a0a0h = null;
      SNode quotedNode_mkovpu_a0a0c0a0a0a0h = null;
      SNode quotedNode_mkovpu_a0a0c0a0a0a0h_0 = null;
      SNode quotedNode_mkovpu_a0b0c0a0a0a0h = null;
      SNode quotedNode_mkovpu_a0b0c0a0a0a0h_0 = null;
      SNode quotedNode_mkovpu_a0b0c0a0a0a0h_1 = null;
      SNode quotedNode_mkovpu_a0c0c0a0a0a0h = null;
      SNode quotedNode_mkovpu_b0c0c0a0a0a0h = null;
      SNode quotedNode_mkovpu_a0c0c0a0a0a0h_0 = null;
      SNode quotedNode_mkovpu_a0c0c0a0a0a0h_1 = null;
      SNode quotedNode_mkovpu_a0c0c0a0a0a0h_2 = null;
      SNode quotedNode_mkovpu_a0d0c0a0a0a0h = null;
      SNode quotedNode_mkovpu_a0d0c0a0a0a0h_0 = null;
      SNode quotedNode_mkovpu_a0a0a1a0a0a0a7 = null;
      SNode quotedNode_mkovpu_a0a0a2a0a0a0a7 = null;
      SNode quotedNode_mkovpu_a0a0a2a0a0a0a7_0 = null;
      SNode quotedNode_mkovpu_a0a2a2a0a0a0a7 = null;
      SNode quotedNode_mkovpu_a0a2a2a0a0a0a7_0 = null;
      SNode quotedNode_mkovpu_a1a2a2a0a0a0a7 = null;
      SNode quotedNode_mkovpu_a0a2a2a0a0a0a7_1 = null;
      SNode quotedNode_mkovpu_a0a2a2a0a0a0a7_2 = null;
      SNode quotedNode_mkovpu_a0a2a2a0a0a0a7_3 = null;
      SNode quotedNode_mkovpu_a0a3a2a0a0a0a7 = null;
      SNode quotedNode_mkovpu_a0a3a2a0a0a0a7_0 = null;
      SNode quotedNode_mkovpu_a0a0a0c0a0a0a0h = null;
      SNode quotedNode_mkovpu_a0a0c0c0a0a0a0h = null;
      SNode quotedNode_mkovpu_a0a0c0c0a0a0a0h_0 = null;
      SNode quotedNode_mkovpu_a0a0c0c0a0a0a0h_1 = null;
      SNode quotedNode_mkovpu_a0b0c0c0a0a0a0h = null;
      SNode quotedNode_mkovpu_a0b0c0c0a0a0a0h_0 = null;
      SNode quotedNode_mkovpu_a0a0c0c0a0a0a0h_2 = null;
      SNode quotedNode_mkovpu_a0a0c0c0a0a0a0h_3 = null;
      SNode quotedNode_mkovpu_a0a0d0c0a0a0a0h = null;
      SNode quotedNode_mkovpu_b0a0d0c0a0a0a0h = null;
      SNode quotedNode_mkovpu_a0a0a0a2a0a0a0a7 = null;
      SNode quotedNode_mkovpu_a0a1a2a2a0a0a0a7 = null;
      SNode quotedNode_mkovpu_a0a0a2a2a0a0a0a7 = null;
      SNode quotedNode_mkovpu_a0a0a2a2a0a0a0a7_0 = null;
      SNode quotedNode_mkovpu_a0a0a3a2a0a0a0a7 = null;
      SNode quotedNode_mkovpu_a0a0b0c0c0a0a0a0h = null;
      SNode quotedNode_mkovpu_a0a0b0c0c0a0a0a0h_0 = null;
      SNode quotedNode_mkovpu_a0a0a0c0c0a0a0a0h = null;
      SNode quotedNode_mkovpu_a0a0a0a2a2a0a0a0a7 = null;
      SNode quotedNode_mkovpu_a0a0a0a2a2a0a0a0a7_0 = null;
      SNode quotedNode_mkovpu_a0a0a0a0c0c0a0a0a0h = null;
      {
        quotedNode_mkovpu_a0a0a7 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.constraints.structure.NodeReferentConstraint", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
        SNode quotedNode1_mkovpu_a0a0a7 = quotedNode_mkovpu_a0a0a7;
        quotedNode1_mkovpu_a0a0a7.setReferent("applicableLink", (SNode) parameter_mkovpu_a0a0a0a7);
        {
          quotedNode_mkovpu_a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.constraints.structure.ConstraintFunction_ReferentSearchScope_Factory", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
          SNode quotedNode1_mkovpu_a0a0a0h = quotedNode_mkovpu_a0a0a0h;
          {
            quotedNode_mkovpu_a0a0a0a7 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.StatementList", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
            SNode quotedNode1_mkovpu_a0a0a0a7 = quotedNode_mkovpu_a0a0a0a7;
            {
              quotedNode_mkovpu_a0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
              SNode quotedNode1_mkovpu_a0a0a0a0h = quotedNode_mkovpu_a0a0a0a0h;
              {
                quotedNode_mkovpu_a0a0a0a0a7 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                SNode quotedNode1_mkovpu_a0a0a0a0a7 = quotedNode_mkovpu_a0a0a0a0a7;
                quotedNode1_mkovpu_a0a0a0a0a7.setProperty("name", "result");
                {
                  quotedNode_mkovpu_a0a0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.collections.structure.ListType", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                  SNode quotedNode1_mkovpu_a0a0a0a0a0h = quotedNode_mkovpu_a0a0a0a0a0h;
                  {
                    quotedNode_mkovpu_a0a0a0a0a0a7 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.smodel.structure.SNodeType", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                    SNode quotedNode1_mkovpu_a0a0a0a0a0a7 = quotedNode_mkovpu_a0a0a0a0a0a7;
                    quotedNode_mkovpu_a0a0a0a0a0h.addChild("elementType", quotedNode1_mkovpu_a0a0a0a0a0a7);
                  }
                  quotedNode_mkovpu_a0a0a0a0a7.addChild("type", quotedNode1_mkovpu_a0a0a0a0a0h);
                }
                {
                  quotedNode_mkovpu_a0a0a0a0a0h_0 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.GenericNewExpression", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                  SNode quotedNode1_mkovpu_a0a0a0a0a0h_0 = quotedNode_mkovpu_a0a0a0a0a0h_0;
                  {
                    quotedNode_mkovpu_a0a0a0a0a0a7_0 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.collections.structure.ListCreatorWithInit", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                    SNode quotedNode1_mkovpu_a0a0a0a0a0a7_0 = quotedNode_mkovpu_a0a0a0a0a0a7_0;
                    {
                      quotedNode_mkovpu_a0a0a0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.smodel.structure.SNodeType", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                      SNode quotedNode1_mkovpu_a0a0a0a0a0a0h = quotedNode_mkovpu_a0a0a0a0a0a0h;
                      quotedNode_mkovpu_a0a0a0a0a0a7_0.addChild("elementType", quotedNode1_mkovpu_a0a0a0a0a0a0h);
                    }
                    quotedNode_mkovpu_a0a0a0a0a0h_0.addChild("creator", quotedNode1_mkovpu_a0a0a0a0a0a7_0);
                  }
                  quotedNode_mkovpu_a0a0a0a0a7.addChild("initializer", quotedNode1_mkovpu_a0a0a0a0a0h_0);
                }
                quotedNode_mkovpu_a0a0a0a0h.addChild("localVariableDeclaration", quotedNode1_mkovpu_a0a0a0a0a7);
              }
              quotedNode_mkovpu_a0a0a0a7.addChild("statement", quotedNode1_mkovpu_a0a0a0a0h);
            }
            {
              quotedNode_mkovpu_b0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
              SNode quotedNode1_mkovpu_b0a0a0a0h = quotedNode_mkovpu_b0a0a0a0h;
              {
                quotedNode_mkovpu_a1a0a0a0a7 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                SNode quotedNode1_mkovpu_a1a0a0a0a7 = quotedNode_mkovpu_a1a0a0a0a7;
                quotedNode1_mkovpu_a1a0a0a0a7.setProperty("name", "currentStatement");
                {
                  quotedNode_mkovpu_a0b0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.smodel.structure.SNodeType", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                  SNode quotedNode1_mkovpu_a0b0a0a0a0h = quotedNode_mkovpu_a0b0a0a0a0h;
                  quotedNode_mkovpu_a1a0a0a0a7.addChild("type", quotedNode1_mkovpu_a0b0a0a0a0h);
                }
                {
                  quotedNode_mkovpu_a0b0a0a0a0h_0 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.DotExpression", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                  SNode quotedNode1_mkovpu_a0b0a0a0a0h_0 = quotedNode_mkovpu_a0b0a0a0a0h_0;
                  {
                    quotedNode_mkovpu_a0a1a0a0a0a7 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.constraints.structure.ConceptParameter_ReferentSearchScope_enclosingNode", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                    SNode quotedNode1_mkovpu_a0a1a0a0a0a7 = quotedNode_mkovpu_a0a1a0a0a0a7;
                    quotedNode_mkovpu_a0b0a0a0a0h_0.addChild("operand", quotedNode1_mkovpu_a0a1a0a0a0a7);
                  }
                  {
                    quotedNode_mkovpu_a0a1a0a0a0a7_0 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                    SNode quotedNode1_mkovpu_a0a1a0a0a0a7_0 = quotedNode_mkovpu_a0a1a0a0a0a7_0;
                    {
                      quotedNode_mkovpu_a0a0b0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.smodel.structure.OperationParm_Concept", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                      SNode quotedNode1_mkovpu_a0a0b0a0a0a0h = quotedNode_mkovpu_a0a0b0a0a0a0h;
                      {
                        quotedNode_mkovpu_a0a0a1a0a0a0a7 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.smodel.structure.RefConcept_Reference", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                        SNode quotedNode1_mkovpu_a0a0a1a0a0a0a7 = quotedNode_mkovpu_a0a0a1a0a0a0a7;
                        quotedNode1_mkovpu_a0a0a1a0a0a0a7.setReferent("conceptDeclaration", (SNode) parameter_mkovpu_a0a0a0a1a0a0a0a7);
                        quotedNode_mkovpu_a0a0b0a0a0a0h.addChild("conceptArgument", quotedNode1_mkovpu_a0a0a1a0a0a0a7);
                      }
                      quotedNode_mkovpu_a0a1a0a0a0a7_0.addChild("parameter", quotedNode1_mkovpu_a0a0b0a0a0a0h);
                    }
                    {
                      quotedNode_mkovpu_b0a0b0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.smodel.structure.OperationParm_Inclusion", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                      SNode quotedNode1_mkovpu_b0a0b0a0a0a0h = quotedNode_mkovpu_b0a0b0a0a0a0h;
                      quotedNode_mkovpu_a0a1a0a0a0a7_0.addChild("parameter", quotedNode1_mkovpu_b0a0b0a0a0a0h);
                    }
                    quotedNode_mkovpu_a0b0a0a0a0h_0.addChild("operation", quotedNode1_mkovpu_a0a1a0a0a0a7_0);
                  }
                  quotedNode_mkovpu_a1a0a0a0a7.addChild("initializer", quotedNode1_mkovpu_a0b0a0a0a0h_0);
                }
                quotedNode_mkovpu_b0a0a0a0h.addChild("localVariableDeclaration", quotedNode1_mkovpu_a1a0a0a0a7);
              }
              quotedNode_mkovpu_a0a0a0a7.addChild("statement", quotedNode1_mkovpu_b0a0a0a0h);
            }
            {
              quotedNode_mkovpu_c0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.WhileStatement", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
              SNode quotedNode1_mkovpu_c0a0a0a0h = quotedNode_mkovpu_c0a0a0a0h;
              {
                quotedNode_mkovpu_a2a0a0a0a7 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.NotEqualsExpression", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                SNode quotedNode1_mkovpu_a2a0a0a0a7 = quotedNode_mkovpu_a2a0a0a0a7;
                {
                  quotedNode_mkovpu_a0c0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.NullLiteral", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                  SNode quotedNode1_mkovpu_a0c0a0a0a0h = quotedNode_mkovpu_a0c0a0a0a0h;
                  quotedNode_mkovpu_a2a0a0a0a7.addChild("rightExpression", quotedNode1_mkovpu_a0c0a0a0a0h);
                }
                {
                  quotedNode_mkovpu_a0c0a0a0a0h_0 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.LocalVariableReference", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                  SNode quotedNode1_mkovpu_a0c0a0a0a0h_0 = quotedNode_mkovpu_a0c0a0a0a0h_0;
                  quotedNode_mkovpu_a2a0a0a0a7.addChild("leftExpression", quotedNode1_mkovpu_a0c0a0a0a0h_0);
                }
                quotedNode_mkovpu_c0a0a0a0h.addChild("condition", quotedNode1_mkovpu_a2a0a0a0a7);
              }
              {
                quotedNode_mkovpu_a2a0a0a0a7_0 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.StatementList", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                SNode quotedNode1_mkovpu_a2a0a0a0a7_0 = quotedNode_mkovpu_a2a0a0a0a7_0;
                {
                  quotedNode_mkovpu_a0c0a0a0a0h_1 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                  SNode quotedNode1_mkovpu_a0c0a0a0a0h_1 = quotedNode_mkovpu_a0c0a0a0a0h_1;
                  {
                    quotedNode_mkovpu_a0a2a0a0a0a7 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                    SNode quotedNode1_mkovpu_a0a2a0a0a0a7 = quotedNode_mkovpu_a0a2a0a0a0a7;
                    quotedNode1_mkovpu_a0a2a0a0a0a7.setProperty("name", "currentBlock");
                    {
                      quotedNode_mkovpu_a0a0c0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.smodel.structure.SNodeType", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                      SNode quotedNode1_mkovpu_a0a0c0a0a0a0h = quotedNode_mkovpu_a0a0c0a0a0a0h;
                      quotedNode_mkovpu_a0a2a0a0a0a7.addChild("type", quotedNode1_mkovpu_a0a0c0a0a0a0h);
                    }
                    {
                      quotedNode_mkovpu_a0a0c0a0a0a0h_0 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.DotExpression", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                      SNode quotedNode1_mkovpu_a0a0c0a0a0a0h_0 = quotedNode_mkovpu_a0a0c0a0a0a0h_0;
                      {
                        quotedNode_mkovpu_a0a0a2a0a0a0a7 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.LocalVariableReference", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                        SNode quotedNode1_mkovpu_a0a0a2a0a0a0a7 = quotedNode_mkovpu_a0a0a2a0a0a0a7;
                        quotedNode_mkovpu_a0a0c0a0a0a0h_0.addChild("operand", quotedNode1_mkovpu_a0a0a2a0a0a0a7);
                      }
                      {
                        quotedNode_mkovpu_a0a0a2a0a0a0a7_0 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                        SNode quotedNode1_mkovpu_a0a0a2a0a0a0a7_0 = quotedNode_mkovpu_a0a0a2a0a0a0a7_0;
                        {
                          quotedNode_mkovpu_a0a0a0c0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.smodel.structure.OperationParm_ConceptList", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                          SNode quotedNode1_mkovpu_a0a0a0c0a0a0a0h = quotedNode_mkovpu_a0a0a0c0a0a0a0h;
                          {
                            List<SNode> nodes = (List<SNode>) parameter_mkovpu_a0a0a0a0a2a0a0a0a7;
                            for (SNode child : nodes) {
                              quotedNode_mkovpu_a0a0a0c0a0a0a0h.addChild("concept", HUtil.copyIfNecessary(child));
                            }
                          }
                          quotedNode_mkovpu_a0a0a2a0a0a0a7_0.addChild("parameter", quotedNode1_mkovpu_a0a0a0c0a0a0a0h);
                        }
                        quotedNode_mkovpu_a0a0c0a0a0a0h_0.addChild("operation", quotedNode1_mkovpu_a0a0a2a0a0a0a7_0);
                      }
                      quotedNode_mkovpu_a0a2a0a0a0a7.addChild("initializer", quotedNode1_mkovpu_a0a0c0a0a0a0h_0);
                    }
                    quotedNode_mkovpu_a0c0a0a0a0h_1.addChild("localVariableDeclaration", quotedNode1_mkovpu_a0a2a0a0a0a7);
                  }
                  quotedNode_mkovpu_a2a0a0a0a7_0.addChild("statement", quotedNode1_mkovpu_a0c0a0a0a0h_1);
                }
                {
                  quotedNode_mkovpu_b0c0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.IfStatement", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                  SNode quotedNode1_mkovpu_b0c0a0a0a0h = quotedNode_mkovpu_b0c0a0a0a0h;
                  {
                    quotedNode_mkovpu_a1a2a0a0a0a7 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.StatementList", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                    SNode quotedNode1_mkovpu_a1a2a0a0a0a7 = quotedNode_mkovpu_a1a2a0a0a0a7;
                    {
                      quotedNode_mkovpu_a0b0c0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.BreakStatement", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                      SNode quotedNode1_mkovpu_a0b0c0a0a0a0h = quotedNode_mkovpu_a0b0c0a0a0a0h;
                      quotedNode_mkovpu_a1a2a0a0a0a7.addChild("statement", quotedNode1_mkovpu_a0b0c0a0a0a0h);
                    }
                    quotedNode_mkovpu_b0c0a0a0a0h.addChild("ifTrue", quotedNode1_mkovpu_a1a2a0a0a0a7);
                  }
                  {
                    quotedNode_mkovpu_a1a2a0a0a0a7_0 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.DotExpression", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                    SNode quotedNode1_mkovpu_a1a2a0a0a0a7_0 = quotedNode_mkovpu_a1a2a0a0a0a7_0;
                    {
                      quotedNode_mkovpu_a0b0c0a0a0a0h_0 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.LocalVariableReference", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                      SNode quotedNode1_mkovpu_a0b0c0a0a0a0h_0 = quotedNode_mkovpu_a0b0c0a0a0a0h_0;
                      quotedNode_mkovpu_a1a2a0a0a0a7_0.addChild("operand", quotedNode1_mkovpu_a0b0c0a0a0a0h_0);
                    }
                    {
                      quotedNode_mkovpu_a0b0c0a0a0a0h_1 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.smodel.structure.Node_IsNullOperation", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                      SNode quotedNode1_mkovpu_a0b0c0a0a0a0h_1 = quotedNode_mkovpu_a0b0c0a0a0a0h_1;
                      quotedNode_mkovpu_a1a2a0a0a0a7_0.addChild("operation", quotedNode1_mkovpu_a0b0c0a0a0a0h_1);
                    }
                    quotedNode_mkovpu_b0c0a0a0a0h.addChild("condition", quotedNode1_mkovpu_a1a2a0a0a0a7_0);
                  }
                  quotedNode_mkovpu_a2a0a0a0a7_0.addChild("statement", quotedNode1_mkovpu_b0c0a0a0a0h);
                }
                {
                  quotedNode_mkovpu_c0c0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.ForeachStatement", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                  SNode quotedNode1_mkovpu_c0c0a0a0a0h = quotedNode_mkovpu_c0c0a0a0a0h;
                  {
                    quotedNode_mkovpu_a2a2a0a0a0a7 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.StatementList", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                    SNode quotedNode1_mkovpu_a2a2a0a0a0a7 = quotedNode_mkovpu_a2a2a0a0a0a7;
                    {
                      quotedNode_mkovpu_a0c0c0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.IfStatement", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                      SNode quotedNode1_mkovpu_a0c0c0a0a0a0h = quotedNode_mkovpu_a0c0c0a0a0a0h;
                      {
                        quotedNode_mkovpu_a0a2a2a0a0a0a7 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.EqualsExpression", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                        SNode quotedNode1_mkovpu_a0a2a2a0a0a0a7 = quotedNode_mkovpu_a0a2a2a0a0a0a7;
                        {
                          quotedNode_mkovpu_a0a0c0c0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.LocalVariableReference", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                          SNode quotedNode1_mkovpu_a0a0c0c0a0a0a0h = quotedNode_mkovpu_a0a0c0c0a0a0a0h;
                          quotedNode_mkovpu_a0a2a2a0a0a0a7.addChild("rightExpression", quotedNode1_mkovpu_a0a0c0c0a0a0a0h);
                        }
                        {
                          quotedNode_mkovpu_a0a0c0c0a0a0a0h_0 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.LocalVariableReference", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                          SNode quotedNode1_mkovpu_a0a0c0c0a0a0a0h_0 = quotedNode_mkovpu_a0a0c0c0a0a0a0h_0;
                          quotedNode_mkovpu_a0a2a2a0a0a0a7.addChild("leftExpression", quotedNode1_mkovpu_a0a0c0c0a0a0a0h_0);
                        }
                        quotedNode_mkovpu_a0c0c0a0a0a0h.addChild("condition", quotedNode1_mkovpu_a0a2a2a0a0a0a7);
                      }
                      {
                        quotedNode_mkovpu_a0a2a2a0a0a0a7_0 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.StatementList", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                        SNode quotedNode1_mkovpu_a0a2a2a0a0a0a7_0 = quotedNode_mkovpu_a0a2a2a0a0a0a7_0;
                        {
                          quotedNode_mkovpu_a0a0c0c0a0a0a0h_1 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.BreakStatement", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                          SNode quotedNode1_mkovpu_a0a0c0c0a0a0a0h_1 = quotedNode_mkovpu_a0a0c0c0a0a0a0h_1;
                          quotedNode_mkovpu_a0a2a2a0a0a0a7_0.addChild("statement", quotedNode1_mkovpu_a0a0c0c0a0a0a0h_1);
                        }
                        quotedNode_mkovpu_a0c0c0a0a0a0h.addChild("ifTrue", quotedNode1_mkovpu_a0a2a2a0a0a0a7_0);
                      }
                      quotedNode_mkovpu_a2a2a0a0a0a7.addChild("statement", quotedNode1_mkovpu_a0c0c0a0a0a0h);
                    }
                    {
                      quotedNode_mkovpu_b0c0c0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.ExpressionStatement", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                      SNode quotedNode1_mkovpu_b0c0c0a0a0a0h = quotedNode_mkovpu_b0c0c0a0a0a0h;
                      {
                        quotedNode_mkovpu_a1a2a2a0a0a0a7 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.DotExpression", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                        SNode quotedNode1_mkovpu_a1a2a2a0a0a0a7 = quotedNode_mkovpu_a1a2a2a0a0a0a7;
                        {
                          quotedNode_mkovpu_a0b0c0c0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.LocalVariableReference", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                          SNode quotedNode1_mkovpu_a0b0c0c0a0a0a0h = quotedNode_mkovpu_a0b0c0c0a0a0a0h;
                          quotedNode_mkovpu_a1a2a2a0a0a0a7.addChild("operand", quotedNode1_mkovpu_a0b0c0c0a0a0a0h);
                        }
                        {
                          quotedNode_mkovpu_a0b0c0c0a0a0a0h_0 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.collections.structure.AddAllElementsOperation", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                          SNode quotedNode1_mkovpu_a0b0c0c0a0a0a0h_0 = quotedNode_mkovpu_a0b0c0c0a0a0a0h_0;
                          {
                            quotedNode_mkovpu_a0a1a2a2a0a0a0a7 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.DotExpression", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                            SNode quotedNode1_mkovpu_a0a1a2a2a0a0a0a7 = quotedNode_mkovpu_a0a1a2a2a0a0a0a7;
                            {
                              quotedNode_mkovpu_a0a0b0c0c0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.LocalVariableReference", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                              SNode quotedNode1_mkovpu_a0a0b0c0c0a0a0a0h = quotedNode_mkovpu_a0a0b0c0c0a0a0a0h;
                              quotedNode_mkovpu_a0a1a2a2a0a0a0a7.addChild("operand", quotedNode1_mkovpu_a0a0b0c0c0a0a0a0h);
                            }
                            {
                              quotedNode_mkovpu_a0a0b0c0c0a0a0a0h_0 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.smodel.structure.Node_GetDescendantsOperation", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                              SNode quotedNode1_mkovpu_a0a0b0c0c0a0a0a0h_0 = quotedNode_mkovpu_a0a0b0c0c0a0a0a0h_0;
                              quotedNode_mkovpu_a0a1a2a2a0a0a0a7.addChild("operation", quotedNode1_mkovpu_a0a0b0c0c0a0a0a0h_0);
                            }
                            quotedNode_mkovpu_a0b0c0c0a0a0a0h_0.addChild("argument", quotedNode1_mkovpu_a0a1a2a2a0a0a0a7);
                          }
                          quotedNode_mkovpu_a1a2a2a0a0a0a7.addChild("operation", quotedNode1_mkovpu_a0b0c0c0a0a0a0h_0);
                        }
                        quotedNode_mkovpu_b0c0c0a0a0a0h.addChild("expression", quotedNode1_mkovpu_a1a2a2a0a0a0a7);
                      }
                      quotedNode_mkovpu_a2a2a0a0a0a7.addChild("statement", quotedNode1_mkovpu_b0c0c0a0a0a0h);
                    }
                    quotedNode_mkovpu_c0c0a0a0a0h.addChild("body", quotedNode1_mkovpu_a2a2a0a0a0a7);
                  }
                  {
                    quotedNode_mkovpu_a2a2a0a0a0a7_0 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.DotExpression", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                    SNode quotedNode1_mkovpu_a2a2a0a0a0a7_0 = quotedNode_mkovpu_a2a2a0a0a0a7_0;
                    {
                      quotedNode_mkovpu_a0c0c0a0a0a0h_0 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.DotExpression", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                      SNode quotedNode1_mkovpu_a0c0c0a0a0a0h_0 = quotedNode_mkovpu_a0c0c0a0a0a0h_0;
                      {
                        quotedNode_mkovpu_a0a2a2a0a0a0a7_1 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.LocalVariableReference", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                        SNode quotedNode1_mkovpu_a0a2a2a0a0a0a7_1 = quotedNode_mkovpu_a0a2a2a0a0a0a7_1;
                        quotedNode_mkovpu_a0c0c0a0a0a0h_0.addChild("operand", quotedNode1_mkovpu_a0a2a2a0a0a0a7_1);
                      }
                      {
                        quotedNode_mkovpu_a0a2a2a0a0a0a7_2 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.smodel.structure.Node_GetChildrenOperation", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                        SNode quotedNode1_mkovpu_a0a2a2a0a0a0a7_2 = quotedNode_mkovpu_a0a2a2a0a0a0a7_2;
                        quotedNode_mkovpu_a0c0c0a0a0a0h_0.addChild("operation", quotedNode1_mkovpu_a0a2a2a0a0a0a7_2);
                      }
                      quotedNode_mkovpu_a2a2a0a0a0a7_0.addChild("operand", quotedNode1_mkovpu_a0c0c0a0a0a0h_0);
                    }
                    {
                      quotedNode_mkovpu_a0c0c0a0a0a0h_1 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.collections.structure.WhereOperation", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                      SNode quotedNode1_mkovpu_a0c0c0a0a0a0h_1 = quotedNode_mkovpu_a0c0c0a0a0a0h_1;
                      {
                        quotedNode_mkovpu_a0a2a2a0a0a0a7_3 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                        SNode quotedNode1_mkovpu_a0a2a2a0a0a0a7_3 = quotedNode_mkovpu_a0a2a2a0a0a0a7_3;
                        {
                          quotedNode_mkovpu_a0a0c0c0a0a0a0h_2 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.StatementList", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                          SNode quotedNode1_mkovpu_a0a0c0c0a0a0a0h_2 = quotedNode_mkovpu_a0a0c0c0a0a0a0h_2;
                          {
                            quotedNode_mkovpu_a0a0a2a2a0a0a0a7 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.ExpressionStatement", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                            SNode quotedNode1_mkovpu_a0a0a2a2a0a0a0a7 = quotedNode_mkovpu_a0a0a2a2a0a0a0a7;
                            {
                              quotedNode_mkovpu_a0a0a0c0c0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.DotExpression", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                              SNode quotedNode1_mkovpu_a0a0a0c0c0a0a0a0h = quotedNode_mkovpu_a0a0a0c0c0a0a0a0h;
                              {
                                quotedNode_mkovpu_a0a0a0a2a2a0a0a0a7 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.ParameterReference", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                                SNode quotedNode1_mkovpu_a0a0a0a2a2a0a0a0a7 = quotedNode_mkovpu_a0a0a0a2a2a0a0a0a7;
                                quotedNode_mkovpu_a0a0a0c0c0a0a0a0h.addChild("operand", quotedNode1_mkovpu_a0a0a0a2a2a0a0a0a7);
                              }
                              {
                                quotedNode_mkovpu_a0a0a0a2a2a0a0a0a7_0 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                                SNode quotedNode1_mkovpu_a0a0a0a2a2a0a0a0a7_0 = quotedNode_mkovpu_a0a0a0a2a2a0a0a0a7_0;
                                {
                                  quotedNode_mkovpu_a0a0a0a0c0c0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.smodel.structure.RefConcept_Reference", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                                  SNode quotedNode1_mkovpu_a0a0a0a0c0c0a0a0a0h = quotedNode_mkovpu_a0a0a0a0c0c0a0a0a0h;
                                  quotedNode1_mkovpu_a0a0a0a0c0c0a0a0a0h.setReferent("conceptDeclaration", (SNode) parameter_mkovpu_a0a0a0a0a0c0c0a0a0a0h);
                                  quotedNode_mkovpu_a0a0a0a2a2a0a0a0a7_0.addChild("conceptArgument", quotedNode1_mkovpu_a0a0a0a0c0c0a0a0a0h);
                                }
                                quotedNode_mkovpu_a0a0a0c0c0a0a0a0h.addChild("operation", quotedNode1_mkovpu_a0a0a0a2a2a0a0a0a7_0);
                              }
                              quotedNode_mkovpu_a0a0a2a2a0a0a0a7.addChild("expression", quotedNode1_mkovpu_a0a0a0c0c0a0a0a0h);
                            }
                            quotedNode_mkovpu_a0a0c0c0a0a0a0h_2.addChild("statement", quotedNode1_mkovpu_a0a0a2a2a0a0a0a7);
                          }
                          quotedNode_mkovpu_a0a2a2a0a0a0a7_3.addChild("body", quotedNode1_mkovpu_a0a0c0c0a0a0a0h_2);
                        }
                        {
                          quotedNode_mkovpu_a0a0c0c0a0a0a0h_3 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.collections.structure.SmartClosureParameterDeclaration", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                          SNode quotedNode1_mkovpu_a0a0c0c0a0a0a0h_3 = quotedNode_mkovpu_a0a0c0c0a0a0a0h_3;
                          quotedNode1_mkovpu_a0a0c0c0a0a0a0h_3.setProperty("name", "it");
                          {
                            quotedNode_mkovpu_a0a0a2a2a0a0a0a7_0 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.WildCardType", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                            SNode quotedNode1_mkovpu_a0a0a2a2a0a0a0a7_0 = quotedNode_mkovpu_a0a0a2a2a0a0a0a7_0;
                            quotedNode_mkovpu_a0a0c0c0a0a0a0h_3.addChild("type", quotedNode1_mkovpu_a0a0a2a2a0a0a0a7_0);
                          }
                          quotedNode_mkovpu_a0a2a2a0a0a0a7_3.addChild("parameter", quotedNode1_mkovpu_a0a0c0c0a0a0a0h_3);
                        }
                        quotedNode_mkovpu_a0c0c0a0a0a0h_1.addChild("closure", quotedNode1_mkovpu_a0a2a2a0a0a0a7_3);
                      }
                      quotedNode_mkovpu_a2a2a0a0a0a7_0.addChild("operation", quotedNode1_mkovpu_a0c0c0a0a0a0h_1);
                    }
                    quotedNode_mkovpu_c0c0a0a0a0h.addChild("iterable", quotedNode1_mkovpu_a2a2a0a0a0a7_0);
                  }
                  {
                    quotedNode_mkovpu_a2a2a0a0a0a7_1 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                    SNode quotedNode1_mkovpu_a2a2a0a0a0a7_1 = quotedNode_mkovpu_a2a2a0a0a0a7_1;
                    quotedNode1_mkovpu_a2a2a0a0a0a7_1.setProperty("name", "statement");
                    {
                      quotedNode_mkovpu_a0c0c0a0a0a0h_2 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.smodel.structure.SNodeType", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                      SNode quotedNode1_mkovpu_a0c0c0a0a0a0h_2 = quotedNode_mkovpu_a0c0c0a0a0a0h_2;
                      quotedNode_mkovpu_a2a2a0a0a0a7_1.addChild("type", quotedNode1_mkovpu_a0c0c0a0a0a0h_2);
                    }
                    quotedNode_mkovpu_c0c0a0a0a0h.addChild("variable", quotedNode1_mkovpu_a2a2a0a0a0a7_1);
                  }
                  quotedNode_mkovpu_a2a0a0a0a7_0.addChild("statement", quotedNode1_mkovpu_c0c0a0a0a0h);
                }
                {
                  quotedNode_mkovpu_d0c0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.ExpressionStatement", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                  SNode quotedNode1_mkovpu_d0c0a0a0a0h = quotedNode_mkovpu_d0c0a0a0a0h;
                  {
                    quotedNode_mkovpu_a3a2a0a0a0a7 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.AssignmentExpression", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                    SNode quotedNode1_mkovpu_a3a2a0a0a0a7 = quotedNode_mkovpu_a3a2a0a0a0a7;
                    {
                      quotedNode_mkovpu_a0d0c0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.DotExpression", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                      SNode quotedNode1_mkovpu_a0d0c0a0a0a0h = quotedNode_mkovpu_a0d0c0a0a0a0h;
                      {
                        quotedNode_mkovpu_a0a3a2a0a0a0a7 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.LocalVariableReference", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                        SNode quotedNode1_mkovpu_a0a3a2a0a0a0a7 = quotedNode_mkovpu_a0a3a2a0a0a0a7;
                        quotedNode_mkovpu_a0d0c0a0a0a0h.addChild("operand", quotedNode1_mkovpu_a0a3a2a0a0a0a7);
                      }
                      {
                        quotedNode_mkovpu_a0a3a2a0a0a0a7_0 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                        SNode quotedNode1_mkovpu_a0a3a2a0a0a0a7_0 = quotedNode_mkovpu_a0a3a2a0a0a0a7_0;
                        {
                          quotedNode_mkovpu_a0a0d0c0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.smodel.structure.OperationParm_Concept", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                          SNode quotedNode1_mkovpu_a0a0d0c0a0a0a0h = quotedNode_mkovpu_a0a0d0c0a0a0a0h;
                          {
                            quotedNode_mkovpu_a0a0a3a2a0a0a0a7 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.smodel.structure.RefConcept_Reference", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                            SNode quotedNode1_mkovpu_a0a0a3a2a0a0a0a7 = quotedNode_mkovpu_a0a0a3a2a0a0a0a7;
                            quotedNode1_mkovpu_a0a0a3a2a0a0a0a7.setReferent("conceptDeclaration", (SNode) parameter_mkovpu_a0a0a0a3a2a0a0a0a7);
                            quotedNode_mkovpu_a0a0d0c0a0a0a0h.addChild("conceptArgument", quotedNode1_mkovpu_a0a0a3a2a0a0a0a7);
                          }
                          quotedNode_mkovpu_a0a3a2a0a0a0a7_0.addChild("parameter", quotedNode1_mkovpu_a0a0d0c0a0a0a0h);
                        }
                        {
                          quotedNode_mkovpu_b0a0d0c0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.smodel.structure.OperationParm_Inclusion", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                          SNode quotedNode1_mkovpu_b0a0d0c0a0a0a0h = quotedNode_mkovpu_b0a0d0c0a0a0a0h;
                          quotedNode_mkovpu_a0a3a2a0a0a0a7_0.addChild("parameter", quotedNode1_mkovpu_b0a0d0c0a0a0a0h);
                        }
                        quotedNode_mkovpu_a0d0c0a0a0a0h.addChild("operation", quotedNode1_mkovpu_a0a3a2a0a0a0a7_0);
                      }
                      quotedNode_mkovpu_a3a2a0a0a0a7.addChild("rValue", quotedNode1_mkovpu_a0d0c0a0a0a0h);
                    }
                    {
                      quotedNode_mkovpu_a0d0c0a0a0a0h_0 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.LocalVariableReference", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                      SNode quotedNode1_mkovpu_a0d0c0a0a0a0h_0 = quotedNode_mkovpu_a0d0c0a0a0a0h_0;
                      quotedNode_mkovpu_a3a2a0a0a0a7.addChild("lValue", quotedNode1_mkovpu_a0d0c0a0a0a0h_0);
                    }
                    quotedNode_mkovpu_d0c0a0a0a0h.addChild("expression", quotedNode1_mkovpu_a3a2a0a0a0a7);
                  }
                  quotedNode_mkovpu_a2a0a0a0a7_0.addChild("statement", quotedNode1_mkovpu_d0c0a0a0a0h);
                }
                quotedNode_mkovpu_c0a0a0a0h.addChild("body", quotedNode1_mkovpu_a2a0a0a0a7_0);
              }
              quotedNode_mkovpu_a0a0a0a7.addChild("statement", quotedNode1_mkovpu_c0a0a0a0h);
            }
            {
              quotedNode_mkovpu_d0a0a0a0h = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.ReturnStatement", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
              SNode quotedNode1_mkovpu_d0a0a0a0h = quotedNode_mkovpu_d0a0a0a0h;
              {
                quotedNode_mkovpu_a3a0a0a0a7 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.baseLanguage.structure.LocalVariableReference", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
                SNode quotedNode1_mkovpu_a3a0a0a0a7 = quotedNode_mkovpu_a3a0a0a0a7;
                quotedNode_mkovpu_d0a0a0a0h.addChild("expression", quotedNode1_mkovpu_a3a0a0a0a7);
              }
              quotedNode_mkovpu_a0a0a0a7.addChild("statement", quotedNode1_mkovpu_d0a0a0a0h);
            }
            quotedNode_mkovpu_a0a0a0h.addChild("body", quotedNode1_mkovpu_a0a0a0a7);
          }
          quotedNode_mkovpu_a0a0a7.addChild("searchScopeFactory", quotedNode1_mkovpu_a0a0a0h);
        }
        result = quotedNode1_mkovpu_a0a0a7;
      }
      quotedNode_mkovpu_a3a0a0a0a7.setReferent("variableDeclaration", quotedNode_mkovpu_a0a0a0a0a7);
      quotedNode_mkovpu_a0c0a0a0a0h_0.setReferent("variableDeclaration", quotedNode_mkovpu_a1a0a0a0a7);
      quotedNode_mkovpu_a0b0c0a0a0a0h_0.setReferent("variableDeclaration", quotedNode_mkovpu_a0a2a0a0a0a7);
      quotedNode_mkovpu_a0d0c0a0a0a0h_0.setReferent("variableDeclaration", quotedNode_mkovpu_a1a0a0a0a7);
      quotedNode_mkovpu_a0a0a2a0a0a0a7.setReferent("variableDeclaration", quotedNode_mkovpu_a1a0a0a0a7);
      quotedNode_mkovpu_a0a2a2a0a0a0a7_1.setReferent("variableDeclaration", quotedNode_mkovpu_a0a2a0a0a0a7);
      quotedNode_mkovpu_a0a3a2a0a0a0a7.setReferent("variableDeclaration", quotedNode_mkovpu_a0a2a0a0a0a7);
      quotedNode_mkovpu_a0a0c0c0a0a0a0h.setReferent("variableDeclaration", quotedNode_mkovpu_a1a0a0a0a7);
      quotedNode_mkovpu_a0a0c0c0a0a0a0h_0.setReferent("variableDeclaration", quotedNode_mkovpu_a2a2a0a0a0a7_1);
      quotedNode_mkovpu_a0b0c0c0a0a0a0h.setReferent("variableDeclaration", quotedNode_mkovpu_a0a0a0a0a7);
      quotedNode_mkovpu_a0a0b0c0c0a0a0a0h.setReferent("variableDeclaration", quotedNode_mkovpu_a2a2a0a0a0a7_1);
      quotedNode_mkovpu_a0a0a0a2a2a0a0a0a7.setReferent("variableDeclaration", quotedNode_mkovpu_a0a0c0c0a0a0a0h_3);
      return result;
    }
  }

  public static class QuotationClass_mkovpu_a0a0a0c0h {
    public QuotationClass_mkovpu_a0a0a0c0h() {
    }

    public SNode createNode(Object parameter_mkovpu_a0a0a0a0c0g) {
      SNode result = null;
      Set<SNode> _parameterValues_129834374 = new HashSet<SNode>();
      SNode quotedNode_mkovpu_a0a0a0c0g = null;
      {
        quotedNode_mkovpu_a0a0a0c0g = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.lang.smodel.structure.ConceptReference", TypeChecker.getInstance().getRuntimeTypesModel(), GlobalScope.getInstance(), false);
        SNode quotedNode1_mkovpu_a0a0a0c0g = quotedNode_mkovpu_a0a0a0c0g;
        quotedNode1_mkovpu_a0a0a0c0g.setReferent("concept", (SNode) parameter_mkovpu_a0a0a0a0c0g);
        result = quotedNode1_mkovpu_a0a0a0c0g;
      }
      return result;
    }
  }
}
