<?xml version="1.0" encoding="UTF-8"?>
<model modelUID="r:00000000-0000-4000-0000-011c895902a4(jetbrains.mps.lang.actions.constraints)">
  <persistence version="3" />
  <refactoringHistory />
  <language namespace="3f4bc5f5-c6c1-4a28-8b10-c83066ffa4a1(jetbrains.mps.lang.constraints)" />
  <language namespace="f3061a53-9226-4cc5-a443-f952ceaf5816(jetbrains.mps.baseLanguage)" />
  <language namespace="7866978e-a0f0-4cc7-81bc-4d213d9375e1(jetbrains.mps.lang.smodel)" />
  <language namespace="13744753-c81f-424a-9c1b-cf8943bf4e86(jetbrains.mps.lang.sharedConcepts)" />
  <language namespace="83888646-71ce-4f1c-9c53-c54016f6ad4f(jetbrains.mps.baseLanguage.collections)" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590307(jetbrains.mps.lang.constraints.constraints)" version="9" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959030d(jetbrains.mps.lang.constraints.structure)" version="8" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902c1(jetbrains.mps.baseLanguage.constraints)" version="83" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ca(jetbrains.mps.baseLanguage.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902fb(jetbrains.mps.lang.smodel.constraints)" version="21" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590301(jetbrains.mps.lang.smodel.structure)" version="16" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ba(jetbrains.mps.lang.sharedConcepts.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ae(jetbrains.mps.lang.typesystem.constraints)" version="17" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590328(jetbrains.mps.baseLanguage.collections.constraints)" version="6" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959032e(jetbrains.mps.baseLanguage.collections.structure)" version="7" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590338(jetbrains.mps.baseLanguage.closures.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590340(jetbrains.mps.lang.pattern.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959028c(jetbrains.mps.lang.structure.constraints)" version="11" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902a4(jetbrains.mps.lang.actions.constraints)" version="16" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590334(jetbrains.mps.baseLanguage.closures.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590283(jetbrains.mps.lang.core.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895903e4(jetbrains.mps.internal.collections.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902a8(jetbrains.mps.lang.actions.structure)" version="23" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902db(jetbrains.mps.baseLanguage.blTypes.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590292(jetbrains.mps.lang.structure.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902bc(jetbrains.mps.lang.sharedConcepts.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959033d(jetbrains.mps.lang.annotations.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959034b(jetbrains.mps.lang.quotation.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590345(jetbrains.mps.lang.pattern.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902b4(jetbrains.mps.lang.typesystem.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895903fe(jetbrains.mps.baseLanguage.strings.constraints)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590402(jetbrains.mps.baseLanguage.strings.structure)" version="9" />
  <maxImportIndex value="16" />
  <import index="1" modelUID="r:00000000-0000-4000-0000-011c895902a8(jetbrains.mps.lang.actions.structure)" version="23" />
  <import index="6" modelUID="f:java_stub#jetbrains.mps.smodel.search(jetbrains.mps.smodel.search@java_stub)" version="-1" />
  <import index="8" modelUID="f:java_stub#jetbrains.mps.smodel(jetbrains.mps.smodel@java_stub)" version="-1" />
  <import index="16" modelUID="r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)" version="0" />
  <node type="jetbrains.mps.lang.constraints.structure.ConceptConstraints" id="1213104855837">
    <link role="concept" targetNodeId="1.1178541723620" resolveInfo="SubstituteNodeBuilderVariableReference" />
    <node role="referent" type="jetbrains.mps.lang.constraints.structure.NodeReferentConstraint" id="1213104855838">
      <link role="applicableLink" targetNodeId="1.1178541757413" />
      <node role="searchScopeFactory" type="jetbrains.mps.lang.constraints.structure.ConstraintFunction_ReferentSearchScope_Factory" id="1213104855839">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1213104855840">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1213104855841">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1213104855842">
              <property name="name" value="builder" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1213104855843">
                <link role="concept" targetNodeId="1.1112058030570" resolveInfo="NodeSubstituteActionsBuilder" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1213104855844">
                <node role="operand" type="jetbrains.mps.lang.constraints.structure.ConceptParameter_ReferentSearchScope_enclosingNode" id="1213104855845" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1213104855846">
                  <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1213104855847">
                    <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1213104855848">
                      <link role="conceptDeclaration" targetNodeId="1.1112058030570" resolveInfo="NodeSubstituteActionsBuilder" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1213104855849">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1213104855850">
              <property name="name" value="vars" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="1213104855851">
                <link role="elementConcept" targetNodeId="1.1178539929008" resolveInfo="SubstituteNodeBuilderVariableDeclaration" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1213104855852">
                <node role="creator" type="jetbrains.mps.lang.smodel.structure.SNodeListCreator" id="1213104855853">
                  <node role="createdType" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="1213104855854">
                    <link role="elementConcept" targetNodeId="1.1178539929008" resolveInfo="SubstituteNodeBuilderVariableDeclaration" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1213104855855">
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1213104855856">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1213104855857">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1213104855858">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1213104855859">
                    <link role="variableDeclaration" targetNodeId="1213104855850" resolveInfo="vars" />
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.AddAllElementsOperation" id="1213104855860">
                    <node role="argument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1213104855861">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1213104855862">
                        <link role="variableDeclaration" targetNodeId="1213104855842" resolveInfo="builder" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkListAccess" id="1213104855863">
                        <link role="link" targetNodeId="1.1178540170602" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1213104855864">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1213104855865" />
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1213104855866">
                <link role="variableDeclaration" targetNodeId="1213104855842" resolveInfo="builder" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1213104855867">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1213104855869">
              <link role="variableDeclaration" targetNodeId="1213104855850" resolveInfo="vars" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.constraints.structure.ConceptConstraints" id="1213104859086">
    <link role="concept" targetNodeId="1.1203348041101" resolveInfo="RightTransformVariableReference" />
    <node role="referent" type="jetbrains.mps.lang.constraints.structure.NodeReferentConstraint" id="1213104859087">
      <link role="applicableLink" targetNodeId="1.1203348041102" />
      <node role="searchScopeFactory" type="jetbrains.mps.lang.constraints.structure.ConstraintFunction_ReferentSearchScope_Factory" id="1213104859088">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1213104859089">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1213104859090">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1213104859091">
              <property name="name" value="vars" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="1213104859092">
                <link role="elementConcept" targetNodeId="1.1203347547493" resolveInfo="RightTransformVariableDeclaration" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1213104859093">
                <node role="creator" type="jetbrains.mps.lang.smodel.structure.SNodeListCreator" id="1213104859094">
                  <node role="createdType" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="1213104859095">
                    <link role="elementConcept" targetNodeId="1.1203347547493" resolveInfo="RightTransformVariableDeclaration" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1213104859096">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1213104859097">
              <property name="name" value="builder" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1213104859098">
                <link role="concept" targetNodeId="1.1138079221458" resolveInfo="RTransformHintSubstituteActionsBuilder" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1213104859099">
                <node role="operand" type="jetbrains.mps.lang.constraints.structure.ConceptParameter_ReferentSearchScope_enclosingNode" id="1213104859100" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1213104859101">
                  <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Inclusion" id="1213104859102" />
                  <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1213104859103">
                    <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1213104859104">
                      <link role="conceptDeclaration" targetNodeId="1.1138079221458" resolveInfo="RTransformHintSubstituteActionsBuilder" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1213104859105">
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1213104859106">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1213104859107">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1213104859108">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1213104859109">
                    <link role="variableDeclaration" targetNodeId="1213104859091" resolveInfo="vars" />
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.AddAllElementsOperation" id="1213104859110">
                    <node role="argument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1213104859111">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1213104859112">
                        <link role="variableDeclaration" targetNodeId="1213104859097" resolveInfo="builder" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkListAccess" id="1213104859113">
                        <link role="link" targetNodeId="1.1203347873675" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1213104859114">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1213104859115" />
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1213104859116">
                <link role="variableDeclaration" targetNodeId="1213104859097" resolveInfo="builder" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1213104859117">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1213104859119">
              <link role="variableDeclaration" targetNodeId="1213104859091" resolveInfo="vars" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.constraints.structure.ConceptConstraints" id="1213104859350">
    <link role="concept" targetNodeId="1.1158700725281" resolveInfo="NodeFactory" />
    <node role="property" type="jetbrains.mps.lang.constraints.structure.NodePropertyConstraint" id="1213104859351">
      <link role="applicableProperty" targetNodeId="16.1156235010670" resolveInfo="alias" />
      <node role="propertyGetter" type="jetbrains.mps.lang.constraints.structure.ConstraintFunction_PropertyGetter" id="1213104859352">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1213104859353">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1213104859354">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.PlusExpression" id="1213104859355">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1213104859356">
                <node role="operand" type="jetbrains.mps.lang.constraints.structure.ConstraintsFunctionParameter_node" id="1213104859357" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1213104859358">
                  <link role="link" targetNodeId="1.1158700943156" />
                </node>
              </node>
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1213104859359">
                <property name="value" value="factory for " />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="referent" type="jetbrains.mps.lang.constraints.structure.NodeReferentConstraint" id="1213104859360">
      <link role="applicableLink" targetNodeId="1.1158700943156" />
      <node role="searchScopeFactory" type="jetbrains.mps.lang.constraints.structure.ConstraintFunction_ReferentSearchScope_Factory" id="1213104859361">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1213104859362">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.SingleLineComment" id="7376433222636453539">
            <node role="commentPart" type="jetbrains.mps.baseLanguage.structure.TextCommentPart" id="7376433222636453540">
              <property name="text" value="concepts from this language" />
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1213104859363">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1213104859364">
              <property name="name" value="language" />
              <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1213104859365">
                <link role="classifier" targetNodeId="8.~Language" resolveInfo="Language" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1213104859366">
                <link role="baseMethodDeclaration" targetNodeId="8.~Language.getLanguageForLanguageAspect(jetbrains.mps.smodel.SModelDescriptor):jetbrains.mps.smodel.Language" resolveInfo="getLanguageForLanguageAspect" />
                <link role="classConcept" targetNodeId="8.~Language" resolveInfo="Language" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1213104859367">
                  <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1213104859368">
                    <node role="leftExpression" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1213104859369" />
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1213104859370">
                    <link role="baseMethodDeclaration" targetNodeId="8.~SModel.getModelDescriptor():jetbrains.mps.smodel.SModelDescriptor" resolveInfo="getModelDescriptor" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1213104859371">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1213104859372">
              <property name="name" value="structureModel" />
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1213104859374">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1213104859375">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1213104859376">
                    <link role="variableDeclaration" targetNodeId="1213104859364" resolveInfo="language" />
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1213104859377">
                    <link role="baseMethodDeclaration" targetNodeId="8.~Language.getStructureModelDescriptor():jetbrains.mps.smodel.SModelDescriptor" resolveInfo="getStructureModelDescriptor" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1213104859378">
                  <link role="baseMethodDeclaration" targetNodeId="8.~SModelDescriptor.getSModel():jetbrains.mps.smodel.SModel" resolveInfo="getSModel" />
                </node>
              </node>
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SModelType" id="1239568349770" />
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1213104859379">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1217377949673">
              <node role="creator" type="jetbrains.mps.baseLanguage.structure.ClassCreator" id="1217377949675">
                <link role="baseMethodDeclaration" targetNodeId="6.~ModelNodesSearchScope.&lt;init&gt;(jetbrains.mps.smodel.SModel)" resolveInfo="ModelNodesSearchScope" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1213104859381">
                  <link role="variableDeclaration" targetNodeId="1213104859372" resolveInfo="structureModel" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.constraints.structure.ConceptConstraints" id="1227088772782">
    <link role="concept" targetNodeId="1.1158700664498" resolveInfo="NodeFactories" />
    <node role="canBeRoot" type="jetbrains.mps.lang.constraints.structure.ConstraintFunction_CanBeARoot" id="1227088774549">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227088774550">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227088774989">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227088774990">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.EnumConstantReference" id="1227088778820">
              <link role="enumConstantDeclaration" targetNodeId="8.~LanguageAspect.ACTIONS" resolveInfo="ACTIONS" />
              <link role="enumClass" targetNodeId="8.~LanguageAspect" resolveInfo="LanguageAspect" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227088774992">
              <link role="baseMethodDeclaration" targetNodeId="8.~LanguageAspect.is(jetbrains.mps.smodel.SModel):boolean" resolveInfo="is" />
              <node role="actualArgument" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1227088774993" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.constraints.structure.ConceptConstraints" id="1227088788504">
    <link role="concept" targetNodeId="1.1112056943463" resolveInfo="NodeSubstituteActions" />
    <node role="canBeRoot" type="jetbrains.mps.lang.constraints.structure.ConstraintFunction_CanBeARoot" id="1227088789865">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227088789866">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227088789867">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227088789868">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.EnumConstantReference" id="1227088789869">
              <link role="enumClass" targetNodeId="8.~LanguageAspect" resolveInfo="LanguageAspect" />
              <link role="enumConstantDeclaration" targetNodeId="8.~LanguageAspect.ACTIONS" resolveInfo="ACTIONS" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227088789870">
              <link role="baseMethodDeclaration" targetNodeId="8.~LanguageAspect.is(jetbrains.mps.smodel.SModel):boolean" resolveInfo="is" />
              <node role="actualArgument" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1227088789871" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.constraints.structure.ConceptConstraints" id="1227088799046">
    <link role="concept" targetNodeId="1.1221135252814" resolveInfo="PasteWrappers" />
    <node role="canBeRoot" type="jetbrains.mps.lang.constraints.structure.ConstraintFunction_CanBeARoot" id="1227088800234">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227088800235">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227088800236">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227088800237">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.EnumConstantReference" id="1227088800238">
              <link role="enumClass" targetNodeId="8.~LanguageAspect" resolveInfo="LanguageAspect" />
              <link role="enumConstantDeclaration" targetNodeId="8.~LanguageAspect.ACTIONS" resolveInfo="ACTIONS" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227088800239">
              <link role="baseMethodDeclaration" targetNodeId="8.~LanguageAspect.is(jetbrains.mps.smodel.SModel):boolean" resolveInfo="is" />
              <node role="actualArgument" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1227088800240" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.constraints.structure.ConceptConstraints" id="1227088806632">
    <link role="concept" targetNodeId="1.1138079416598" resolveInfo="SideTransformHintSubstituteActions" />
    <node role="canBeRoot" type="jetbrains.mps.lang.constraints.structure.ConstraintFunction_CanBeARoot" id="1227088809666">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227088809667">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227088809668">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227088809669">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.EnumConstantReference" id="1227088809670">
              <link role="enumClass" targetNodeId="8.~LanguageAspect" resolveInfo="LanguageAspect" />
              <link role="enumConstantDeclaration" targetNodeId="8.~LanguageAspect.ACTIONS" resolveInfo="ACTIONS" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1227088809671">
              <link role="baseMethodDeclaration" targetNodeId="8.~LanguageAspect.is(jetbrains.mps.smodel.SModel):boolean" resolveInfo="is" />
              <node role="actualArgument" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1227088809672" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.constraints.structure.ConceptConstraints" id="1235053871244">
    <link role="concept" targetNodeId="1.1235053713157" resolveInfo="SmartActionParameterReference" />
    <node role="referent" type="jetbrains.mps.lang.constraints.structure.NodeReferentConstraint" id="1235053872698">
      <link role="applicableLink" targetNodeId="1.1235053754581" />
      <node role="searchScopeFactory" type="jetbrains.mps.lang.constraints.structure.ConstraintFunction_ReferentSearchScope_Factory" id="1235053874371">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1235053874372">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1235053906821">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1235053906822">
              <property name="name" value="ancestor" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1235053906823">
                <link role="concept" targetNodeId="1.1235051221371" resolveInfo="GenerateCodeAction" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1235053906824">
                <node role="operand" type="jetbrains.mps.lang.constraints.structure.ConceptParameter_ReferentSearchScope_enclosingNode" id="1235053906825" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1235053906826">
                  <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1235053906827">
                    <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1235053906828">
                      <link role="conceptDeclaration" targetNodeId="1.1235051221371" resolveInfo="GenerateCodeAction" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1235054537946">
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1235054537947">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1235054548815">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1235054601225">
                  <node role="creator" type="jetbrains.mps.baseLanguage.collections.structure.SequenceCreator" id="1235054607102">
                    <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1235054619025" />
                  </node>
                </node>
              </node>
            </node>
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1235054541935">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1235054539825">
                <link role="variableDeclaration" targetNodeId="1235053906822" resolveInfo="ancestor" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsNullOperation" id="1235054545236" />
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1235054475481">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1235054478594">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1235054477687">
                <link role="variableDeclaration" targetNodeId="1235053906822" resolveInfo="ancestor" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkListAccess" id="1235054481176">
                <link role="link" targetNodeId="1.1235053836789" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.constraints.structure.ConceptConstraints" id="1371735981988471172">
    <property name="package" value="menuBuilderParts" />
    <link role="concept" targetNodeId="1.1177333529597" resolveInfo="ConceptPart" />
  </node>
  <node type="jetbrains.mps.lang.constraints.structure.ConceptConstraints" id="1371735981988471173">
    <property name="package" value="menuParts.RightTransform" />
    <link role="concept" targetNodeId="1.1177496137779" resolveInfo="SideTransformMenuPart" />
    <node role="canBeChild" type="jetbrains.mps.lang.constraints.structure.ConstraintFunction_CanBeAChild" id="1371735981988471174">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1371735981988471175">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1371735981988471176">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1371735981988471187">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1371735981988471190" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1371735981988471178">
              <node role="operand" type="jetbrains.mps.lang.constraints.structure.ConstraintFunctionParameter_parentNode" id="1371735981988471177" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1371735981988471182">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1371735981988471183">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1371735981988471186">
                    <link role="conceptDeclaration" targetNodeId="1.1138079221458" resolveInfo="SideTransformHintSubstituteActionsBuilder" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.constraints.structure.ConceptConstraints" id="1371735981988685426">
    <property name="package" value="menuParts.Substitute" />
    <link role="concept" targetNodeId="1.1177323652379" resolveInfo="SubstituteMenuPart" />
    <node role="canBeChild" type="jetbrains.mps.lang.constraints.structure.ConstraintFunction_CanBeAChild" id="1371735981988685427">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1371735981988685428">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1371735981988685430">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1371735981988685431">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1371735981988685432" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1371735981988685433">
              <node role="operand" type="jetbrains.mps.lang.constraints.structure.ConstraintFunctionParameter_parentNode" id="1371735981988685434" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1371735981988685435">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1371735981988685436">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1371735981988686005">
                    <link role="conceptDeclaration" targetNodeId="1.1112058030570" resolveInfo="NodeSubstituteActionsBuilder" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
</model>

