<?xml version="1.0" encoding="UTF-8"?>
<model modelUID="r:00000000-0000-4000-0000-011c89590317(jetbrains.mps.lang.refactoring.plugin)">
  <persistence version="3" />
  <refactoringHistory />
  <language namespace="28f9e497-3b42-4291-aeba-0a1039153ab1(jetbrains.mps.lang.plugin)" />
  <language namespace="f3061a53-9226-4cc5-a443-f952ceaf5816(jetbrains.mps.baseLanguage)" />
  <language namespace="443f4c36-fcf5-4eb6-9500-8d06ed259e3e(jetbrains.mps.baseLanguage.classifiers)" />
  <language namespace="7866978e-a0f0-4cc7-81bc-4d213d9375e1(jetbrains.mps.lang.smodel)" />
  <language namespace="83888646-71ce-4f1c-9c53-c54016f6ad4f(jetbrains.mps.baseLanguage.collections)" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590361(jetbrains.mps.lang.plugin.constraints)" version="19" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590368(jetbrains.mps.lang.plugin.structure)" version="19" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902c1(jetbrains.mps.baseLanguage.constraints)" version="83" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ca(jetbrains.mps.baseLanguage.structure)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959036e(jetbrains.mps.baseLanguage.classifiers.constraints)" version="7" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902fb(jetbrains.mps.lang.smodel.constraints)" version="21" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590301(jetbrains.mps.lang.smodel.structure)" version="16" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590328(jetbrains.mps.baseLanguage.collections.constraints)" version="6" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959032e(jetbrains.mps.baseLanguage.collections.structure)" version="4" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959035b(jetbrains.mps.lang.findUsages.structure)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590338(jetbrains.mps.baseLanguage.closures.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590298(jetbrains.mps.lang.editor.constraints)" version="21" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959028c(jetbrains.mps.lang.structure.constraints)" version="11" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590358(jetbrains.mps.lang.findUsages.constraints)" version="4" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590313(jetbrains.mps.lang.refactoring.constraints)" version="4" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590334(jetbrains.mps.baseLanguage.closures.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590283(jetbrains.mps.lang.core.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895903e4(jetbrains.mps.internal.collections.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959029e(jetbrains.mps.lang.editor.structure)" version="32" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902db(jetbrains.mps.baseLanguage.blTypes.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590292(jetbrains.mps.lang.structure.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590319(jetbrains.mps.lang.refactoring.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895903fe(jetbrains.mps.baseLanguage.strings.constraints)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590402(jetbrains.mps.baseLanguage.strings.structure)" version="9" />
  <maxImportIndex value="17" />
  <import index="2" modelUID="f:java_stub#jetbrains.mps.refactoring.framework(jetbrains.mps.refactoring.framework@java_stub)" version="-1" />
  <import index="5" modelUID="f:java_stub#jetbrains.mps.ide.projectPane(jetbrains.mps.ide.projectPane@java_stub)" version="-1" />
  <import index="10" modelUID="f:java_stub#jetbrains.mps.refactoring.plugin(jetbrains.mps.refactoring.plugin@java_stub)" version="-1" />
  <import index="12" modelUID="f:java_stub#jetbrains.mps.workbench.action(jetbrains.mps.workbench.action@java_stub)" version="-1" />
  <import index="13" modelUID="f:java_stub#jetbrains.mps.nodeEditor(jetbrains.mps.nodeEditor@java_stub)" version="-1" />
  <import index="14" modelUID="f:java_stub#com.intellij.openapi.actionSystem(com.intellij.openapi.actionSystem@java_stub)" version="-1" />
  <import index="15" modelUID="f:java_stub#jetbrains.mps.workbench.actions.language(jetbrains.mps.workbench.actions.language@java_stub)" version="-1" />
  <import index="16" modelUID="f:java_stub#java.util(java.util@java_stub)" version="-1" />
  <import index="17" modelUID="f:java_stub#java.lang(java.lang@java_stub)" version="-1" />
  <visible index="2" modelUID="r:00000000-0000-4000-0000-011c895904a4(jetbrains.mps.ide.actions)" />
  <node type="jetbrains.mps.lang.plugin.structure.ActionGroupDeclaration" id="1229259662341">
    <property name="name" value="Refactoring" />
    <property name="isPopup" value="true" />
    <property name="caption" value="Refactoring" />
    <property name="isInvisibleWhenDisabled" value="true" />
    <node role="modifier" type="jetbrains.mps.lang.plugin.structure.ModificationStatement" id="1229259747550">
      <link role="modifiedGroup" targetNodeId="2v.1204991215587" resolveInfo="NodeActions" />
    </node>
    <node role="modifier" type="jetbrains.mps.lang.plugin.structure.ModificationStatement" id="1229259773023">
      <link role="modifiedGroup" targetNodeId="2v.1204991231476" resolveInfo="EditorPopup" />
    </node>
    <node role="contents" type="jetbrains.mps.lang.plugin.structure.UpdateGroupBlock" id="1239976637043">
      <node role="updateFunction" type="jetbrains.mps.lang.plugin.structure.UpdateGroupFunction" id="1239976637044">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1239801940203">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1239802057559">
            <property name="value" value="todo remove update code when IDEA will fix their bug (in next platform build, after 15.04.2009)" />
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1239802629305">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1239802629306">
              <property name="name" value="children" />
              <node role="type" type="jetbrains.mps.baseLanguage.structure.ArrayType" id="1239802629307">
                <node role="componentType" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1239802629308">
                  <link role="classifier" targetNodeId="14.~AnAction" resolveInfo="AnAction" />
                </node>
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1239802629309">
                <node role="operand" type="jetbrains.mps.baseLanguage.classifiers.structure.ThisClassifierExpresson" id="1239802629310" />
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1239802629311">
                  <link role="baseMethodDeclaration" targetNodeId="14.~DefaultActionGroup.getChildren(com.intellij.openapi.actionSystem.AnActionEvent):com.intellij.openapi.actionSystem.AnAction[]" resolveInfo="getChildren" />
                  <node role="actualArgument" type="jetbrains.mps.lang.plugin.structure.ConceptFunctionParameter_AnActionEvent" id="1239802629312" />
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1239803118358">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1239803118359">
              <property name="name" value="ragAdded" />
              <node role="type" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1239803118360" />
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1239803126675">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ForeachStatement" id="1239802763971">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1239802763972">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1239803133599">
                <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1239803133600">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1239803143248">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1239803144469">
                      <node role="rValue" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1239803144785">
                        <property name="value" value="true" />
                      </node>
                      <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1239803143249">
                        <link role="variableDeclaration" targetNodeId="1239803118359" resolveInfo="ragAdded" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="condition" type="jetbrains.mps.baseLanguage.structure.InstanceOfExpression" id="1239803137729">
                  <node role="classType" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1239803139857">
                    <link role="classifier" targetNodeId="10.~RefactoringActionGroup" resolveInfo="RefactoringActionGroup" />
                  </node>
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1239803136196">
                    <link role="variableDeclaration" targetNodeId="1239802763979" resolveInfo="child" />
                  </node>
                </node>
              </node>
            </node>
            <node role="iterable" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1239802763978">
              <link role="variableDeclaration" targetNodeId="1239802629306" resolveInfo="children" />
            </node>
            <node role="variable" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1239802763979">
              <property name="name" value="child" />
              <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1239802763980">
                <link role="classifier" targetNodeId="14.~AnAction" resolveInfo="AnAction" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1239801998362">
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1239801998363">
              <node role="statement" type="jetbrains.mps.lang.plugin.structure.AddElementStatement" id="1239802046381">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1239802046382">
                  <node role="creator" type="jetbrains.mps.lang.plugin.structure.ParameterizedActionCreator" id="1239802046383">
                    <link role="constructorDeclaration" targetNodeId="10.~RefactoringActionGroup.&lt;init&gt;(jetbrains.mps.refactoring.framework.RefactoringTarget)" resolveInfo="RefactoringActionGroup" />
                    <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.EnumConstantReference" id="1239802046384">
                      <link role="enumClass" targetNodeId="2.~RefactoringTarget" resolveInfo="RefactoringTarget" />
                      <link role="enumConstantDeclaration" targetNodeId="2.~RefactoringTarget.NODE" resolveInfo="NODE" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="1239803150849">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1239803152164">
                <link role="variableDeclaration" targetNodeId="1239803118359" resolveInfo="ragAdded" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ForeachStatement" id="1239802363350">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1239802363351">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1239802638366">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1239802638759">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1239802638367">
                    <link role="variableDeclaration" targetNodeId="1239802363354" resolveInfo="child" />
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1239802641372">
                    <link role="baseMethodDeclaration" targetNodeId="14.~AnAction.update(com.intellij.openapi.actionSystem.AnActionEvent):void" resolveInfo="update" />
                    <node role="actualArgument" type="jetbrains.mps.lang.plugin.structure.ConceptFunctionParameter_AnActionEvent" id="1239802643201" />
                  </node>
                </node>
              </node>
            </node>
            <node role="iterable" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1239802635298">
              <link role="variableDeclaration" targetNodeId="1239802629306" resolveInfo="children" />
            </node>
            <node role="variable" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1239802363354">
              <property name="name" value="child" />
              <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1239802612317">
                <link role="classifier" targetNodeId="14.~AnAction" resolveInfo="AnAction" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.plugin.structure.ApplicationPluginDeclaration" id="1239969476955">
    <property name="name" value="RefactoringActionGroupFirstUpdate" />
    <node role="initBlock" type="jetbrains.mps.lang.plugin.structure.ApplicationPluginInitBlock" id="1239969500565">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1239969500566">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1239969823688">
          <property name="value" value="todo remove update code when IDEA will fix their bug (in next platform build, after 15.04.2009)" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ForeachStatement" id="1239969773410">
          <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1239969773411">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1239969791789">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1239969791790">
                <node role="creator" type="jetbrains.mps.baseLanguage.structure.ClassCreator" id="1239969791791">
                  <link role="baseMethodDeclaration" targetNodeId="10.~RefactoringActionGroup.&lt;init&gt;(jetbrains.mps.refactoring.framework.RefactoringTarget)" resolveInfo="RefactoringActionGroup" />
                  <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1239969798409">
                    <link role="variableDeclaration" targetNodeId="1239969773414" resolveInfo="value" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="iterable" type="jetbrains.mps.baseLanguage.structure.EnumValuesExpression" id="1239969788361">
            <link role="enumClass" targetNodeId="2.~RefactoringTarget" resolveInfo="RefactoringTarget" />
          </node>
          <node role="variable" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1239969773414">
            <property name="name" value="value" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1239969781293">
              <link role="classifier" targetNodeId="2.~RefactoringTarget" resolveInfo="RefactoringTarget" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
</model>

