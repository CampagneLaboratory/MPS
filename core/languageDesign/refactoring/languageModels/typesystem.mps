<?xml version="1.0" encoding="UTF-8"?>
<model modelUID="r:00000000-0000-4000-0000-011c89590316(jetbrains.mps.lang.refactoring.typesystem)">
  <persistence version="3" />
  <refactoringHistory />
  <language namespace="7a5dda62-9140-4668-ab76-d5ed1746f2b2(jetbrains.mps.lang.typesystem)" />
  <language namespace="7866978e-a0f0-4cc7-81bc-4d213d9375e1(jetbrains.mps.lang.smodel)" />
  <language namespace="f3061a53-9226-4cc5-a443-f952ceaf5816(jetbrains.mps.baseLanguage)" />
  <language namespace="3a13115c-633c-4c5c-bbcc-75c4219e9555(jetbrains.mps.lang.quotation)" />
  <language namespace="83888646-71ce-4f1c-9c53-c54016f6ad4f(jetbrains.mps.baseLanguage.collections)" />
  <language namespace="ceab5195-25ea-4f22-9b92-103b95ca8c0c(jetbrains.mps.lang.core)" />
  <language namespace="3ecd7c84-cde3-45de-886c-135ecc69b742(jetbrains.mps.lang.refactoring)" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ae(jetbrains.mps.lang.typesystem.constraints)" version="17" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902fb(jetbrains.mps.lang.smodel.constraints)" version="21" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590301(jetbrains.mps.lang.smodel.structure)" version="16" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902c1(jetbrains.mps.baseLanguage.constraints)" version="83" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ca(jetbrains.mps.baseLanguage.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590328(jetbrains.mps.baseLanguage.collections.constraints)" version="6" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959032e(jetbrains.mps.baseLanguage.collections.structure)" version="7" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590313(jetbrains.mps.lang.refactoring.constraints)" version="4" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590340(jetbrains.mps.lang.pattern.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590283(jetbrains.mps.lang.core.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959030d(jetbrains.mps.lang.constraints.structure)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959035b(jetbrains.mps.lang.findUsages.structure)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590338(jetbrains.mps.baseLanguage.closures.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590298(jetbrains.mps.lang.editor.constraints)" version="21" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959028c(jetbrains.mps.lang.structure.constraints)" version="11" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ba(jetbrains.mps.lang.sharedConcepts.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959034f(jetbrains.mps.lang.intentions.constraints)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590358(jetbrains.mps.lang.findUsages.constraints)" version="4" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590334(jetbrains.mps.baseLanguage.closures.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895903e4(jetbrains.mps.internal.collections.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959029e(jetbrains.mps.lang.editor.structure)" version="32" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902db(jetbrains.mps.baseLanguage.blTypes.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590292(jetbrains.mps.lang.structure.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590319(jetbrains.mps.lang.refactoring.structure)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959033d(jetbrains.mps.lang.annotations.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959034b(jetbrains.mps.lang.quotation.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590345(jetbrains.mps.lang.pattern.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902b4(jetbrains.mps.lang.typesystem.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895903fe(jetbrains.mps.baseLanguage.strings.constraints)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590402(jetbrains.mps.baseLanguage.strings.structure)" version="9" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902bc(jetbrains.mps.lang.sharedConcepts.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590353(jetbrains.mps.lang.intentions.structure)" version="8" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959036e(jetbrains.mps.baseLanguage.classifiers.constraints)" version="7" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590373(jetbrains.mps.baseLanguage.classifiers.structure)" version="0" />
  <maxImportIndex value="10" />
  <import index="1" modelUID="r:00000000-0000-4000-0000-011c89590319(jetbrains.mps.lang.refactoring.structure)" version="1" />
  <import index="7" modelUID="f:java_stub#jetbrains.mps.smodel(jetbrains.mps.smodel@java_stub)" version="-1" />
  <import index="8" modelUID="f:java_stub#jetbrains.mps.ide.findusages.model(jetbrains.mps.ide.findusages.model@java_stub)" version="-1" />
  <import index="9" modelUID="f:java_stub#jetbrains.mps.project(jetbrains.mps.project@java_stub)" version="-1" />
  <import index="10" modelUID="f:java_stub#javax.swing(javax.swing@java_stub)" version="-1" />
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1190728555341">
    <property name="name" value="typeof_RequiredAdditionalArgument" />
    <property name="package" value="Deprecated" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1190728555342">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1190728908074">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1190728915530">
          <node role="normalType" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227927468">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1190732203570">
              <link role="applicableNode" targetNodeId="1190728567156" resolveInfo="requiredAdditionalArgument" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1190732208965">
              <link role="link" targetNodeId="1.1190637130098" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1190728908076">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1190728902837">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1190728904042">
              <link role="applicableNode" targetNodeId="1190728567156" resolveInfo="requiredAdditionalArgument" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1190728567156">
      <property name="name" value="requiredAdditionalArgument" />
      <link role="concept" targetNodeId="1.1189693830529" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1190728582079">
    <property name="name" value="typeof_RequiredAdditionalArgumentReference" />
    <property name="package" value="Deprecated" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1190728582080">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1190728604337">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1190728606543">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1190728606544">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227937217">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1190728608421">
                <link role="applicableNode" targetNodeId="1190728588113" resolveInfo="requiredAdditionalArgumentReference" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1190728614972">
                <link role="link" targetNodeId="1.1189694099406" />
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1190728604339">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1190728598662">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1190728600351">
              <link role="applicableNode" targetNodeId="1190728588113" resolveInfo="requiredAdditionalArgumentReference" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1190728588113">
      <property name="name" value="requiredAdditionalArgumentReference" />
      <link role="concept" targetNodeId="1.1189694084608" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1192794377384">
    <property name="name" value="typeof_ConceptFunctionParameter_UserArgument" />
    <property name="overrides" value="true" />
    <property name="package" value="Deprecated" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1192794377385">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1192794963353">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1192794963354">
          <property name="name" value="filterArgumentClause" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1192794963355">
            <link role="concept" targetNodeId="1.1192793302394" resolveInfo="FilterArgumentClause" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227892378">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1192794979154">
              <link role="applicableNode" targetNodeId="1192794436668" resolveInfo="conceptFunctionParameter_UserArgument" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1192795003205">
              <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1192795013784">
                <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1217631635154">
                  <link role="conceptDeclaration" targetNodeId="1.1192793302394" resolveInfo="FilterArgumentClause" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1192795122598">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1192795122599">
          <property name="name" value="requiredUserEnteredArgument" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1192795122600">
            <link role="concept" targetNodeId="1.1192792808079" resolveInfo="RequiredUserEnteredArgument" />
          </node>
          <node role="initializer" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1192795174200">
            <link role="concept" targetNodeId="1.1192792808079" resolveInfo="RequiredUserEnteredArgument" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227832177">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1192795165039">
                <link role="variableDeclaration" targetNodeId="1192794963354" resolveInfo="filterArgumentClause" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1192795167543" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1192795194145">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1192795196476">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1192795196477">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1192795201541">
              <link role="applicableNode" targetNodeId="1192794436668" resolveInfo="conceptFunctionParameter_UserArgument" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1192795194147">
          <node role="normalType" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227849122">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1198675990558">
              <link role="variableDeclaration" targetNodeId="1192795122599" resolveInfo="requiredUserEnteredArgument" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1198675995400">
              <link role="link" targetNodeId="1.1190637130098" />
            </node>
          </node>
        </node>
        <node role="nodeToCheck" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1192795225121">
          <link role="applicableNode" targetNodeId="1192794436668" resolveInfo="conceptFunctionParameter_UserArgument" />
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1192794436668">
      <property name="name" value="conceptFunctionParameter_UserArgument" />
      <link role="concept" targetNodeId="1.1192793411861" resolveInfo="ConceptFunctionParameter_UserArgument" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1197387004436">
    <property name="name" value="typeof_ChangeFeatureNameOperation" />
    <property name="package" value="Deprecated" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1197387004437">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1197387014932">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1197387017357">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1197387017358">
            <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1197387019219" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1197387014934">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1197387006800">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227917612">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1197387008177">
                <link role="applicableNode" targetNodeId="1197387004438" resolveInfo="nodeToCheck" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1197387010915">
                <link role="link" targetNodeId="1.1197386861552" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882587" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1197387031620">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1197387033576">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1197387033577">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.StringType" id="1225192948745" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1197387031622">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1197387022441">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227920881">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1197387023943">
                <link role="applicableNode" targetNodeId="1197387004438" resolveInfo="nodeToCheck" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1197387029088">
                <link role="link" targetNodeId="1.1197386874459" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882650" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1197387047917">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1197387049983">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1197387049984">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.StringType" id="1225192948949" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1197387047919">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1197387038207">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227898159">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1197387039443">
                <link role="applicableNode" targetNodeId="1197387004438" resolveInfo="nodeToCheck" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1197387045416">
                <link role="link" targetNodeId="1.1197386900758" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882688" />
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1197387004438">
      <property name="name" value="nodeToCheck" />
      <link role="concept" targetNodeId="1.1197386846879" resolveInfo="ChangeFeatureNameOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1198577527397">
    <property name="name" value="typeof_UpdateModelProcedure" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1198577527398">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1198577561806">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1198577564202">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1198577564203">
            <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SModelType" id="1198577567911" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1198577561808">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1198577549444">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227959869">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1198577552417">
                <link role="applicableNode" targetNodeId="1198577527399" resolveInfo="nodeToCheck" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1198577559131">
                <link role="link" targetNodeId="1.1198577431631" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882596" />
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1198577527399">
      <property name="name" value="nodeToCheck" />
      <link role="concept" targetNodeId="1.1198577376375" resolveInfo="UpdateModelProcedure" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1199620226785">
    <property name="name" value="typeof_AbstractMoveNodeExpression" />
    <property name="package" value="RefActions" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1199620226786">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1199620247213">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1199620247214">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1199620247215">
            <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1199620247216" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1199620247217">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1199620247218">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227916983">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1199620260667">
                <link role="applicableNode" targetNodeId="1199620226787" resolveInfo="nodeToCheck" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1199620263841">
                <link role="link" targetNodeId="1.1199619459778" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882512" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1199621083981">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1199621087391">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1199621087392">
            <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1199621089722" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1199621083983">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1199621080697">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1199621082136">
              <link role="applicableNode" targetNodeId="1199620226787" resolveInfo="nodeToCheck" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1199620226787">
      <property name="name" value="nodeToCheck" />
      <link role="concept" targetNodeId="1.1199620122561" resolveInfo="AbstractMoveNodeExpression" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1199620289346">
    <property name="name" value="typeof_AbstractMoveNodesExpression" />
    <property name="package" value="RefActions" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1199620289347">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1199620292740">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1199620292741">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1199620292742">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1199620292743">
              <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1199620292744" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1199620292745">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1199620292746">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227905516">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1199620292749">
                <link role="applicableNode" targetNodeId="1199620289348" resolveInfo="nodeToCheck" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1199620295938">
                <link role="link" targetNodeId="1.1199619459778" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882723" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1199621105994">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1199621119341">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1199621120938">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1199621120939">
              <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1199621120940" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1199621105996">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1199621101272">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1199621102727">
              <link role="applicableNode" targetNodeId="1199620289348" resolveInfo="nodeToCheck" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1199620289348">
      <property name="name" value="nodeToCheck" />
      <link role="concept" targetNodeId="1.1199620153270" resolveInfo="AbstractMoveNodesExpression" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1199620550073">
    <property name="name" value="typeof_MoveNodeToModelExpression" />
    <property name="package" value="RefActions" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1199620550074">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1199620552358">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1199620552359">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1199620552360">
            <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SModelType" id="1199620552361" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1199620552362">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1199620552363">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227956953">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1199620552366">
                <link role="applicableNode" targetNodeId="1199620550075" resolveInfo="nodeToCheck" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1199620555273">
                <link role="link" targetNodeId="1.1199619459779" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882815" />
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1199620550075">
      <property name="name" value="nodeToCheck" />
      <link role="concept" targetNodeId="1.1199620319099" resolveInfo="MoveNodeToModelExpression" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1199620685904">
    <property name="name" value="typeof_MoveNodeToNodeExpression" />
    <property name="package" value="RefActions" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1199620685905">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1199620700407">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1199620700408">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1199620700409">
            <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1199620700410" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1199620700411">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1199620700412">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227936797">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1199620700415">
                <link role="applicableNode" targetNodeId="1199620685906" resolveInfo="nodeToCheck" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1199620704410">
                <link role="link" targetNodeId="1.1199619459779" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882621" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1199620700416">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1199620700417">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1199620700418">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.StringType" id="1225192951099" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1199620700420">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1199620700421">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227916540">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1199620700424">
                <link role="applicableNode" targetNodeId="1199620685906" resolveInfo="nodeToCheck" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1199620705676">
                <link role="link" targetNodeId="1.1199620651934" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882608" />
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1199620685906">
      <property name="name" value="nodeToCheck" />
      <link role="concept" targetNodeId="1.1199620589385" resolveInfo="MoveNodeToNodeExpression" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1199620847921">
    <property name="name" value="typeof_MoveNodesToModelExpression" />
    <property name="package" value="RefActions" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1199620847922">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1199620849752">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1199620849753">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1199620849754">
            <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SModelType" id="1199620849755" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1199620849756">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1199620849757">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227841160">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1199620849760">
                <link role="applicableNode" targetNodeId="1199620847923" resolveInfo="nodeToCheck" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1199620873185">
                <link role="link" targetNodeId="1.1199619459779" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882404" />
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1199620847923">
      <property name="name" value="nodeToCheck" />
      <link role="concept" targetNodeId="1.1199620728600" resolveInfo="MoveNodesToModelExpression" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1199621029855">
    <property name="name" value="typeof_MoveNodesToNodeExpression" />
    <property name="package" value="RefActions" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1199621029856">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1199621033921">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1199621033922">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1199621033923">
            <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1199621033924" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1199621033925">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1199621033926">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227882537">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1199621033929">
                <link role="applicableNode" targetNodeId="1199621029857" resolveInfo="nodeToCheck" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1199621036814">
                <link role="link" targetNodeId="1.1199619459779" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882496" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1199621033930">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1199621033931">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1199621033932">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.StringType" id="1225192949373" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1199621033934">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1199621033935">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227942797">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1199621033938">
                <link role="applicableNode" targetNodeId="1199621029857" resolveInfo="nodeToCheck" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1199621038300">
                <link role="link" targetNodeId="1.1199620959025" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882828" />
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1199621029857">
      <property name="name" value="nodeToCheck" />
      <link role="concept" targetNodeId="1.1199620920737" resolveInfo="MoveNodesToNodeExpression" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1204723222377">
    <property name="name" value="typeof_DeleteFeatureOperation" />
    <property name="package" value="Deprecated" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1204723222378">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1204723224489">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1204723224490">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1204723224491">
            <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1204723224492" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1204723224493">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1204723224494">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204723224495">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1204723224496">
                <link role="applicableNode" targetNodeId="1204723222379" resolveInfo="nodeToCheck" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1204723237155">
                <link role="link" targetNodeId="1.1204722988476" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882524" />
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1204723222379">
      <property name="name" value="nodeToCheck" />
      <link role="concept" targetNodeId="1.1204722970897" resolveInfo="DeleteFeatureOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1212243012159">
    <property name="name" value="typeof_ExecuteFindersExpression" />
    <property name="package" value="FinderCall" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1212243012160">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateStrongLessThanInequationStatement" id="1212243105530">
        <property name="checkOnly" value="true" />
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1212243105531">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1212243105532">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1212243105533">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1212243105534">
                <link role="applicableNode" targetNodeId="1212243012161" resolveInfo="expression" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1212243105535">
                <link role="link" targetNodeId="1.1212242678419" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1212243105536">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1212243105537">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1212243105538">
              <link role="classifier" targetNodeId="7.~SNode" resolveInfo="SNode" />
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882729" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateStrongLessThanInequationStatement" id="1212243088247">
        <property name="checkOnly" value="true" />
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1212243091454">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1212243091455">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1212243094676">
              <link role="classifier" targetNodeId="7.~IScope" resolveInfo="IScope" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1212243088282">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1212243079709">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1212243082603">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1212243081383">
                <link role="applicableNode" targetNodeId="1212243012161" resolveInfo="expression" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1212243084387">
                <link role="link" targetNodeId="1.1212242732593" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882450" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1212243139732">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1212243142908">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1212243142909">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1212243169505">
              <link role="classifier" targetNodeId="8.~SearchResults" resolveInfo="SearchResults" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1212243139735">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1212243132573">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1212243135825">
              <link role="applicableNode" targetNodeId="1212243012161" resolveInfo="expression" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1212243012161">
      <property name="name" value="expression" />
      <link role="concept" targetNodeId="1.1212242396240" resolveInfo="ExecuteFindersExpression" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1214999926893">
    <property name="name" value="typeof_NodesExpression" />
    <property name="package" value="Deprecated.Environment" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1214999926894">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1214999948266">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1214999951832">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1214999951833">
            <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="1215000020384" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1214999948269">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1214999943606">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1214999945186">
              <link role="applicableNode" targetNodeId="1214999926895" resolveInfo="nodeToCheck" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1214999926895">
      <property name="name" value="nodeToCheck" />
      <link role="concept" targetNodeId="1.1214999715318" resolveInfo="NodesExpression" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1215000091795">
    <property name="name" value="typeof_NodeExpression" />
    <property name="package" value="Deprecated.Environment" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1215000091796">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1215000098427">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1215000101681">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1215000101682">
            <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1215000110278">
              <node role="referenceAntiquotation$link_attribute$concept" type="jetbrains.mps.lang.quotation.structure.ReferenceAntiquotation" id="7754459869734029570">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="7754459869734029860">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="7754459869734029573">
                    <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="7754459869734029572">
                      <link role="applicableNode" targetNodeId="1215000091797" resolveInfo="nodeToCheck" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="7754459869734029577">
                      <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="7754459869734029578">
                        <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="7754459869734029859">
                          <link role="conceptDeclaration" targetNodeId="1.1189693812263" resolveInfo="Refactoring" />
                        </node>
                      </node>
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="7754459869734029864">
                    <link role="link" targetNodeId="1.1199455371376" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1215000098430">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1215000094393">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1215000095832">
              <link role="applicableNode" targetNodeId="1215000091797" resolveInfo="nodeToCheck" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1215000091797">
      <property name="name" value="nodeToCheck" />
      <link role="concept" targetNodeId="1.1215000036307" resolveInfo="NodeExpression" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1215000177674">
    <property name="name" value="typeof_ModelDescriptorExpression" />
    <property name="package" value="Deprecated.Environment" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1215000177675">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1215000188931">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1215000203029">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1215000203030">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1215000206516">
              <link role="classifier" targetNodeId="7.~SModelDescriptor" resolveInfo="SModelDescriptor" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1215000188934">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1215000186022">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1215000187195">
              <link role="applicableNode" targetNodeId="1215000177676" resolveInfo="nodeToCheck" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1215000177676">
      <property name="name" value="nodeToCheck" />
      <link role="concept" targetNodeId="1.1215000134655" resolveInfo="ModelDescriptorExpression" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1215084433134">
    <property name="name" value="typeof_ModuleOperation" />
    <property name="package" value="Deprecated.Environment" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1215084433135">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1215084454335">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1215084458058">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1215084458059">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1215084461482">
              <link role="classifier" targetNodeId="9.~IModule" resolveInfo="IModule" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1215084454338">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1215084449238">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1215084451255">
              <link role="applicableNode" targetNodeId="1215084433136" resolveInfo="nodeToCheck" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1215084433136">
      <property name="name" value="moduleOperation" />
      <link role="concept" targetNodeId="1.7953996722066252913" resolveInfo="ModuleOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1215084517581">
    <property name="name" value="typeof_ProjectExpression" />
    <property name="package" value="Deprecated.Environment" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1215084517582">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1215084525369">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1215084529748">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1215084529749">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1215084532454">
              <link role="classifier" targetNodeId="9.~MPSProject" resolveInfo="MPSProject" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1215084525372">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1215084519803">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1215084521977">
              <link role="applicableNode" targetNodeId="1215084517583" resolveInfo="nodeToCheck" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1215084517583">
      <property name="name" value="nodeToCheck" />
      <link role="concept" targetNodeId="1.1215084496797" resolveInfo="ProjectExpression" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1215084570490">
    <property name="name" value="typeof_ScopeExpression" />
    <property name="package" value="Deprecated.Environment" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1215084570491">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1215084584419">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1215084596658">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1215084596659">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1215084600629">
              <link role="classifier" targetNodeId="7.~IScope" resolveInfo="IScope" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1215084584438">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1215084575791">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1215084580871">
              <link role="applicableNode" targetNodeId="1215084570492" resolveInfo="nodeToCheck" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1215084570492">
      <property name="name" value="nodeToCheck" />
      <link role="concept" targetNodeId="1.1215084545440" resolveInfo="ScopeExpression" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1215084643134">
    <property name="name" value="typeof_OperationContextExpression" />
    <property name="package" value="Deprecated.Environment" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1215084643135">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1215084649734">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1215084653660">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1215084653661">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1215084656851">
              <link role="classifier" targetNodeId="7.~IOperationContext" resolveInfo="IOperationContext" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1215084649737">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1215084645325">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1215084647030">
              <link role="applicableNode" targetNodeId="1215084643136" resolveInfo="nodeToCheck" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1215084643136">
      <property name="name" value="nodeToCheck" />
      <link role="concept" targetNodeId="1.1215084612287" resolveInfo="OperationContextExpression" />
    </node>
  </node>
  <visible index="2" modelUID="r:00000000-0000-4000-0000-011c895902ca(jetbrains.mps.baseLanguage.structure)" />
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="6895093993902310779">
    <property name="name" value="typeof_ConceptFunctionParameter_Module" />
    <property name="package" value="RefDecl.Target.Module" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="6895093993902310780">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="6895093993902310865">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="6895093993902310866">
          <property name="name" value="moduleType" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="6895093993902310867">
            <link role="concept" targetNodeId="2v.1107535904670" resolveInfo="ClassifierType" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6895093993902310868">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6895093993902310872">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="6895093993902310873">
                <link role="applicableNode" targetNodeId="6895093993902310781" resolveInfo="module" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="6895093993902310874">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="6895093993902310875">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="6895093993902310876">
                    <link role="conceptDeclaration" targetNodeId="1.6895093993902310763" resolveInfo="ModuleTarget" />
                  </node>
                </node>
              </node>
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="6895093993902310870">
              <link role="link" targetNodeId="1.6895093993902310767" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="6895093993902310855">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="6895093993902310856">
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="6895093993902310887">
            <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="6895093993902310900">
              <node role="normalType" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="6895093993902310901">
                <link role="variableDeclaration" targetNodeId="6895093993902310866" resolveInfo="moduleType" />
              </node>
            </node>
            <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="6895093993902310896">
              <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="6895093993902310897">
                <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="6895093993902310898">
                  <link role="applicableNode" targetNodeId="6895093993902310781" resolveInfo="module" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6895093993902310882">
          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="6895093993902310871">
            <link role="variableDeclaration" targetNodeId="6895093993902310866" resolveInfo="moduleType" />
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsNotNullOperation" id="6895093993902310886" />
        </node>
        <node role="ifFalseStatement" type="jetbrains.mps.baseLanguage.structure.BlockStatement" id="6895093993902310902">
          <node role="statements" type="jetbrains.mps.baseLanguage.structure.StatementList" id="6895093993902310903">
            <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="6895093993902310904">
              <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="6895093993902310905">
                <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="6895093993902310910">
                  <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="6895093993902310914">
                    <link role="classifier" targetNodeId="9.~IModule" resolveInfo="IModule" />
                  </node>
                </node>
              </node>
              <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="6895093993902310907">
                <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="6895093993902310908">
                  <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="6895093993902310909">
                    <link role="applicableNode" targetNodeId="6895093993902310781" resolveInfo="module" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="6895093993902310781">
      <property name="name" value="module" />
      <link role="concept" targetNodeId="1.6895093993902310775" resolveInfo="ConceptFunctionParameter_Module" />
    </node>
  </node>
  <visible index="3" modelUID="r:00000000-0000-4000-0000-011c89590292(jetbrains.mps.lang.structure.structure)" />
  <visible index="4" modelUID="r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)" />
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="6895093993902310818">
    <property name="name" value="typeof_ConceptFunctionParameter_SNode" />
    <property name="package" value="RefDecl.Target.Node" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="6895093993902310819">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="6895093993902310927">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="6895093993902310928">
          <property name="name" value="nodeConcept" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="6895093993902310929">
            <link role="concept" targetNodeId="3v.1169125787135" resolveInfo="AbstractConceptDeclaration" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6895093993902310930">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6895093993902310931">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="6895093993902310932">
                <link role="applicableNode" targetNodeId="6895093993902310820" resolveInfo="node" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="6895093993902310933">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="6895093993902310934">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="6895093993902310935">
                    <link role="conceptDeclaration" targetNodeId="1.6895093993902310764" resolveInfo="NodeTarget" />
                  </node>
                </node>
              </node>
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="6895093993902310936">
              <link role="link" targetNodeId="1.6895093993902310806" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="6895093993902310938">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="6895093993902310939">
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="6895093993902310948">
            <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="6895093993902310956">
              <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="6895093993902310957">
                <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="6895093993902310959">
                  <link role="concept" targetNodeId="4v.1133920641626" resolveInfo="BaseConcept" />
                  <node role="referenceAntiquotation$link_attribute$concept" type="jetbrains.mps.lang.quotation.structure.ReferenceAntiquotation" id="6895093993902310962">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="6895093993902310964">
                      <link role="variableDeclaration" targetNodeId="6895093993902310928" resolveInfo="nodeConcept" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="6895093993902310952">
              <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="6895093993902310953">
                <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="6895093993902310954">
                  <link role="applicableNode" targetNodeId="6895093993902310820" resolveInfo="node" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6895093993902310943">
          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="6895093993902310942">
            <link role="variableDeclaration" targetNodeId="6895093993902310928" resolveInfo="nodeConcept" />
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsNotNullOperation" id="6895093993902310947" />
        </node>
        <node role="ifFalseStatement" type="jetbrains.mps.baseLanguage.structure.BlockStatement" id="6895093993902310965">
          <node role="statements" type="jetbrains.mps.baseLanguage.structure.StatementList" id="6895093993902310966">
            <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="6895093993902310967">
              <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="6895093993902310968">
                <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="6895093993902310969">
                  <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="6895093993902310976" />
                </node>
              </node>
              <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="6895093993902310973">
                <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="6895093993902310974">
                  <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="6895093993902310975">
                    <link role="applicableNode" targetNodeId="6895093993902310820" resolveInfo="node" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="6895093993902310820">
      <property name="name" value="node" />
      <link role="concept" targetNodeId="1.6895093993902310814" resolveInfo="ConceptFunctionParameter_SNode" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="5497648299878978965">
    <property name="name" value="typeof_ConceptFunctionParameter_RefactoringParameter" />
    <property name="package" value="RefDecl.Arg.Parameters.Chooser.MPS" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5497648299878978966">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="5497648299879035568">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="5497648299879035569">
          <property name="name" value="chooser" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="5497648299879035570">
            <link role="concept" targetNodeId="1.5497648299878742011" resolveInfo="MPSParameterChooser" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5497648299879035571">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="5497648299879035572">
              <link role="applicableNode" targetNodeId="5497648299878978967" resolveInfo="parameter" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="5497648299879035573">
              <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="5497648299879035574">
                <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="5497648299879035575">
                  <link role="conceptDeclaration" targetNodeId="1.5497648299878742011" resolveInfo="MPSParameterChooser" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="4413749148913757623">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="4413749148913757627">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="4413749148913757628">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="4413749148913757629">
              <link role="applicableNode" targetNodeId="5497648299878978967" resolveInfo="parameter" />
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="4413749148913757630">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="4413749148913757631">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="4413749148913757634">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="4413749148913757633">
                <link role="variableDeclaration" targetNodeId="5497648299879035569" resolveInfo="chooser" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="4413749148913757638">
                <link role="link" targetNodeId="1.4413749148913695157" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="5497648299878978967">
      <property name="name" value="parameter" />
      <link role="concept" targetNodeId="1.5497648299878742024" resolveInfo="ConceptFunctionParameter_RefactoringParameter" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="478744034994504852">
    <property name="name" value="typeof_RefactoringParameter" />
    <property name="package" value="RefDecl.Arg.Parameters" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="478744034994504853">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="478744034994504882">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="478744034994504883">
          <property name="name" value="chooser" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="478744034994504884">
            <link role="concept" targetNodeId="1.7573235936722759491" resolveInfo="RefactoringParameterChooser" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="478744034994504935">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="7573235936722759533">
              <link role="applicableNode" targetNodeId="478744034994504854" resolveInfo="parameter" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="7573235936722759532">
              <link role="link" targetNodeId="1.5497648299878741978" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="478744034994504941">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="478744034994504942">
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="478744034994504956">
            <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="478744034994504964">
              <node role="normalType" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="478744034994504966">
                <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="478744034994504970">
                  <link role="concept" targetNodeId="1.5497648299878742029" resolveInfo="CustomParameterChooser" />
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="478744034994504965">
                    <link role="variableDeclaration" targetNodeId="478744034994504883" resolveInfo="chooser" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="478744034994504972">
                  <link role="link" targetNodeId="1.5497648299878979017" />
                </node>
              </node>
            </node>
            <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="478744034994504960">
              <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="478744034994504961">
                <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="478744034994504962">
                  <link role="applicableNode" targetNodeId="478744034994504854" resolveInfo="parameter" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="478744034994504946">
          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="478744034994504945">
            <link role="variableDeclaration" targetNodeId="478744034994504883" resolveInfo="chooser" />
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="478744034994504950">
            <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="478744034994504952">
              <link role="conceptDeclaration" targetNodeId="1.5497648299878742029" resolveInfo="CustomParameterChooser" />
            </node>
          </node>
        </node>
        <node role="elsifClauses" type="jetbrains.mps.baseLanguage.structure.ElsifClause" id="478744034994504973">
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="478744034994504977">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="478744034994504976">
              <link role="variableDeclaration" targetNodeId="478744034994504883" resolveInfo="chooser" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="478744034994504981">
              <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="478744034994504983">
                <link role="conceptDeclaration" targetNodeId="1.5497648299878742011" resolveInfo="MPSParameterChooser" />
              </node>
            </node>
          </node>
          <node role="statementList" type="jetbrains.mps.baseLanguage.structure.StatementList" id="478744034994504975">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="478744034994505030">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="478744034994505031">
                <property name="name" value="mpsChooser" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="478744034994505032">
                  <link role="concept" targetNodeId="1.5497648299878742011" resolveInfo="MPSParameterChooser" />
                </node>
                <node role="initializer" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="478744034994505035">
                  <link role="concept" targetNodeId="1.5497648299878742011" resolveInfo="MPSParameterChooser" />
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="478744034994505034">
                    <link role="variableDeclaration" targetNodeId="478744034994504883" resolveInfo="chooser" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="4413749148913757088">
              <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="4413749148913757096">
                <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="4413749148913757097">
                  <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="4413749148913757100">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="4413749148913757099">
                      <link role="variableDeclaration" targetNodeId="478744034994505031" resolveInfo="mpsChooser" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="4413749148913757104">
                      <link role="link" targetNodeId="1.4413749148913695157" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="4413749148913757092">
                <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="4413749148913757093">
                  <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="4413749148913757094">
                    <link role="applicableNode" targetNodeId="478744034994504854" resolveInfo="parameter" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="478744034994504854">
      <property name="name" value="parameter" />
      <link role="concept" targetNodeId="1.6895093993902311012" resolveInfo="RefactoringParameter" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="478744034994505040">
    <property name="name" value="typeof_RefactoringParameterReference" />
    <property name="package" value="RefDecl.Arg.Parameters" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="478744034994505041">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="478744034994505047">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="478744034994505051">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="478744034994505052">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="478744034994505055">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="478744034994505054">
                <link role="applicableNode" targetNodeId="478744034994505042" resolveInfo="reference" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="478744034994505059">
                <link role="link" targetNodeId="1.6895093993902496263" />
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="478744034994505050">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="478744034994505044">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="478744034994505046">
              <link role="applicableNode" targetNodeId="478744034994505042" resolveInfo="reference" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="478744034994505042">
      <property name="name" value="reference" />
      <link role="concept" targetNodeId="1.6895093993902496262" resolveInfo="RefactoringParameterReference" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="8041810900052415307">
    <property name="name" value="typeof_AskExpression" />
    <property name="package" value="RefDecl.Arg.Parameters" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="8041810900052415308">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="8041810900052415314">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="8041810900052415318">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="8041810900052415319">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="8041810900052415321" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="8041810900052415317">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="8041810900052415311">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="8041810900052415313">
              <link role="applicableNode" targetNodeId="8041810900052415309" resolveInfo="expression" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="8041810900052415309">
      <property name="name" value="expression" />
      <link role="concept" targetNodeId="1.6895093993902311015" resolveInfo="AskExpression" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="7953996722066254333">
    <property name="name" value="typeof_ModelDescriptorOperation" />
    <property name="package" value="Context" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="7953996722066254334">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="7953996722066254335">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="7953996722066254336">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="7953996722066254337">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="7953996722066254338">
              <link role="classifier" targetNodeId="7.~SModelDescriptor" resolveInfo="SModelDescriptor" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="7953996722066254339">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="7953996722066254340">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="7953996722066254341">
              <link role="applicableNode" targetNodeId="7953996722066254342" resolveInfo="nodeToCheck" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="7953996722066254342">
      <property name="name" value="modelDescriptorOperation" />
      <link role="concept" targetNodeId="1.7953996722066252911" resolveInfo="ModelDescriptorOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="7953996722066254343">
    <property name="name" value="typeof_ModuleExpression" />
    <property name="package" value="Context" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="7953996722066254344">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="7953996722066254345">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="7953996722066254346">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="7953996722066254347">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="7953996722066254348">
              <link role="classifier" targetNodeId="9.~IModule" resolveInfo="IModule" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="7953996722066254349">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="7953996722066254350">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="7953996722066254351">
              <link role="applicableNode" targetNodeId="7953996722066254352" resolveInfo="nodeToCheck" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="7953996722066254352">
      <property name="name" value="nodeToCheck" />
      <link role="concept" targetNodeId="1.1215084399714" resolveInfo="ModuleExpression" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="7953996722066254353">
    <property name="name" value="typeof_NodeOperation" />
    <property name="package" value="Context" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="7953996722066254354">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="3302086321379869657">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="3302086321379869658">
          <property name="name" value="refactoringNode" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="3302086321379869659">
            <link role="concept" targetNodeId="1.6895093993902236229" resolveInfo="Refactoring" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321379869660">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="3302086321379869661">
              <link role="applicableNode" targetNodeId="7953996722066254370" resolveInfo="nodeOperation" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="3302086321379869662">
              <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="3302086321379869663">
                <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="3302086321379869664">
                  <link role="conceptDeclaration" targetNodeId="1.6895093993902236229" resolveInfo="Refactoring" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="3302086321379869667">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="3302086321379869668">
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="3302086321379869700">
            <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="3302086321379869701">
              <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="3302086321379869702">
                <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="3302086321379869703">
                  <node role="referenceAntiquotation$link_attribute$concept" type="jetbrains.mps.lang.quotation.structure.ReferenceAntiquotation" id="3302086321379869704">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321379869705">
                      <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="3302086321379869714">
                        <link role="concept" targetNodeId="1.6895093993902310764" resolveInfo="NodeTarget" />
                        <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321379869706">
                          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3302086321379869707">
                            <link role="variableDeclaration" targetNodeId="3302086321379869658" resolveInfo="refactoringNode" />
                          </node>
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="3302086321379869708">
                            <link role="link" targetNodeId="1.6895093993902310998" />
                          </node>
                        </node>
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="3302086321379869716">
                        <link role="link" targetNodeId="1.6895093993902310806" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="3302086321379869710">
              <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="3302086321379869711">
                <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="3302086321379869712">
                  <link role="applicableNode" targetNodeId="7953996722066254370" resolveInfo="nodeOperation" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321379869677">
          <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321379869672">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3302086321379869671">
              <link role="variableDeclaration" targetNodeId="3302086321379869658" resolveInfo="refactoringNode" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="3302086321379869676">
              <link role="link" targetNodeId="1.6895093993902310998" />
            </node>
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="3302086321379869682">
            <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="3302086321379869684">
              <link role="conceptDeclaration" targetNodeId="1.6895093993902310764" resolveInfo="NodeTarget" />
            </node>
          </node>
        </node>
        <node role="ifFalseStatement" type="jetbrains.mps.baseLanguage.structure.BlockStatement" id="3302086321379869685">
          <node role="statements" type="jetbrains.mps.baseLanguage.structure.StatementList" id="3302086321379869686">
            <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="3302086321379869687">
              <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="3302086321379869688">
                <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="3302086321379869689">
                  <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="3302086321379869713" />
                </node>
              </node>
              <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="3302086321379869697">
                <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="3302086321379869698">
                  <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="3302086321379869699">
                    <link role="applicableNode" targetNodeId="7953996722066254370" resolveInfo="nodeOperation" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="7953996722066254370">
      <property name="name" value="nodeOperation" />
      <link role="concept" targetNodeId="1.7953996722066252915" resolveInfo="NodeOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="7953996722066254371">
    <property name="name" value="typeof_NodesOperation" />
    <property name="package" value="Context" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="7953996722066254372">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="3302086321379869719">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="3302086321379869720">
          <property name="name" value="refactoringNode" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="3302086321379869721">
            <link role="concept" targetNodeId="1.6895093993902236229" resolveInfo="Refactoring" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321379869722">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="3302086321379869759">
              <link role="applicableNode" targetNodeId="7953996722066254380" resolveInfo="nodesOperation" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="3302086321379869724">
              <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="3302086321379869725">
                <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="3302086321379869726">
                  <link role="conceptDeclaration" targetNodeId="1.6895093993902236229" resolveInfo="Refactoring" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="3302086321379869727">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="3302086321379869728">
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="3302086321379869729">
            <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="3302086321379869730">
              <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="3302086321379869731">
                <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="3302086321379869764">
                  <link role="elementConcept" targetNodeId="4v.1133920641626" resolveInfo="BaseConcept" />
                  <node role="referenceAntiquotation$link_attribute$elementConcept" type="jetbrains.mps.lang.quotation.structure.ReferenceAntiquotation" id="3302086321379869769">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321379869771">
                      <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="3302086321379869772">
                        <link role="concept" targetNodeId="1.6895093993902310764" resolveInfo="NodeTarget" />
                        <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321379869773">
                          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3302086321379869774">
                            <link role="variableDeclaration" targetNodeId="3302086321379869720" resolveInfo="refactoringNode" />
                          </node>
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="3302086321379869775">
                            <link role="link" targetNodeId="1.6895093993902310998" />
                          </node>
                        </node>
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="3302086321379869776">
                        <link role="link" targetNodeId="1.6895093993902310806" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="3302086321379869740">
              <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="3302086321379869741">
                <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="3302086321379869760">
                  <link role="applicableNode" targetNodeId="7953996722066254380" resolveInfo="nodesOperation" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321379869743">
          <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321379869744">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3302086321379869745">
              <link role="variableDeclaration" targetNodeId="3302086321379869720" resolveInfo="refactoringNode" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="3302086321379869746">
              <link role="link" targetNodeId="1.6895093993902310998" />
            </node>
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="3302086321379869747">
            <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="3302086321379869748">
              <link role="conceptDeclaration" targetNodeId="1.6895093993902310764" resolveInfo="NodeTarget" />
            </node>
          </node>
        </node>
        <node role="ifFalseStatement" type="jetbrains.mps.baseLanguage.structure.BlockStatement" id="3302086321379869749">
          <node role="statements" type="jetbrains.mps.baseLanguage.structure.StatementList" id="3302086321379869750">
            <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="3302086321379869751">
              <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="3302086321379869752">
                <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="3302086321379869753">
                  <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="3302086321379869762" />
                </node>
              </node>
              <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="3302086321379869755">
                <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="3302086321379869756">
                  <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="3302086321379869758">
                    <link role="applicableNode" targetNodeId="7953996722066254380" resolveInfo="nodesOperation" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="7953996722066254380">
      <property name="name" value="nodesOperation" />
      <link role="concept" targetNodeId="1.7953996722066252917" resolveInfo="NodesOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="7953996722066254381">
    <property name="name" value="typeof_OperationContextOperation" />
    <property name="package" value="Context" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="7953996722066254382">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="7953996722066254383">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="7953996722066254384">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="7953996722066254385">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="7953996722066254386">
              <link role="classifier" targetNodeId="7.~IOperationContext" resolveInfo="IOperationContext" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="7953996722066254387">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="7953996722066254388">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="7953996722066254389">
              <link role="applicableNode" targetNodeId="7953996722066254390" resolveInfo="nodeToCheck" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="7953996722066254390">
      <property name="name" value="operationContextOperation" />
      <link role="concept" targetNodeId="1.7953996722066252919" resolveInfo="OperationContextOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="7953996722066254391">
    <property name="name" value="typeof_ProjectOperation" />
    <property name="package" value="Context" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="7953996722066254392">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="7953996722066254393">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="7953996722066254394">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="7953996722066254395">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="7953996722066254396">
              <link role="classifier" targetNodeId="9.~MPSProject" resolveInfo="MPSProject" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="7953996722066254397">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="7953996722066254398">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="7953996722066254399">
              <link role="applicableNode" targetNodeId="7953996722066254400" resolveInfo="nodeToCheck" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="7953996722066254400">
      <property name="name" value="projectOperation" />
      <link role="concept" targetNodeId="1.7953996722066252921" resolveInfo="ProjectOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="7953996722066254401">
    <property name="name" value="typeof_ScopeOperation" />
    <property name="package" value="Context" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="7953996722066254402">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="7953996722066254403">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="7953996722066254404">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="7953996722066254405">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="7953996722066254406">
              <link role="classifier" targetNodeId="7.~IScope" resolveInfo="IScope" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="7953996722066254407">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="7953996722066254408">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="7953996722066254409">
              <link role="applicableNode" targetNodeId="7953996722066254410" resolveInfo="nodeToCheck" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="7953996722066254410">
      <property name="name" value="scopeOperation" />
      <link role="concept" targetNodeId="1.7953996722066252923" resolveInfo="ScopeOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="7953996722066536529">
    <property name="name" value="typeof_RefactoringContext_ConceptFunctionParameter" />
    <property name="package" value="RefDecl.Methods" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="7953996722066536530">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="7953996722066536536">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="7953996722066536540">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="7953996722066536541">
            <node role="quotedNode" type="jetbrains.mps.lang.refactoring.structure.ContextType" id="7953996722066605778" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="7953996722066536539">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="7953996722066536533">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="7953996722066536535">
              <link role="applicableNode" targetNodeId="7953996722066536531" resolveInfo="parameter" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="7953996722066536531">
      <property name="name" value="parameter" />
      <link role="concept" targetNodeId="1.7953996722066256458" resolveInfo="RefactoringContext_ConceptFunctionParameter" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="3060724424231848617">
    <property name="name" value="typeof_ChooserRefactoringContext_ConceptFunctionParameter" />
    <property name="package" value="Context" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="3060724424231848618">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="3060724424231848619">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="3060724424231848620">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="3060724424231848621">
            <node role="quotedNode" type="jetbrains.mps.lang.refactoring.structure.ContextType" id="3060724424231848622" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="3060724424231848623">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="3060724424231848624">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="3060724424231848625">
              <link role="applicableNode" targetNodeId="3060724424231848626" resolveInfo="parameter" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="3060724424231848626">
      <property name="name" value="parameter" />
      <link role="concept" targetNodeId="1.3060724424231848615" resolveInfo="ChooserRefactoringContext_ConceptFunctionParameter" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="5934994956485863510">
    <property name="name" value="typeof_CustomParameterChooser" />
    <property name="package" value="RefDecl.Arg.Parameters.Chooser.Custom" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5934994956485863511">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateStrongLessThanInequationStatement" id="5934994956485865554">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="5934994956485865558">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="5934994956485865559">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="5934994956485884204">
              <link role="classifier" targetNodeId="10.~JComponent" resolveInfo="JComponent" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="5934994956485865557">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="5934994956485865546">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5934994956485865549">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="5934994956485865548">
                <link role="applicableNode" targetNodeId="5934994956485863512" resolveInfo="chooser" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="5934994956485865553">
                <link role="link" targetNodeId="1.5934994956485838241" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882464" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateStrongLessThanInequationStatement" id="5934994956485884205">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="5934994956485884206">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="5934994956485884207">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="5934994956485884208">
              <link role="classifier" targetNodeId="10.~JComponent" resolveInfo="JComponent" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="5934994956485884209">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="5934994956485884210">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5934994956485884211">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="5934994956485884212">
                <link role="applicableNode" targetNodeId="5934994956485863512" resolveInfo="chooser" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="5934994956485884214">
                <link role="link" targetNodeId="1.5497648299878979018" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882562" />
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="5934994956485863512">
      <property name="name" value="chooser" />
      <link role="concept" targetNodeId="1.5497648299878742029" resolveInfo="CustomParameterChooser" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="5934994956485884229">
    <property name="name" value="typeof_SetValueStatement" />
    <property name="package" value="RefDecl.Arg.Parameters.Chooser.Custom" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5934994956485884230">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateStrongLessThanInequationStatement" id="5934994956485884241">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="5934994956485884245">
          <node role="normalType" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5934994956485884256">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5934994956485884247">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="5934994956485884246">
                <link role="applicableNode" targetNodeId="5934994956485884231" resolveInfo="statement" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="5934994956485884251">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="5934994956485884252">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="5934994956485884255">
                    <link role="conceptDeclaration" targetNodeId="1.5497648299878742029" resolveInfo="CustomParameterChooser" />
                  </node>
                </node>
              </node>
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="5934994956485884260">
              <link role="link" targetNodeId="1.5497648299878979017" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="5934994956485884244">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="5934994956485884233">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5934994956485884236">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="5934994956485884235">
                <link role="applicableNode" targetNodeId="5934994956485884231" resolveInfo="statement" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="5934994956485884240">
                <link role="link" targetNodeId="1.5934994956485884218" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882846" />
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="5934994956485884231">
      <property name="name" value="statement" />
      <link role="concept" targetNodeId="1.5934994956485884215" resolveInfo="SetValueStatement" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="5934994956485965471">
    <property name="name" value="typeof_ErrorStatement" />
    <property name="package" value="RefDecl.Arg.Parameters.Chooser.Custom" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5934994956485965472">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateStrongLessThanInequationStatement" id="5934994956485965486">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="5934994956485965490">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="5934994956485965491">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.StringType" id="5934994956485965493" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="5934994956485965489">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="5934994956485965475">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5934994956485965481">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="5934994956485965477">
                <link role="applicableNode" targetNodeId="5934994956485965473" resolveInfo="statement" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="5934994956485965485">
                <link role="link" targetNodeId="1.5934994956485965470" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882513" />
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="5934994956485965473">
      <property name="name" value="statement" />
      <link role="concept" targetNodeId="1.5934994956485965463" resolveInfo="ErrorStatement" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="5934994956486426174">
    <property name="name" value="typeof_ComponentExpression" />
    <property name="package" value="RefDecl.Arg.Parameters.Chooser.Custom" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5934994956486426175">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="5934994956486429429">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="5934994956486429430">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="5934994956486429431">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="5934994956486429432">
              <link role="applicableNode" targetNodeId="5934994956486426176" resolveInfo="expression" />
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="5934994956486429445">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="5934994956486429446">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5934994956486429453">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="5934994956486429448">
                <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="5934994956486429449">
                  <link role="applicableNode" targetNodeId="5934994956486426176" resolveInfo="expression" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="5934994956486429450">
                  <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="5934994956486429451">
                    <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="5934994956486429452">
                      <link role="conceptDeclaration" targetNodeId="1.5497648299878742029" resolveInfo="CustomParameterChooser" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="5934994956486429457">
                <link role="link" targetNodeId="1.5934994956485838241" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="5934994956486426176">
      <property name="name" value="expression" />
      <link role="concept" targetNodeId="1.5934994956486307251" resolveInfo="ComponentExpression" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="5934994956487114987">
    <property name="name" value="typeof_RefactoringContextExpression" />
    <property name="package" value="RefDecl.Arg.Parameters.Chooser.Custom" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="5934994956487114988">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="5934994956487114991">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="5934994956487114992">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="5934994956487114993">
            <node role="quotedNode" type="jetbrains.mps.lang.refactoring.structure.ContextType" id="5934994956487114994" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="5934994956487114995">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="5934994956487114996">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="5934994956487117013">
              <link role="applicableNode" targetNodeId="5934994956487114989" resolveInfo="expression" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="5934994956487114989">
      <property name="name" value="expression" />
      <link role="concept" targetNodeId="1.5934994956487113631" resolveInfo="RefactoringContextExpression" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="3302086321379400350">
    <property name="name" value="typeof_ChangeFeatureNameExpression" />
    <property name="package" value="RefActions" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="3302086321379400351">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="3302086321379400353">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="3302086321379400354">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="3302086321379400355">
            <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="3302086321379400356" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="3302086321379400357">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="3302086321379400358">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321379400359">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="3302086321379400360">
                <link role="applicableNode" targetNodeId="3302086321379400352" resolveInfo="nodeToCheck" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="3302086321379400382">
                <link role="link" targetNodeId="1.3302086321379400331" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882712" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="3302086321379400362">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="3302086321379400363">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="3302086321379400364">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.StringType" id="3302086321379400365" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="3302086321379400366">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="3302086321379400367">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321379400368">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="3302086321379400369">
                <link role="applicableNode" targetNodeId="3302086321379400352" resolveInfo="nodeToCheck" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="3302086321379400381">
                <link role="link" targetNodeId="1.3302086321379400332" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882605" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="3302086321379400371">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="3302086321379400372">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="3302086321379400373">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.StringType" id="3302086321379400374" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="3302086321379400375">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="3302086321379400376">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321379400377">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="3302086321379400378">
                <link role="applicableNode" targetNodeId="3302086321379400352" resolveInfo="nodeToCheck" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="3302086321379400380">
                <link role="link" targetNodeId="1.3302086321379400333" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882494" />
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="3302086321379400352">
      <property name="name" value="nodeToCheck" />
      <link role="concept" targetNodeId="1.3302086321379400330" resolveInfo="ChangeFeatureNameExpression" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="3302086321379403359">
    <property name="name" value="typeof_DeleteFeatureExpression" />
    <property name="package" value="RefActions" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="3302086321379403360">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="3302086321379403362">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="3302086321379403363">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="3302086321379403364">
            <node role="quotedNode" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="3302086321379403365" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="3302086321379403366">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="3302086321379403367">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321379403368">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="3302086321379403369">
                <link role="applicableNode" targetNodeId="3302086321379403361" resolveInfo="nodeToCheck" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="3302086321379403371">
                <link role="link" targetNodeId="1.3302086321379403348" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882460" />
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="3302086321379403361">
      <property name="name" value="nodeToCheck" />
      <link role="concept" targetNodeId="1.3302086321379403347" resolveInfo="DeleteFeatureExpression" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="4413749148913634032">
    <property name="name" value="typeof_ModuleTarget" />
    <property name="package" value="RefDecl.Target.Module" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="4413749148913634033">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateStrongLessThanInequationStatement" id="4413749148913634044">
        <property name="checkOnly" value="true" />
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="4413749148913634048">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="4413749148913634049">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="4413749148913634053">
              <link role="classifier" targetNodeId="9.~IModule" resolveInfo="IModule" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="4413749148913634047">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="4413749148913634036">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="4413749148913634039">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="4413749148913634038">
                <link role="applicableNode" targetNodeId="4413749148913634034" resolveInfo="target" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="4413749148913634043">
                <link role="link" targetNodeId="1.6895093993902310767" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882751" />
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="4413749148913634034">
      <property name="name" value="target" />
      <link role="concept" targetNodeId="1.6895093993902310763" resolveInfo="ModuleTarget" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="4413749148913695163">
    <property name="name" value="typeof_MPSParameterType" />
    <property name="package" value="RefDecl.Arg.Parameters.Chooser.MPS.type" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="4413749148913695164">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="4413749148913695208">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="4413749148913695209">
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="4413749148913695224">
            <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="4413749148913695225">
              <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="4413749148913695226">
                <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="4413749148913695227">
                  <link role="applicableNode" targetNodeId="4413749148913695165" resolveInfo="mpsParamType" />
                </node>
              </node>
            </node>
            <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="4413749148913695228">
              <node role="normalType" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="4413749148913695229">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="4413749148913695230">
                  <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="4413749148913695231">
                    <link role="applicableNode" targetNodeId="4413749148913695165" resolveInfo="mpsParamType" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SConceptLinkAccess" id="4413749148913695232">
                    <link role="conceptLinkDeclaration" targetNodeId="1.4413749148913757059" resolveInfo="paramType" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetFirstOperation" id="4413749148913695233" />
              </node>
            </node>
          </node>
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="4413749148913695212">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="4413749148913695219">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="4413749148913695214">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="4413749148913695215">
                <link role="applicableNode" targetNodeId="4413749148913695165" resolveInfo="mpsParamType" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SConceptLinkAccess" id="4413749148913695216">
                <link role="conceptLinkDeclaration" targetNodeId="1.4413749148913757059" resolveInfo="paramType" />
              </node>
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.IsEmptyOperation" id="4413749148913695223" />
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="4413749148913695165">
      <property name="name" value="mpsParamType" />
      <link role="concept" targetNodeId="1.4413749148913695136" resolveInfo="MPSParameterType" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="6635062342941196728">
    <property name="name" value="typeof_InitialPropertyValueClause" />
    <property name="package" value="RefDecl.Arg.Parameters.Chooser.MPS" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="6635062342941196729">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="6635062342941196770">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="6635062342941196774">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="6635062342941196775">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6635062342941196785">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6635062342941196778">
                <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="6635062342941196777">
                  <link role="applicableNode" targetNodeId="6635062342941196730" resolveInfo="clause" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="6635062342941196782">
                  <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="6635062342941196783">
                    <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="6635062342941196784">
                      <link role="conceptDeclaration" targetNodeId="1.5497648299878742011" resolveInfo="MPSParameterChooser" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="6635062342941196789">
                <link role="link" targetNodeId="1.4413749148913695157" />
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="6635062342941196773">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="6635062342941196767">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="6635062342941196769">
              <link role="applicableNode" targetNodeId="6635062342941196730" resolveInfo="clause" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="6635062342941196730">
      <property name="name" value="clause" />
      <link role="concept" targetNodeId="1.7573235936722759511" resolveInfo="InitialPropertyValueClause" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="4312073247720489870">
    <property name="name" value="typeof_AskBooleanExpression" />
    <property name="package" value="RefDecl.Arg.Parameters" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="4312073247720489871">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="4312073247720489873">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="4312073247720489874">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="4312073247720489875">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="4312073247720489876" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="4312073247720489877">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="4312073247720489878">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="4312073247720489879">
              <link role="applicableNode" targetNodeId="4312073247720489872" resolveInfo="expression" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateStrongLessThanInequationStatement" id="4312073247720567569">
        <property name="checkOnly" value="true" />
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="4312073247720567573">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="4312073247720567574">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.StringType" id="4312073247720567576" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="4312073247720567572">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="4312073247720567561">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="4312073247720567564">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="4312073247720567563">
                <link role="applicableNode" targetNodeId="4312073247720489872" resolveInfo="expression" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="4312073247720567568">
                <link role="link" targetNodeId="1.4312073247720567558" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882776" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateStrongLessThanInequationStatement" id="4312073247720714583">
        <property name="checkOnly" value="true" />
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="4312073247720714587">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="4312073247720714588">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="4312073247720714590" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="4312073247720714586">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="4312073247720714575">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="4312073247720714578">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="4312073247720714577">
                <link role="applicableNode" targetNodeId="4312073247720489872" resolveInfo="expression" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="4312073247720715213">
                <link role="link" targetNodeId="1.4312073247720715111" />
              </node>
            </node>
          </node>
        </node>
        <node role="inequationGroup" type="jetbrains.mps.lang.typesystem.structure.DefaultGroupReference" id="5970100369440882422" />
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="4312073247720489872">
      <property name="name" value="expression" />
      <link role="concept" targetNodeId="1.4312073247720468747" resolveInfo="AskBooleanExpression" />
    </node>
  </node>
</model>

