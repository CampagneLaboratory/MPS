<?xml version="1.0" encoding="UTF-8"?>
<model modelUID="r:00000000-0000-4000-0000-011c8959029c(jetbrains.mps.lang.editor.plugin)">
  <persistence version="3" />
  <refactoringHistory />
  <language namespace="28f9e497-3b42-4291-aeba-0a1039153ab1(jetbrains.mps.lang.plugin)" />
  <language namespace="83888646-71ce-4f1c-9c53-c54016f6ad4f(jetbrains.mps.baseLanguage.collections)" />
  <language namespace="7866978e-a0f0-4cc7-81bc-4d213d9375e1(jetbrains.mps.lang.smodel)" />
  <language namespace="f3061a53-9226-4cc5-a443-f952ceaf5816(jetbrains.mps.baseLanguage)" />
  <language namespace="443f4c36-fcf5-4eb6-9500-8d06ed259e3e(jetbrains.mps.baseLanguage.classifiers)" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590361(jetbrains.mps.lang.plugin.constraints)" version="19" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590368(jetbrains.mps.lang.plugin.structure)" version="19" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590328(jetbrains.mps.baseLanguage.collections.constraints)" version="6" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959032e(jetbrains.mps.baseLanguage.collections.structure)" version="4" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902fb(jetbrains.mps.lang.smodel.constraints)" version="21" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590301(jetbrains.mps.lang.smodel.structure)" version="16" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902c1(jetbrains.mps.baseLanguage.constraints)" version="83" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ca(jetbrains.mps.baseLanguage.structure)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959036e(jetbrains.mps.baseLanguage.classifiers.constraints)" version="7" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590338(jetbrains.mps.baseLanguage.closures.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590298(jetbrains.mps.lang.editor.constraints)" version="21" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959028c(jetbrains.mps.lang.structure.constraints)" version="11" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ba(jetbrains.mps.lang.sharedConcepts.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590334(jetbrains.mps.baseLanguage.closures.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590283(jetbrains.mps.lang.core.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895903e4(jetbrains.mps.internal.collections.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959029e(jetbrains.mps.lang.editor.structure)" version="32" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902db(jetbrains.mps.baseLanguage.blTypes.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590292(jetbrains.mps.lang.structure.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902bc(jetbrains.mps.lang.sharedConcepts.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959033d(jetbrains.mps.lang.annotations.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895903fe(jetbrains.mps.baseLanguage.strings.constraints)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590402(jetbrains.mps.baseLanguage.strings.structure)" version="9" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902c9(jetbrains.mps.baseLanguage.scripts)" version="0" />
  <maxImportIndex value="15" />
  <import index="1" modelUID="r:00000000-0000-4000-0000-011c8959029e(jetbrains.mps.lang.editor.structure)" version="32" />
  <import index="2" modelUID="f:java_stub#jetbrains.mps.smodel(jetbrains.mps.smodel@java_stub)" version="-1" />
  <import index="5" modelUID="f:java_stub#java.lang(java.lang@java_stub)" version="-1" />
  <import index="6" modelUID="f:java_stub#jetbrains.mps.resolve(jetbrains.mps.resolve@java_stub)" version="-1" />
  <import index="7" modelUID="f:java_stub#jetbrains.mps.typesystem.integration(jetbrains.mps.typesystem.integration@java_stub)" version="-1" />
  <import index="8" modelUID="f:java_stub#jetbrains.mps.project(jetbrains.mps.project@java_stub)" version="-1" />
  <import index="9" modelUID="f:java_stub#jetbrains.mps.plugins(jetbrains.mps.plugins@java_stub)" version="-1" />
  <import index="10" modelUID="f:java_stub#jetbrains.mps.nodeEditor(jetbrains.mps.nodeEditor@java_stub)" version="-1" />
  <import index="11" modelUID="f:java_stub#jetbrains.mps.workbench.action(jetbrains.mps.workbench.action@java_stub)" version="-1" />
  <import index="12" modelUID="r:00000000-0000-4000-0000-011c8959028b(jetbrains.mps.lang.structure.behavior)" version="-1" />
  <import index="13" modelUID="f:java_stub#jetbrains.mps.workbench(jetbrains.mps.workbench@java_stub)" version="-1" />
  <import index="14" modelUID="r:00000000-0000-4000-0000-011c89590292(jetbrains.mps.lang.structure.structure)" version="0" />
  <import index="15" modelUID="r:00000000-0000-4000-0000-011c895904a4(jetbrains.mps.ide.actions)" version="-1" />
  <node type="jetbrains.mps.lang.plugin.structure.ActionDeclaration" id="1207225803603">
    <property name="name" value="CopyThisDown" />
    <property name="caption" value="Duplicate Node" />
    <property name="shortcut" value="control D" />
    <node role="executeFunction" type="jetbrains.mps.lang.plugin.structure.ExecuteBlock" id="1207225803604">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1207225803605">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1221393413552">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1221393413553">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1221393443095">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1221393443096">
                <property name="name" value="nodeToCopy" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1221393443097" />
                <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393709624">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393443098">
                    <node role="operand" type="jetbrains.mps.baseLanguage.classifiers.structure.ThisClassifierExpresson" id="1221393443099" />
                    <node role="operation" type="jetbrains.mps.lang.plugin.structure.ActionParameterReferenceOperation" id="1221393443100">
                      <link role="member" targetNodeId="1207226167041" resolveInfo="inputNodes" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetFirstOperation" id="1221393710471" />
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.WhileStatement" id="1221393443101">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1221393443102">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1221393443103">
                  <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1221393443104">
                    <property name="name" value="parent" />
                    <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1221393443105" />
                    <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393443106">
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1221393443107" />
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221393443108">
                        <link role="variableDeclaration" targetNodeId="1221393443096" resolveInfo="nodeToCopy" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1221393443109">
                  <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1221393443110">
                    <property name="name" value="role" />
                    <node role="type" type="jetbrains.mps.baseLanguage.structure.StringType" id="1225191488339" />
                    <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393443112">
                      <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1221393443113">
                        <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221393443114">
                          <link role="variableDeclaration" targetNodeId="1221393443096" resolveInfo="nodeToCopy" />
                        </node>
                      </node>
                      <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1221393443115">
                        <link role="baseMethodDeclaration" targetNodeId="2.~SNode.getRole_():java.lang.String" resolveInfo="getRole_" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1221393443116">
                  <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1221393443117">
                    <property name="name" value="link" />
                    <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1221393443118">
                      <link role="concept" targetNodeId="14.1071489288298" resolveInfo="LinkDeclaration" />
                    </node>
                    <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393443119">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393443120">
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221393443121">
                          <link role="variableDeclaration" targetNodeId="1221393443104" resolveInfo="parent" />
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetConceptOperation" id="1221393443122" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1221393443123">
                        <link role="baseMethodDeclaration" targetNodeId="12.1213877394467" resolveInfo="findLinkDeclaration" />
                        <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221393443124">
                          <link role="variableDeclaration" targetNodeId="1221393443110" resolveInfo="role" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1221393443125">
                  <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1221393443126">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1221393443127" />
                  </node>
                  <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1221393443128">
                    <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1221393443129" />
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221393443130">
                      <link role="variableDeclaration" targetNodeId="1221393443117" resolveInfo="link" />
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1221393443131">
                  <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1221393443132">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1221393443133">
                      <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1221393443134">
                        <property name="name" value="copy" />
                        <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1221393443135" />
                        <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393443136">
                          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221393443137">
                            <link role="variableDeclaration" targetNodeId="1221393443096" resolveInfo="nodeToCopy" />
                          </node>
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_CopyOperation" id="1221393443138" />
                        </node>
                      </node>
                    </node>
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1221393443139">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393443140">
                        <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1221393443141">
                          <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221393443142">
                            <link role="variableDeclaration" targetNodeId="1221393443104" resolveInfo="parent" />
                          </node>
                        </node>
                        <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1221393443143">
                          <link role="baseMethodDeclaration" targetNodeId="2.~SNode.insertChild(jetbrains.mps.smodel.SNode,java.lang.String,jetbrains.mps.smodel.SNode):void" resolveInfo="insertChild" />
                          <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221393443144">
                            <link role="variableDeclaration" targetNodeId="1221393443096" resolveInfo="nodeToCopy" />
                          </node>
                          <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221393443145">
                            <link role="variableDeclaration" targetNodeId="1221393443110" resolveInfo="role" />
                          </node>
                          <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221393443146">
                            <link role="variableDeclaration" targetNodeId="1221393443134" resolveInfo="copy" />
                          </node>
                        </node>
                      </node>
                    </node>
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1221393443147">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393443148">
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393443149">
                          <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393443150">
                            <node role="operand" type="jetbrains.mps.baseLanguage.classifiers.structure.ThisClassifierExpresson" id="1221393443151" />
                            <node role="operation" type="jetbrains.mps.lang.plugin.structure.ActionDataParameterReferenceOperation" id="1221393443152">
                              <link role="member" targetNodeId="1217420648498" resolveInfo="editor" />
                            </node>
                          </node>
                          <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1221393443153">
                            <link role="baseMethodDeclaration" targetNodeId="10.~EditorComponent.getEditorContext():jetbrains.mps.nodeEditor.EditorContext" resolveInfo="getEditorContext" />
                          </node>
                        </node>
                        <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1221393443154">
                          <link role="baseMethodDeclaration" targetNodeId="10.~EditorContext.selectWRTFocusPolicy(jetbrains.mps.smodel.SNode):void" resolveInfo="selectWRTFocusPolicy" />
                          <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221393443155">
                            <link role="variableDeclaration" targetNodeId="1221393443134" resolveInfo="copy" />
                          </node>
                        </node>
                      </node>
                    </node>
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1221928655235">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221928694349">
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221928655236">
                          <node role="operand" type="jetbrains.mps.baseLanguage.classifiers.structure.ThisClassifierExpresson" id="1221928655237" />
                          <node role="operation" type="jetbrains.mps.lang.plugin.structure.ActionDataParameterReferenceOperation" id="1221928655238">
                            <link role="member" targetNodeId="1217420648498" resolveInfo="editor" />
                          </node>
                        </node>
                        <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1221928716142">
                          <link role="baseMethodDeclaration" targetNodeId="10.~EditorComponent.selectNode(jetbrains.mps.smodel.SNode):void" resolveInfo="selectNode" />
                          <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221928726175">
                            <link role="variableDeclaration" targetNodeId="1221393443134" resolveInfo="copy" />
                          </node>
                        </node>
                      </node>
                    </node>
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1221393443156" />
                  </node>
                  <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="1221393443157">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393443158">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221393443159">
                        <link role="variableDeclaration" targetNodeId="1221393443117" resolveInfo="link" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1221393443160">
                        <link role="baseMethodDeclaration" targetNodeId="12.1213877254557" resolveInfo="isSingular" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1221393443161">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1221393443162">
                    <node role="rValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221393443163">
                      <link role="variableDeclaration" targetNodeId="1221393443104" resolveInfo="parent" />
                    </node>
                    <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221393443164">
                      <link role="variableDeclaration" targetNodeId="1221393443096" resolveInfo="nodeToCopy" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1221393443165">
                <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1221393443166" />
                <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393443167">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221393443168">
                    <link role="variableDeclaration" targetNodeId="1221393443096" resolveInfo="nodeToCopy" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1221393443169" />
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1221393436804">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1221393437041">
              <property name="value" value="1" />
            </node>
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393423024">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393418697">
                <node role="operand" type="jetbrains.mps.baseLanguage.classifiers.structure.ThisClassifierExpresson" id="1221393418698" />
                <node role="operation" type="jetbrains.mps.lang.plugin.structure.ActionParameterReferenceOperation" id="1221393418699">
                  <link role="member" targetNodeId="1207226167041" resolveInfo="inputNodes" />
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetSizeOperation" id="1221393426668" />
            </node>
          </node>
          <node role="ifFalseStatement" type="jetbrains.mps.baseLanguage.structure.BlockStatement" id="1221393468070">
            <node role="statements" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1221393468071">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1221393778542">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1221393778543">
                  <property name="name" value="firstNode" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1221393778544" />
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393789768">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393788952">
                      <node role="operand" type="jetbrains.mps.baseLanguage.classifiers.structure.ThisClassifierExpresson" id="1221393788953" />
                      <node role="operation" type="jetbrains.mps.lang.plugin.structure.ActionParameterReferenceOperation" id="1221393788954">
                        <link role="member" targetNodeId="1207226167041" resolveInfo="inputNodes" />
                      </node>
                    </node>
                    <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetFirstOperation" id="1221393790349" />
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1221393848380">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1221393848381">
                  <property name="name" value="lastNode" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1221393848382" />
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393859059">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393858119">
                      <node role="operand" type="jetbrains.mps.baseLanguage.classifiers.structure.ThisClassifierExpresson" id="1221393858120" />
                      <node role="operation" type="jetbrains.mps.lang.plugin.structure.ActionParameterReferenceOperation" id="1221393858121">
                        <link role="member" targetNodeId="1207226167041" resolveInfo="inputNodes" />
                      </node>
                    </node>
                    <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetLastOperation" id="1221393859734" />
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1221393890036">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1221393890037">
                  <property name="name" value="role" />
                  <node role="type" type="jetbrains.mps.baseLanguage.structure.StringType" id="1225191496181" />
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393890039">
                    <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1221393890040">
                      <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221393895152">
                        <link role="variableDeclaration" targetNodeId="1221393778543" resolveInfo="firstNode" />
                      </node>
                    </node>
                    <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1221393890042">
                      <link role="baseMethodDeclaration" targetNodeId="2.~SNode.getRole_():java.lang.String" resolveInfo="getRole_" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1221393805586">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1221393805587">
                  <property name="name" value="parent" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1221393805588" />
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393813010">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221393811169">
                      <link role="variableDeclaration" targetNodeId="1221393778543" resolveInfo="firstNode" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1221393817841" />
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1221393877112">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1221393877113">
                  <property name="name" value="link" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1221393877114">
                    <link role="concept" targetNodeId="14.1071489288298" resolveInfo="LinkDeclaration" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393877115">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393877116">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221393877117">
                        <link role="variableDeclaration" targetNodeId="1221393805587" resolveInfo="parent" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetConceptOperation" id="1221393877118" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1221393877119">
                      <link role="baseMethodDeclaration" targetNodeId="12.1213877394467" resolveInfo="findLinkDeclaration" />
                      <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221393877120">
                        <link role="variableDeclaration" targetNodeId="1221393890037" resolveInfo="role" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1221393877121">
                <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1221393877122">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1221393877123" />
                </node>
                <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1221393877124">
                  <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1221393877125" />
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221393877126">
                    <link role="variableDeclaration" targetNodeId="1221393877113" resolveInfo="link" />
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.collections.structure.ForEachStatement" id="1221393998360">
                <node role="variable" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariable" id="1221393998361">
                  <property name="name" value="node" />
                </node>
                <node role="inputSequence" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221394016530">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221394016073">
                    <node role="operand" type="jetbrains.mps.baseLanguage.classifiers.structure.ThisClassifierExpresson" id="1221394016074" />
                    <node role="operation" type="jetbrains.mps.lang.plugin.structure.ActionParameterReferenceOperation" id="1221394016075">
                      <link role="member" targetNodeId="1207226167041" resolveInfo="inputNodes" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.ReverseOperation" id="1221394020190" />
                </node>
                <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1221393998363">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1221394005771">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221394005772">
                      <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1221394005773">
                        <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221394005774">
                          <link role="variableDeclaration" targetNodeId="1221393805587" resolveInfo="parent" />
                        </node>
                      </node>
                      <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1221394005775">
                        <link role="baseMethodDeclaration" targetNodeId="2.~SNode.insertChild(jetbrains.mps.smodel.SNode,java.lang.String,jetbrains.mps.smodel.SNode):void" resolveInfo="insertChild" />
                        <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221394040351">
                          <link role="variableDeclaration" targetNodeId="1221393848381" resolveInfo="lastNode" />
                        </node>
                        <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221394046124">
                          <link role="variableDeclaration" targetNodeId="1221393890037" resolveInfo="role" />
                        </node>
                        <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221394052466">
                          <node role="operand" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariableReference" id="1221394052226">
                            <link role="variable" targetNodeId="1221393998361" resolveInfo="node" />
                          </node>
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_CopyOperation" id="1221394053203" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1221928735584">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221928736900">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1222111614217">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221928735585">
                      <node role="operand" type="jetbrains.mps.baseLanguage.classifiers.structure.ThisClassifierExpresson" id="1221928735586" />
                      <node role="operation" type="jetbrains.mps.lang.plugin.structure.ActionDataParameterReferenceOperation" id="1222111571471">
                        <link role="member" targetNodeId="1217420648498" resolveInfo="editor" />
                      </node>
                    </node>
                    <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1222111622380">
                      <link role="baseMethodDeclaration" targetNodeId="10.~EditorComponent.getEditorContext():jetbrains.mps.nodeEditor.EditorContext" resolveInfo="getEditorContext" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1221928739481">
                    <link role="baseMethodDeclaration" targetNodeId="10.~EditorContext.selectRange(jetbrains.mps.smodel.SNode,jetbrains.mps.smodel.SNode):void" resolveInfo="selectRange" />
                    <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221928768640">
                      <link role="variableDeclaration" targetNodeId="1221393778543" resolveInfo="firstNode" />
                    </node>
                    <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1221928770829">
                      <link role="variableDeclaration" targetNodeId="1221393848381" resolveInfo="lastNode" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="keystroke" type="jetbrains.mps.lang.plugin.structure.KeyMapKeystroke" id="1207909043755">
      <property name="modifiers" value="ctrl" />
      <property name="keycode" value="VK_D" />
    </node>
    <node role="parameter" type="jetbrains.mps.lang.plugin.structure.ActionDataParameterDeclaration" id="1217420648498">
      <property name="name" value="editor" />
      <link role="key" targetNodeId="13.~MPSDataKeys.EDITOR_COMPONENT" resolveInfo="EDITOR_COMPONENT" />
    </node>
    <node role="parameter" type="jetbrains.mps.lang.plugin.structure.ActionParameterDeclaration" id="1207226167041">
      <property name="name" value="inputNodes" />
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1207226167042" />
      <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="1221393394133" />
    </node>
    <node role="updateBlock" type="jetbrains.mps.lang.plugin.structure.IsApplicableBlock" id="1221393476729">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1221393476730">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1221393588623">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1221393588624">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1221393599514">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1221393600908">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1221393597493">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1221393597699">
              <property name="value" value="0" />
            </node>
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393594757">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1221393591488">
                <node role="operand" type="jetbrains.mps.baseLanguage.classifiers.structure.ThisClassifierExpresson" id="1221393590377" />
                <node role="operation" type="jetbrains.mps.lang.plugin.structure.ActionParameterReferenceOperation" id="1221393593413">
                  <link role="member" targetNodeId="1207226167041" resolveInfo="inputNodes" />
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetSizeOperation" id="1221393595479" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1221393673249">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1221393676412">
            <property name="value" value="true" />
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.plugin.structure.ActionGroupDeclaration" id="1207227007620">
    <property name="name" value="EditorActions" />
    <node role="modifier" type="jetbrains.mps.lang.plugin.structure.ModificationStatement" id="1207227048469">
      <link role="modifiedGroup" targetNodeId="15.1204991231476" resolveInfo="EditorPopup" />
    </node>
    <node role="modifier" type="jetbrains.mps.lang.plugin.structure.ModificationStatement" id="1207910596238">
      <link role="modifiedGroup" targetNodeId="15.1204991235731" resolveInfo="Edit" />
      <link role="point" targetNodeId="15.1207910902706" resolveInfo="custom" />
    </node>
    <node role="contents" type="jetbrains.mps.lang.plugin.structure.ElementListContents" id="1207227023325">
      <node role="reference" type="jetbrains.mps.lang.plugin.structure.ActionInstance" id="1207227037234">
        <link role="action" targetNodeId="1207225803603" resolveInfo="CopyThisDown" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.plugin.structure.ProjectPluginDeclaration" id="1207844373881">
    <property name="name" value="EditorLangPlugin" />
    <node role="fieldDeclaration" type="jetbrains.mps.baseLanguage.classifiers.structure.DefaultClassifierFieldDeclaration" id="1215438685387">
      <property name="name" value="myAutoResolver" />
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PrivateVisibility" id="1215438685388" />
      <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1215438690213">
        <link role="classifier" targetNodeId="6.~AutoResolver" resolveInfo="AutoResolver" />
      </node>
    </node>
    <node role="initBlock" type="jetbrains.mps.lang.plugin.structure.ProjectPluginInitBlock" id="1207844406262">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1207844406263">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1207844454228">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1207844456560">
            <node role="rValue" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1213036006746">
              <node role="creator" type="jetbrains.mps.baseLanguage.structure.ClassCreator" id="1213036006748">
                <link role="baseMethodDeclaration" targetNodeId="6.~AutoResolver.&lt;init&gt;()" resolveInfo="AutoResolver" />
              </node>
            </node>
            <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207844454229">
              <node role="operand" type="jetbrains.mps.baseLanguage.classifiers.structure.ThisClassifierExpresson" id="1207844454230" />
              <node role="operation" type="jetbrains.mps.baseLanguage.classifiers.structure.DefaultClassifierFieldAccessOperation" id="1215438697558">
                <link role="member" targetNodeId="1215438685387" resolveInfo="myAutoResolver" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1207844495367">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1207844495368">
            <property name="name" value="highlighter" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1207844495369">
              <link role="classifier" targetNodeId="10.~Highlighter" resolveInfo="Highlighter" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207844502494">
              <node role="operand" type="jetbrains.mps.lang.plugin.structure.ConceptFunctionParameter_MPSProject" id="1207844501371" />
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1207844509018">
                <link role="baseMethodDeclaration" targetNodeId="8.~MPSProject.getComponent(java.lang.Class):java.lang.Object" resolveInfo="getComponent" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ClassifierClassExpression" id="1207844519373">
                  <link role="classifier" targetNodeId="10.~Highlighter" resolveInfo="Highlighter" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1207844522220">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1207844522221">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1207844535198">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207844536106">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1207844535199">
                  <link role="variableDeclaration" targetNodeId="1207844495368" resolveInfo="highlighter" />
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1207844537077">
                  <link role="baseMethodDeclaration" targetNodeId="10.~Highlighter.addChecker(jetbrains.mps.nodeEditor.IEditorChecker):void" resolveInfo="addChecker" />
                  <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207844539359">
                    <node role="operand" type="jetbrains.mps.baseLanguage.classifiers.structure.ThisClassifierExpresson" id="1207844539360" />
                    <node role="operation" type="jetbrains.mps.baseLanguage.classifiers.structure.DefaultClassifierFieldAccessOperation" id="1215438699887">
                      <link role="member" targetNodeId="1215438685387" resolveInfo="myAutoResolver" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1207844524990">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1207844526837" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1207844524161">
              <link role="variableDeclaration" targetNodeId="1207844495368" resolveInfo="highlighter" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="disposeBlock" type="jetbrains.mps.lang.plugin.structure.ProjectPluginDisposeBlock" id="1207844548925">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1207844548926">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1207844554100">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1207844554101">
            <property name="name" value="highlighter" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1207844554102">
              <link role="classifier" targetNodeId="10.~Highlighter" resolveInfo="Highlighter" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207844554103">
              <node role="operand" type="jetbrains.mps.lang.plugin.structure.ConceptFunctionParameter_MPSProject" id="1207844554104" />
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1207844554105">
                <link role="baseMethodDeclaration" targetNodeId="8.~MPSProject.getComponent(java.lang.Class):java.lang.Object" resolveInfo="getComponent" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ClassifierClassExpression" id="1207844554106">
                  <link role="classifier" targetNodeId="10.~Highlighter" resolveInfo="Highlighter" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1207844554107">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1207844554108">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1207844554109">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207844554110">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1207844554111">
                  <link role="variableDeclaration" targetNodeId="1207844554101" resolveInfo="highlighter" />
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1207844554112">
                  <link role="baseMethodDeclaration" targetNodeId="10.~Highlighter.removeChecker(jetbrains.mps.nodeEditor.IEditorChecker):void" resolveInfo="removeChecker" />
                  <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207844554113">
                    <node role="operand" type="jetbrains.mps.baseLanguage.classifiers.structure.ThisClassifierExpresson" id="1207844554114" />
                    <node role="operation" type="jetbrains.mps.baseLanguage.classifiers.structure.DefaultClassifierFieldAccessOperation" id="1215438702373">
                      <link role="member" targetNodeId="1215438685387" resolveInfo="myAutoResolver" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1207844554116">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1207844554117" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1207844554118">
              <link role="variableDeclaration" targetNodeId="1207844554101" resolveInfo="highlighter" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
</model>

