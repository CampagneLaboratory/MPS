<?xml version="1.0" encoding="UTF-8"?>
<model modelUID="r:00000000-0000-4000-0000-011c89590296(jetbrains.mps.lang.editor.actions)">
  <persistence version="3" />
  <refactoringHistory />
  <language namespace="aee9cad2-acd4-4608-aef2-0004f6a1cdbd(jetbrains.mps.lang.actions)" />
  <language namespace="f3061a53-9226-4cc5-a443-f952ceaf5816(jetbrains.mps.baseLanguage)" />
  <language namespace="7866978e-a0f0-4cc7-81bc-4d213d9375e1(jetbrains.mps.lang.smodel)" />
  <language namespace="13744753-c81f-424a-9c1b-cf8943bf4e86(jetbrains.mps.lang.sharedConcepts)" />
  <language namespace="7a5dda62-9140-4668-ab76-d5ed1746f2b2(jetbrains.mps.lang.typesystem)" />
  <language namespace="83888646-71ce-4f1c-9c53-c54016f6ad4f(jetbrains.mps.baseLanguage.collections)" />
  <language namespace="fd392034-7849-419d-9071-12563d152375(jetbrains.mps.baseLanguage.closures)" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902a4(jetbrains.mps.lang.actions.constraints)" version="16" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902a8(jetbrains.mps.lang.actions.structure)" version="23" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902c1(jetbrains.mps.baseLanguage.constraints)" version="83" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ca(jetbrains.mps.baseLanguage.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902fb(jetbrains.mps.lang.smodel.constraints)" version="21" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590301(jetbrains.mps.lang.smodel.structure)" version="16" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ba(jetbrains.mps.lang.sharedConcepts.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590328(jetbrains.mps.baseLanguage.collections.constraints)" version="6" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959032e(jetbrains.mps.baseLanguage.collections.structure)" version="7" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590307(jetbrains.mps.lang.constraints.constraints)" version="9" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959030d(jetbrains.mps.lang.constraints.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590338(jetbrains.mps.baseLanguage.closures.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590298(jetbrains.mps.lang.editor.constraints)" version="21" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959028c(jetbrains.mps.lang.structure.constraints)" version="11" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590334(jetbrains.mps.baseLanguage.closures.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590283(jetbrains.mps.lang.core.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895903e4(jetbrains.mps.internal.collections.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959029e(jetbrains.mps.lang.editor.structure)" version="32" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902db(jetbrains.mps.baseLanguage.blTypes.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590292(jetbrains.mps.lang.structure.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902bc(jetbrains.mps.lang.sharedConcepts.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959033d(jetbrains.mps.lang.annotations.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895903fe(jetbrains.mps.baseLanguage.strings.constraints)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590402(jetbrains.mps.baseLanguage.strings.structure)" version="9" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902b4(jetbrains.mps.lang.typesystem.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ae(jetbrains.mps.lang.typesystem.constraints)" version="17" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590345(jetbrains.mps.lang.pattern.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590340(jetbrains.mps.lang.pattern.constraints)" version="2" />
  <maxImportIndex value="13" />
  <import index="1" modelUID="r:00000000-0000-4000-0000-011c8959029e(jetbrains.mps.lang.editor.structure)" version="32" />
  <import index="3" modelUID="f:java_stub#jetbrains.mps.smodel(jetbrains.mps.smodel@java_stub)" version="-1" />
  <import index="4" modelUID="r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)" version="0" />
  <import index="5" modelUID="f:java_stub#java.lang(java.lang@java_stub)" version="-1" />
  <import index="7" modelUID="f:java_stub#jetbrains.mps.util(jetbrains.mps.util@java_stub)" version="-1" />
  <import index="11" modelUID="r:00000000-0000-4000-0000-011c89590292(jetbrains.mps.lang.structure.structure)" version="0" />
  <import index="12" modelUID="r:00000000-0000-4000-0000-011c89590297(jetbrains.mps.lang.editor.behavior)" version="-1" />
  <node type="jetbrains.mps.lang.actions.structure.NodeSubstituteActions" id="1119639069735">
    <property name="name" value="EDTL_node_substitute" />
    <node role="actionsBuilder" type="jetbrains.mps.lang.actions.structure.NodeSubstituteActionsBuilder" id="1199894656684">
      <link role="applicableConcept" targetNodeId="1.1164824854750" resolveInfo="CellMenuPart_Abstract" />
      <node role="precondition" type="jetbrains.mps.lang.actions.structure.NodeSubstitutePreconditionFunction" id="1199894693230">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1199894693231">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1199894698983">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1199894698984">
              <property name="name" value="editedFeature" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1199894698985" />
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1220342574676">
                <link role="baseMethodDeclaration" targetNodeId="12.1220342512429" resolveInfo="getEditedFeature" />
                <link role="classConcept" targetNodeId="12.1220342505672" resolveInfo="CellMenuUtil" />
                <node role="actualArgument" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_parentNode" id="1220342575364" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1199894746322">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227897050">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1199894747243">
                <link role="variableDeclaration" targetNodeId="1199894698984" resolveInfo="editedFeature" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1199894749242">
                <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1199894752377">
                  <link role="conceptDeclaration" targetNodeId="11.1071489288299" resolveInfo="PropertyDeclaration" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="part" type="jetbrains.mps.lang.actions.structure.ConceptSubstitutePart" id="1199894794117">
        <link role="concept" targetNodeId="1.1164833692343" resolveInfo="CellMenuPart_PropertyValues" />
      </node>
      <node role="part" type="jetbrains.mps.lang.actions.structure.ConceptSubstitutePart" id="1199894812388">
        <link role="concept" targetNodeId="1.1180615838666" resolveInfo="CellMenuPart_PropertyPostfixHints" />
      </node>
    </node>
    <node role="actionsBuilder" type="jetbrains.mps.lang.actions.structure.NodeSubstituteActionsBuilder" id="1199894924671">
      <link role="applicableConcept" targetNodeId="1.1164824854750" resolveInfo="CellMenuPart_Abstract" />
      <node role="precondition" type="jetbrains.mps.lang.actions.structure.NodeSubstitutePreconditionFunction" id="1199894948366">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1199894948367">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1199894948633">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1199894948634">
              <property name="name" value="editedFeature" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1199894948635" />
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1220342594073">
                <link role="baseMethodDeclaration" targetNodeId="12.1220342512429" resolveInfo="getEditedFeature" />
                <link role="classConcept" targetNodeId="12.1220342505672" resolveInfo="CellMenuUtil" />
                <node role="actualArgument" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_parentNode" id="1220342595230" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1199894950556">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.AndExpression" id="1199894960914">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227897502">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227840888">
                  <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1199894969895">
                    <link role="concept" targetNodeId="11.1071489288298" resolveInfo="LinkDeclaration" />
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1199894962585">
                      <link role="variableDeclaration" targetNodeId="1199894948634" resolveInfo="editedFeature" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1199894978114">
                    <link role="property" targetNodeId="11.1071599937831" resolveInfo="metaClass" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Property_HasValue_Enum" id="1199894982607">
                  <node role="value" type="jetbrains.mps.lang.smodel.structure.EnumMemberReference" id="1199894982608">
                    <link role="enumMember" targetNodeId="11.1084199179704" resolveInfo="reference" />
                  </node>
                </node>
              </node>
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227880693">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1199894951649">
                  <link role="variableDeclaration" targetNodeId="1199894948634" resolveInfo="editedFeature" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1199894957653">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1199894959089">
                    <link role="conceptDeclaration" targetNodeId="11.1071489288298" resolveInfo="LinkDeclaration" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="part" type="jetbrains.mps.lang.actions.structure.ConceptSubstitutePart" id="1199894989654">
        <link role="concept" targetNodeId="1.1164996492011" resolveInfo="CellMenuPart_ReferentPrimary" />
      </node>
    </node>
    <node role="actionsBuilder" type="jetbrains.mps.lang.actions.structure.NodeSubstituteActionsBuilder" id="1199895015795">
      <link role="applicableConcept" targetNodeId="1.1164824854750" resolveInfo="CellMenuPart_Abstract" />
      <node role="precondition" type="jetbrains.mps.lang.actions.structure.NodeSubstitutePreconditionFunction" id="1199895015796">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1199895015797">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1199895015798">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1199895015799">
              <property name="name" value="editedFeature" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1199895015800" />
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1220342584616">
                <link role="baseMethodDeclaration" targetNodeId="12.1220342512429" resolveInfo="getEditedFeature" />
                <link role="classConcept" targetNodeId="12.1220342505672" resolveInfo="CellMenuUtil" />
                <node role="actualArgument" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_parentNode" id="1220342585820" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1199895015803">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.AndExpression" id="1199895015804">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227896715">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227847516">
                  <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1199895015810">
                    <link role="concept" targetNodeId="11.1071489288298" resolveInfo="LinkDeclaration" />
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1199895015811">
                      <link role="variableDeclaration" targetNodeId="1199895015799" resolveInfo="editedFeature" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1199895015809">
                    <link role="property" targetNodeId="11.1071599937831" resolveInfo="metaClass" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Property_HasValue_Enum" id="1199895015806">
                  <node role="value" type="jetbrains.mps.lang.smodel.structure.EnumMemberReference" id="1199895015807">
                    <link role="enumMember" targetNodeId="11.1084199179705" resolveInfo="aggregation" />
                  </node>
                </node>
              </node>
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227910334">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1199895015815">
                  <link role="variableDeclaration" targetNodeId="1199895015799" resolveInfo="editedFeature" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1199895015813">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1199895015814">
                    <link role="conceptDeclaration" targetNodeId="11.1071489288298" resolveInfo="LinkDeclaration" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="part" type="jetbrains.mps.lang.actions.structure.ConceptSubstitutePart" id="1199895023813">
        <link role="concept" targetNodeId="1.1165270418989" resolveInfo="CellMenuPart_ReplaceChild_Group" />
      </node>
      <node role="part" type="jetbrains.mps.lang.actions.structure.ConceptSubstitutePart" id="1199895037500">
        <link role="concept" targetNodeId="1.1165339175678" resolveInfo="CellMenuPart_ReplaceChild_Item" />
      </node>
      <node role="part" type="jetbrains.mps.lang.actions.structure.ConceptSubstitutePart" id="1199895047352">
        <link role="concept" targetNodeId="1.1165280503630" resolveInfo="CellMenuPart_ReplaceChild_CustomChildConcept" />
      </node>
      <node role="part" type="jetbrains.mps.lang.actions.structure.ConceptSubstitutePart" id="1199895061413">
        <link role="concept" targetNodeId="1.1174088067129" resolveInfo="CellMenuPart_ReplaceChildPrimary" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.actions.structure.NodeFactories" id="1158947431096">
    <property name="name" value="EDTL_node_factories" />
    <node role="nodeFactory" type="jetbrains.mps.lang.actions.structure.NodeFactory" id="1158947460472">
      <property name="description" value="property is R/O if cell is created inside Ref.Node cell" />
      <link role="applicableConcept" targetNodeId="1.1073389658414" />
      <node role="setupFunction" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction" id="1158947460473">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1158947460474">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1158948118952">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1158948118953">
              <property name="name" value="parentRefCell" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1158948118955">
                <link role="concept" targetNodeId="1.1088013125922" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227852585">
                <node role="operand" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_EnclosingNode" id="1158948011533" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1177556243465">
                  <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Inclusion" id="1158948064168" />
                  <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1158948068608">
                    <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1207872492603">
                      <link role="conceptDeclaration" targetNodeId="1.1088013125922" resolveInfo="CellModel_RefCell" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1158948124192">
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1158948128618">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1158948131136" />
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1158948125585">
                <link role="variableDeclaration" targetNodeId="1158948118953" resolveInfo="parentRefCell" />
              </node>
            </node>
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1158948124194">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1158948141309">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227849889">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227897289">
                    <node role="operand" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_NewNode" id="1158948141310" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1158948146687">
                      <link role="property" targetNodeId="1.1140017977771" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Property_SetOperation" id="1158948150939">
                    <node role="value" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1158948154972">
                      <property name="value" value="true" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="nodeFactory" type="jetbrains.mps.lang.actions.structure.NodeFactory" id="1159287296418">
      <property name="description" value="wrap cell into collection" />
      <link role="applicableConcept" targetNodeId="1.1073389446423" />
      <node role="setupFunction" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction" id="1159287296419">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1159287296420">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1162581464184">
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227934450">
              <node role="operand" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_EnclosingNode" id="1162581771567" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1162581483441">
                <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1177556242885">
                  <link role="conceptDeclaration" targetNodeId="1.1073389446423" />
                </node>
              </node>
            </node>
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1162581464186">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1241444894273">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1241444894995">
                  <node role="operand" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_NewNode" id="1241444894541" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1241444896405">
                    <link role="baseMethodDeclaration" targetNodeId="12.1241444765326" resolveInfo="setSelectable" />
                    <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1241444897187">
                      <property name="value" value="false" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1239813782084">
                <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1239813782085">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1239813814779">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1239813814780">
                      <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1239813814781">
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1239813814782">
                          <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1239813814783">
                            <link role="concept" targetNodeId="1.1073389446423" resolveInfo="CellModel_Collection" />
                            <node role="leftExpression" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_EnclosingNode" id="1239813814784" />
                          </node>
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1239813814785">
                            <link role="link" targetNodeId="1.1106270802874" />
                          </node>
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_CopyOperation" id="1239813814786" />
                      </node>
                      <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1239813814787">
                        <node role="operand" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_NewNode" id="1239813814788" />
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1239813814789">
                          <link role="link" targetNodeId="1.1106270802874" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
                <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1239813809573">
                  <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1239813811037" />
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1239813789848">
                    <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1239813789849">
                      <link role="concept" targetNodeId="1.1073389446423" resolveInfo="CellModel_Collection" />
                      <node role="leftExpression" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_EnclosingNode" id="1239813789850" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1239813789851">
                      <link role="link" targetNodeId="1.1106270802874" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1159287385551">
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227884249">
              <node role="operand" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_SampleNode" id="1159287388695" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1159287393494">
                <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1177556242854">
                  <link role="conceptDeclaration" targetNodeId="1.1073389214265" />
                </node>
              </node>
            </node>
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1159287385553">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1187370374055">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1187370374056">
                  <property name="name" value="innerNode" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1187370374057">
                    <link role="concept" targetNodeId="1.1073389214265" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227929269">
                    <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1159287444802">
                      <link role="concept" targetNodeId="1.1073389214265" />
                      <node role="leftExpression" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_SampleNode" id="1159287431236" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_CopyOperation" id="1165441724383" />
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1159287412760">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227886176">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227913839">
                    <node role="operand" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_NewNode" id="1159287412761" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkListAccess" id="1159287423232">
                      <link role="link" targetNodeId="1.1073389446424" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.LinkList_AddChildOperation" id="1159287427281">
                    <node role="childNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1187370374058">
                      <link role="variableDeclaration" targetNodeId="1187370374056" resolveInfo="innerNode" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1187370382914">
                <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1187370382915">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1241444906299">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1241444906832">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1241444906300">
                        <link role="variableDeclaration" targetNodeId="1187370374056" resolveInfo="innerNode" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1241444908414">
                        <link role="baseMethodDeclaration" targetNodeId="12.1241444765326" resolveInfo="setSelectable" />
                        <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1241444909119">
                          <property name="value" value="false" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
                <node role="condition" type="jetbrains.mps.baseLanguage.structure.AndExpression" id="1241443947870">
                  <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1241443969084">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1241443968581">
                      <link role="variableDeclaration" targetNodeId="1187370374056" resolveInfo="innerNode" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1241443970246">
                      <link role="baseMethodDeclaration" targetNodeId="12.1219420196673" resolveInfo="isSelectable" />
                    </node>
                  </node>
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227831682">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1187370384363">
                      <link role="variableDeclaration" targetNodeId="1187370374056" resolveInfo="innerNode" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1187370385944">
                      <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1187370398080">
                        <link role="conceptDeclaration" targetNodeId="1.1073389446423" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="nodeFactory" type="jetbrains.mps.lang.actions.structure.NodeFactory" id="1165441265075">
      <property name="description" value="wrap cell into cell alternation" />
      <link role="applicableConcept" targetNodeId="1.1088612959204" />
      <node role="setupFunction" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction" id="1165441265076">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1165441265077">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1165441621427">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227851021">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227937732">
                <node role="operand" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_NewNode" id="1165441621428" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1165441626805">
                  <link role="property" targetNodeId="1.1088613081987" />
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Property_SetOperation" id="1165441631620">
                <node role="value" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1165441636075">
                  <property name="value" value="true" />
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1165441453670">
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227927843">
              <node role="operand" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_SampleNode" id="1165441453672" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1165441453673">
                <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1177556242894">
                  <link role="conceptDeclaration" targetNodeId="1.1073389214265" />
                </node>
              </node>
            </node>
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1165441453674">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1165441453675">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227880145">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227882756">
                    <node role="operand" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_NewNode" id="1165441453678" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1165441463450">
                      <link role="link" targetNodeId="1.1088612958265" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Link_SetTargetOperation" id="1165441474201">
                    <node role="linkTarget" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227945703">
                      <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1165441552705">
                        <link role="concept" targetNodeId="1.1073389214265" />
                        <node role="leftExpression" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_SampleNode" id="1165441552706" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_CopyOperation" id="1165441740041" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="nodeFactory" type="jetbrains.mps.lang.actions.structure.NodeFactory" id="1239813377368">
      <link role="applicableConcept" targetNodeId="1.1073390211982" resolveInfo="CellModel_RefNodeList" />
      <node role="setupFunction" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction" id="1239813377369">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1239813377370">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1239813403756">
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1239813403757">
              <node role="operand" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_EnclosingNode" id="1239813403758" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1239813403759">
                <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1239813403760">
                  <link role="conceptDeclaration" targetNodeId="1.1073389446423" resolveInfo="CellModel_Collection" />
                </node>
              </node>
            </node>
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1239813403761">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1239813819481">
                <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1239813819482">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1239813819483">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1239813819484">
                      <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1239813819485">
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1239813819486">
                          <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1239813819487">
                            <link role="concept" targetNodeId="1.1073389446423" resolveInfo="CellModel_Collection" />
                            <node role="leftExpression" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_EnclosingNode" id="1239813819488" />
                          </node>
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1239813819489">
                            <link role="link" targetNodeId="1.1106270802874" />
                          </node>
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_CopyOperation" id="1239813819490" />
                      </node>
                      <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1239813819491">
                        <node role="operand" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_NewNode" id="1239813819492" />
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1239813983095">
                          <link role="link" targetNodeId="1.1140524464360" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
                <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1239813819494">
                  <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1239813819495" />
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1239813819496">
                    <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1239813819497">
                      <link role="concept" targetNodeId="1.1073389446423" resolveInfo="CellModel_Collection" />
                      <node role="leftExpression" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_EnclosingNode" id="1239813819498" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1239813819499">
                      <link role="link" targetNodeId="1.1106270802874" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.actions.structure.NodeSubstituteActions" id="1177585757706">
    <property name="name" value="custom_actions" />
    <node role="actionsBuilder" type="jetbrains.mps.lang.actions.structure.NodeSubstituteActionsBuilder" id="1177585776510">
      <property name="applicableLinkMetaclass" value="aggregation" />
      <link role="applicableConcept" targetNodeId="1.1073389214265" />
      <node role="part" type="jetbrains.mps.lang.actions.structure.AddMenuPart" id="1177585776511">
        <link role="concept" targetNodeId="1.1073389214265" />
        <node role="part" type="jetbrains.mps.lang.actions.structure.SimpleItemSubstitutePart" id="1177585776512">
          <node role="handler" type="jetbrains.mps.lang.actions.structure.QueryFunction_Substitute_Handler" id="1177585776513">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177585776514">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1177585776515">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1177585776508">
                  <property name="name" value="result" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1177585776516">
                    <link role="concept" targetNodeId="1.1073389446423" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1181948809920">
                    <node role="creator" type="jetbrains.mps.lang.smodel.structure.SNodeCreator" id="1181948813653">
                      <node role="createdType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1181948813654">
                        <link role="concept" targetNodeId="1.1073389446423" />
                      </node>
                      <node role="prototypeNode" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_currentTargetNode" id="1181948864136" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1177585776520">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1239870377541">
                  <node role="rValue" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1239870383406">
                    <node role="creator" type="jetbrains.mps.lang.smodel.structure.SNodeCreator" id="1239870400006">
                      <node role="createdType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1239870400007">
                        <link role="concept" targetNodeId="1.1106270571710" resolveInfo="CellLayout_Vertical" />
                      </node>
                    </node>
                  </node>
                  <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227902613">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1177585776523">
                      <link role="variableDeclaration" targetNodeId="1177585776508" resolveInfo="result" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1239870375425">
                      <link role="link" targetNodeId="1.1106270802874" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177585776527">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1177585776528">
                  <link role="variableDeclaration" targetNodeId="1177585776508" resolveInfo="result" />
                </node>
              </node>
            </node>
          </node>
          <node role="matchingText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1177585776529">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177585776530">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177585776531">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1177585776532">
                  <property name="value" value="collection (vertical)" />
                </node>
              </node>
            </node>
          </node>
          <node role="descriptionText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="2810973186484218362">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="2810973186484218363">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="2810973186484218421">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="2810973186484218422">
                  <property name="value" value="" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="part" type="jetbrains.mps.lang.actions.structure.SimpleItemSubstitutePart" id="1177680848715">
          <node role="handler" type="jetbrains.mps.lang.actions.structure.QueryFunction_Substitute_Handler" id="1177680848716">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177680848717">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1177680848718">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1177680848719">
                  <property name="name" value="result" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1177680848720">
                    <link role="concept" targetNodeId="1.1073389446423" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227921998">
                    <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1177703292611" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewNodeOperation" id="1177703292612">
                      <link role="concept" targetNodeId="1.1073389446423" />
                      <node role="prototypeNode" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_currentTargetNode" id="1177703292613" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1177680848740">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1239870461273">
                  <node role="rValue" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1239870461504">
                    <node role="creator" type="jetbrains.mps.lang.smodel.structure.SNodeCreator" id="1239870463659">
                      <node role="createdType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1239870463660">
                        <link role="concept" targetNodeId="1.1106270571710" resolveInfo="CellLayout_Vertical" />
                      </node>
                    </node>
                  </node>
                  <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227932869">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1177680848743">
                      <link role="variableDeclaration" targetNodeId="1177680848719" resolveInfo="result" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1239870459941">
                      <link role="link" targetNodeId="1.1106270802874" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1183710247186">
                <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1183710247187">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1241444970839">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1241444971216">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1241444970840">
                        <link role="variableDeclaration" targetNodeId="1177680848719" resolveInfo="result" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1241444972345">
                        <link role="baseMethodDeclaration" targetNodeId="12.1241444765326" resolveInfo="setSelectable" />
                        <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1241444973096">
                          <property name="value" value="false" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
                <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227921586">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227837630">
                    <node role="operand" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_parentNode" id="1187090271191" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1187090271188">
                      <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Inclusion" id="1187090271189" />
                      <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1187090271190">
                        <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1207872492601">
                          <link role="conceptDeclaration" targetNodeId="1.1073389446423" resolveInfo="CellModel_Collection" />
                        </node>
                      </node>
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsNotNullOperation" id="1187090271186" />
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177680848747">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1177680848748">
                  <link role="variableDeclaration" targetNodeId="1177680848719" resolveInfo="result" />
                </node>
              </node>
            </node>
          </node>
          <node role="matchingText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1177680848749">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177680848750">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177680848751">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1177680848752">
                  <property name="value" value="[/" />
                </node>
              </node>
            </node>
          </node>
          <node role="descriptionText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1177680848753">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177680848754">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177680848755">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1177680848756">
                  <property name="value" value="collection (vertical)" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="part" type="jetbrains.mps.lang.actions.structure.SimpleItemSubstitutePart" id="1177585776533">
          <node role="handler" type="jetbrains.mps.lang.actions.structure.QueryFunction_Substitute_Handler" id="1177585776534">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177585776535">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1177680038419">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1177680038420">
                  <property name="name" value="result" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1177680038421">
                    <link role="concept" targetNodeId="1.1073389446423" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227899559">
                    <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1177702353258" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewNodeOperation" id="1177702360948">
                      <link role="concept" targetNodeId="1.1073389446423" />
                      <node role="prototypeNode" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_currentTargetNode" id="1177702380792" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1177680038425">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1239870483393">
                  <node role="rValue" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1239870486760">
                    <node role="creator" type="jetbrains.mps.lang.smodel.structure.SNodeCreator" id="1239870488766">
                      <node role="createdType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1239870488767">
                        <link role="concept" targetNodeId="1.1106270549637" resolveInfo="CellLayout_Horizontal" />
                      </node>
                    </node>
                  </node>
                  <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227849015">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1177680038428">
                      <link role="variableDeclaration" targetNodeId="1177680038420" resolveInfo="result" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1239870481773">
                      <link role="link" targetNodeId="1.1106270802874" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177585776548">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1177680046799">
                  <link role="variableDeclaration" targetNodeId="1177680038420" resolveInfo="result" />
                </node>
              </node>
            </node>
          </node>
          <node role="matchingText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1177585776550">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177585776551">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177680413719">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1177680415486">
                  <property name="value" value="collection (horizontal)" />
                </node>
              </node>
            </node>
          </node>
          <node role="descriptionText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="2810973186484218433">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="2810973186484218434">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="2810973186484218435">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="2810973186484218436">
                  <property name="value" value="" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="part" type="jetbrains.mps.lang.actions.structure.SimpleItemSubstitutePart" id="1177680871668">
          <node role="handler" type="jetbrains.mps.lang.actions.structure.QueryFunction_Substitute_Handler" id="1177680871669">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177680871670">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1177680871671">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1177680871672">
                  <property name="name" value="result" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1177680871673">
                    <link role="concept" targetNodeId="1.1073389446423" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227946184">
                    <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1177703347295" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewNodeOperation" id="1177703347296">
                      <link role="concept" targetNodeId="1.1073389446423" />
                      <node role="prototypeNode" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_currentTargetNode" id="1177703347297" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1177680871677">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1239870525170">
                  <node role="rValue" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1239870525342">
                    <node role="creator" type="jetbrains.mps.lang.smodel.structure.SNodeCreator" id="1239870529357">
                      <node role="createdType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1239870529358">
                        <link role="concept" targetNodeId="1.1106270549637" resolveInfo="CellLayout_Horizontal" />
                      </node>
                    </node>
                  </node>
                  <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227921948">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1177680871680">
                      <link role="variableDeclaration" targetNodeId="1177680871672" resolveInfo="result" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1239870524118">
                      <link role="link" targetNodeId="1.1106270802874" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1183710341045">
                <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1183710341046">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1241445003945">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1241445004354">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1241445003946">
                        <link role="variableDeclaration" targetNodeId="1177680871672" resolveInfo="result" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1241445005358">
                        <link role="baseMethodDeclaration" targetNodeId="12.1241444765326" resolveInfo="setSelectable" />
                        <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1241445005952">
                          <property name="value" value="false" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
                <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227833575">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227906072">
                    <node role="operand" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_parentNode" id="1187090258583" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1187090258580">
                      <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Inclusion" id="1187090258581" />
                      <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1187090258582">
                        <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1207872492616">
                          <link role="conceptDeclaration" targetNodeId="1.1073389446423" resolveInfo="CellModel_Collection" />
                        </node>
                      </node>
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsNotNullOperation" id="1187090258578" />
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177680871684">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1177680871685">
                  <link role="variableDeclaration" targetNodeId="1177680871672" resolveInfo="result" />
                </node>
              </node>
            </node>
          </node>
          <node role="matchingText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1177680871686">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177680871687">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177680871688">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1177680871689">
                  <property name="value" value="[&gt;" />
                </node>
              </node>
            </node>
          </node>
          <node role="descriptionText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1177680871690">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177680871691">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177680871692">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1177680871693">
                  <property name="value" value="collection (horizontal)" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="part" type="jetbrains.mps.lang.actions.structure.SimpleItemSubstitutePart" id="1237452047999">
          <node role="handler" type="jetbrains.mps.lang.actions.structure.QueryFunction_Substitute_Handler" id="1237452048000">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1237452048001">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1237452048002">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1237452048003">
                  <property name="name" value="result" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1237452048004">
                    <link role="concept" targetNodeId="1.1073389446423" resolveInfo="CellModel_Collection" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237452048005">
                    <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1237452048006" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewNodeOperation" id="1237452048007">
                      <link role="concept" targetNodeId="1.1073389446423" resolveInfo="CellModel_Collection" />
                      <node role="prototypeNode" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_currentTargetNode" id="1237452048008" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1237452048009">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237452073084">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237452058391">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1237452048012">
                      <link role="variableDeclaration" targetNodeId="1237452048003" resolveInfo="result" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1237452072427">
                      <link role="link" targetNodeId="1.1106270802874" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Link_SetNewChildOperation" id="1237452074573">
                    <link role="concept" targetNodeId="1.1237303669825" resolveInfo="CellLayout_Indent" />
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1237452048016">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1237452048017">
                  <link role="variableDeclaration" targetNodeId="1237452048003" resolveInfo="result" />
                </node>
              </node>
            </node>
          </node>
          <node role="matchingText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1237452048018">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1237452048019">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1237452048020">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1237452048021">
                  <property name="value" value="collection (indent)" />
                </node>
              </node>
            </node>
          </node>
          <node role="descriptionText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="2810973186484218437">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="2810973186484218438">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="2810973186484218439">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="2810973186484218440">
                  <property name="value" value="" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="part" type="jetbrains.mps.lang.actions.structure.SimpleItemSubstitutePart" id="1237452090640">
          <node role="handler" type="jetbrains.mps.lang.actions.structure.QueryFunction_Substitute_Handler" id="1237452090641">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1237452090642">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1237452090643">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1237452090644">
                  <property name="name" value="result" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1237452090645">
                    <link role="concept" targetNodeId="1.1073389446423" resolveInfo="CellModel_Collection" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237452090646">
                    <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1237452090647" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewNodeOperation" id="1237452090648">
                      <link role="concept" targetNodeId="1.1073389446423" resolveInfo="CellModel_Collection" />
                      <node role="prototypeNode" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_currentTargetNode" id="1237452090649" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1237452090650">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237452117688">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237452112652">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1237452090653">
                      <link role="variableDeclaration" targetNodeId="1237452090644" resolveInfo="result" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1237452114734">
                      <link role="link" targetNodeId="1.1106270802874" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Link_SetNewChildOperation" id="1237452118848">
                    <link role="concept" targetNodeId="1.1237303669825" resolveInfo="CellLayout_Indent" />
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1237452090657">
                <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1237452090658">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1241444953830">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1241444954878">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1241444953831">
                        <link role="variableDeclaration" targetNodeId="1237452090644" resolveInfo="result" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1241444957008">
                        <link role="baseMethodDeclaration" targetNodeId="12.1241444765326" resolveInfo="setSelectable" />
                        <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1241444958118">
                          <property name="value" value="false" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
                <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237452090679">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237452090680">
                    <node role="operand" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_parentNode" id="1237452090681" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1237452090682">
                      <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Inclusion" id="1237452090683" />
                      <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1237452090684">
                        <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1237452090685">
                          <link role="conceptDeclaration" targetNodeId="1.1073389446423" resolveInfo="CellModel_Collection" />
                        </node>
                      </node>
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsNotNullOperation" id="1237452090686" />
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1237452090687">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1237452090688">
                  <link role="variableDeclaration" targetNodeId="1237452090644" resolveInfo="result" />
                </node>
              </node>
            </node>
          </node>
          <node role="matchingText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1237452090689">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1237452090690">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1237452090691">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1237452090692">
                  <property name="value" value="[-" />
                </node>
              </node>
            </node>
          </node>
          <node role="descriptionText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1237452090693">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1237452090694">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1237452090695">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1237452090696">
                  <property name="value" value="collection (indent)" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="part" type="jetbrains.mps.lang.actions.structure.SimpleItemSubstitutePart" id="3958529467169545038">
          <node role="handler" type="jetbrains.mps.lang.actions.structure.QueryFunction_Substitute_Handler" id="3958529467169545039">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="3958529467169545040">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="3958529467169545050">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="3958529467169545051">
                  <property name="name" value="result" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="3958529467169545052">
                    <link role="concept" targetNodeId="1.1073390211982" resolveInfo="CellModel_RefNodeList" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3958529467169545053">
                    <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="3958529467169545054" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewNodeOperation" id="3958529467169545055">
                      <link role="concept" targetNodeId="1.1073390211982" resolveInfo="CellModel_RefNodeList" />
                      <node role="prototypeNode" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_currentTargetNode" id="3958529467169545056" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="3958529467169545057">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="3958529467169545058">
                  <node role="rValue" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="3958529467169545059">
                    <node role="creator" type="jetbrains.mps.lang.smodel.structure.SNodeCreator" id="3958529467169545060">
                      <node role="createdType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="3958529467169545061">
                        <link role="concept" targetNodeId="1.1237303669825" resolveInfo="CellLayout_Indent" />
                      </node>
                    </node>
                  </node>
                  <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3958529467169545062">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3958529467169545063">
                      <link role="variableDeclaration" targetNodeId="3958529467169545051" resolveInfo="result" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="3958529467169545064">
                      <link role="link" targetNodeId="1.1140524464360" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="3958529467169545065">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3958529467169545066">
                  <link role="variableDeclaration" targetNodeId="3958529467169545051" resolveInfo="result" />
                </node>
              </node>
            </node>
          </node>
          <node role="matchingText" type="jetbrains.mps.lang.actions.structure.Substitute_SimpleString" id="3958529467169545047">
            <property name="text" value="child node cell list (indent)" />
          </node>
          <node role="descriptionText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="2810973186484218442">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="2810973186484218443">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="2810973186484218444">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="2810973186484218445">
                  <property name="value" value="" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="part" type="jetbrains.mps.lang.actions.structure.SimpleItemSubstitutePart" id="3958529467169805919">
          <node role="handler" type="jetbrains.mps.lang.actions.structure.QueryFunction_Substitute_Handler" id="3958529467169805920">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="3958529467169805921">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="3958529467169805922">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="3958529467169805923">
                  <property name="name" value="result" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="3958529467169805924">
                    <link role="concept" targetNodeId="1.1073390211982" resolveInfo="CellModel_RefNodeList" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3958529467169805925">
                    <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="3958529467169805926" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewNodeOperation" id="3958529467169805927">
                      <link role="concept" targetNodeId="1.1073390211982" resolveInfo="CellModel_RefNodeList" />
                      <node role="prototypeNode" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_currentTargetNode" id="3958529467169805928" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="3958529467169805929">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="3958529467169805930">
                  <node role="rValue" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="3958529467169805931">
                    <node role="creator" type="jetbrains.mps.lang.smodel.structure.SNodeCreator" id="3958529467169805932">
                      <node role="createdType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="3958529467169805933">
                        <link role="concept" targetNodeId="1.1237303669825" resolveInfo="CellLayout_Indent" />
                      </node>
                    </node>
                  </node>
                  <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3958529467169805934">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3958529467169805935">
                      <link role="variableDeclaration" targetNodeId="3958529467169805923" resolveInfo="result" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="3958529467169805936">
                      <link role="link" targetNodeId="1.1140524464360" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="3958529467169805937">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3958529467169805938">
                  <link role="variableDeclaration" targetNodeId="3958529467169805923" resolveInfo="result" />
                </node>
              </node>
            </node>
          </node>
          <node role="matchingText" type="jetbrains.mps.lang.actions.structure.Substitute_SimpleString" id="3958529467169805939">
            <property name="text" value="(-" />
          </node>
          <node role="descriptionText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="2810973186484218446">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="2810973186484218447">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="2810973186484218448">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="2810973186484218449">
                  <property name="value" value="child node cell (indent)" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="part" type="jetbrains.mps.lang.actions.structure.SimpleItemSubstitutePart" id="1177680474955">
          <node role="handler" type="jetbrains.mps.lang.actions.structure.QueryFunction_Substitute_Handler" id="1177680474956">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177680474957">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1177680474958">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1177680474959">
                  <property name="name" value="result" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1177680474960">
                    <link role="concept" targetNodeId="1.1073390211982" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227910795">
                    <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1177680474962" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewNodeOperation" id="1177680474963">
                      <link role="concept" targetNodeId="1.1073390211982" />
                      <node role="prototypeNode" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_currentTargetNode" id="1177703410913" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1239874159417">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1239874159418">
                  <node role="rValue" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1239874159419">
                    <node role="creator" type="jetbrains.mps.lang.smodel.structure.SNodeCreator" id="1239874159420">
                      <node role="createdType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1239874159421">
                        <link role="concept" targetNodeId="1.1106270571710" resolveInfo="CellLayout_Vertical" />
                      </node>
                    </node>
                  </node>
                  <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1239874159422">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1239874159423">
                      <link role="variableDeclaration" targetNodeId="1177680474959" resolveInfo="result" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1239874159424">
                      <link role="link" targetNodeId="1.1140524464360" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177680474971">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1177680474972">
                  <link role="variableDeclaration" targetNodeId="1177680474959" resolveInfo="result" />
                </node>
              </node>
            </node>
          </node>
          <node role="matchingText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1177680474973">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177680474974">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177680474975">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1177680474976">
                  <property name="value" value="child node cell list (vertical)" />
                </node>
              </node>
            </node>
          </node>
          <node role="descriptionText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="2810973186484218454">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="2810973186484218455">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="2810973186484218456">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="2810973186484218457">
                  <property name="value" value="" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="part" type="jetbrains.mps.lang.actions.structure.SimpleItemSubstitutePart" id="1177680921679">
          <node role="handler" type="jetbrains.mps.lang.actions.structure.QueryFunction_Substitute_Handler" id="1177680921680">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177680921681">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1177680921682">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1177680921683">
                  <property name="name" value="result" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1177680921684">
                    <link role="concept" targetNodeId="1.1073390211982" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227822152">
                    <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1177680921686" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewNodeOperation" id="1177680921687">
                      <link role="concept" targetNodeId="1.1073390211982" />
                      <node role="prototypeNode" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_currentTargetNode" id="1177703473893" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1177680921688">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1239874141899">
                  <node role="rValue" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1239874142084">
                    <node role="creator" type="jetbrains.mps.lang.smodel.structure.SNodeCreator" id="1239874144358">
                      <node role="createdType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1239874144359">
                        <link role="concept" targetNodeId="1.1106270571710" resolveInfo="CellLayout_Vertical" />
                      </node>
                    </node>
                  </node>
                  <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227899127">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1177680921691">
                      <link role="variableDeclaration" targetNodeId="1177680921683" resolveInfo="result" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1239874134019">
                      <link role="link" targetNodeId="1.1140524464360" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1183710364130">
                <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1183710364131">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1241444993108">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1241444995110">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1241444993109">
                        <link role="variableDeclaration" targetNodeId="1177680921683" resolveInfo="result" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1241444996176">
                        <link role="baseMethodDeclaration" targetNodeId="12.1241444765326" resolveInfo="setSelectable" />
                        <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1241444996818">
                          <property name="value" value="false" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
                <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227915034">
                  <node role="operand" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_parentNode" id="1183710364142" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1183710364140">
                    <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1183710364141">
                      <link role="conceptDeclaration" targetNodeId="1.1073389446423" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177680921695">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1177680921696">
                  <link role="variableDeclaration" targetNodeId="1177680921683" resolveInfo="result" />
                </node>
              </node>
            </node>
          </node>
          <node role="matchingText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1177680921697">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177680921698">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177680921699">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1177680921700">
                  <property name="value" value="(/" />
                </node>
              </node>
            </node>
          </node>
          <node role="descriptionText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1177680921701">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177680921702">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177680921703">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1177680921704">
                  <property name="value" value="child node cell list (vertical)" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="part" type="jetbrains.mps.lang.actions.structure.SimpleItemSubstitutePart" id="1177585850043">
          <node role="handler" type="jetbrains.mps.lang.actions.structure.QueryFunction_Substitute_Handler" id="1177585850044">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177585850045">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1177585866424">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1177585866425">
                  <property name="name" value="result" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1177585866426">
                    <link role="concept" targetNodeId="1.1073390211982" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227837325">
                    <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1177585866428" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewNodeOperation" id="1177585866429">
                      <link role="concept" targetNodeId="1.1073390211982" />
                      <node role="prototypeNode" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_currentTargetNode" id="1177703492394" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1177585866430">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1239874084710">
                  <node role="rValue" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1239874085076">
                    <node role="creator" type="jetbrains.mps.lang.smodel.structure.SNodeCreator" id="1239874086976">
                      <node role="createdType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1239874086977">
                        <link role="concept" targetNodeId="1.1106270549637" resolveInfo="CellLayout_Horizontal" />
                      </node>
                    </node>
                  </node>
                  <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227880037">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1177585866433">
                      <link role="variableDeclaration" targetNodeId="1177585866425" resolveInfo="result" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1239874078897">
                      <link role="link" targetNodeId="1.1140524464360" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177585866437">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1177585866438">
                  <link role="variableDeclaration" targetNodeId="1177585866425" resolveInfo="result" />
                </node>
              </node>
            </node>
          </node>
          <node role="matchingText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1177585852906">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177585852907">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177585853939">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1177585854941">
                  <property name="value" value="child node cell list (horizontal)" />
                </node>
              </node>
            </node>
          </node>
          <node role="descriptionText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="2810973186484218461">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="2810973186484218462">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="2810973186484218463">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="2810973186484218464">
                  <property name="value" value="" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="part" type="jetbrains.mps.lang.actions.structure.SimpleItemSubstitutePart" id="1177680944117">
          <node role="handler" type="jetbrains.mps.lang.actions.structure.QueryFunction_Substitute_Handler" id="1177680944118">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177680944119">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1177680944120">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1177680944121">
                  <property name="name" value="result" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1177680944122">
                    <link role="concept" targetNodeId="1.1073390211982" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227888337">
                    <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1177680944124" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewNodeOperation" id="1177680944125">
                      <link role="concept" targetNodeId="1.1073390211982" />
                      <node role="prototypeNode" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_currentTargetNode" id="1177703513754" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1177680944126">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1239874108241">
                  <node role="rValue" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1239874109281">
                    <node role="creator" type="jetbrains.mps.lang.smodel.structure.SNodeCreator" id="1239874111144">
                      <node role="createdType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1239874111145">
                        <link role="concept" targetNodeId="1.1106270549637" resolveInfo="CellLayout_Horizontal" />
                      </node>
                    </node>
                  </node>
                  <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227880933">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1177680944129">
                      <link role="variableDeclaration" targetNodeId="1177680944121" resolveInfo="result" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1239874104725">
                      <link role="link" targetNodeId="1.1140524464360" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1183710378464">
                <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1183710378465">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1241444940601">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1241444941057">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1241444940602">
                        <link role="variableDeclaration" targetNodeId="1177680944121" resolveInfo="result" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1241444942326">
                        <link role="baseMethodDeclaration" targetNodeId="12.1241444765326" resolveInfo="setSelectable" />
                        <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1241444943077">
                          <property name="value" value="false" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
                <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227833599">
                  <node role="operand" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_parentNode" id="1183710378476" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1183710378474">
                    <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1183710378475">
                      <link role="conceptDeclaration" targetNodeId="1.1073389446423" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177680944133">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1177680944134">
                  <link role="variableDeclaration" targetNodeId="1177680944121" resolveInfo="result" />
                </node>
              </node>
            </node>
          </node>
          <node role="matchingText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1177680944135">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177680944136">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177680944137">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1177680944138">
                  <property name="value" value="(&gt;" />
                </node>
              </node>
            </node>
          </node>
          <node role="descriptionText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1177680944139">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177680944140">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177680944141">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1177680944142">
                  <property name="value" value="child node cell list (horizontal)" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="part" type="jetbrains.mps.lang.actions.structure.SimpleItemSubstitutePart" id="1180296452120">
          <node role="handler" type="jetbrains.mps.lang.actions.structure.QueryFunction_Substitute_Handler" id="1180296452121">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1180296452122">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1180296485851">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227897445">
                  <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1180296485852" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewNodeOperation" id="1180296489352">
                    <link role="concept" targetNodeId="1.1088013125922" />
                    <node role="prototypeNode" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_currentTargetNode" id="1180296500461" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="matchingText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1180296457202">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1180296457203">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1180296472475">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1180296472476">
                  <property name="value" value="referent node cell" />
                </node>
              </node>
            </node>
          </node>
          <node role="descriptionText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="2810973186484218466">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="2810973186484218467">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="2810973186484218468">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="2810973186484218469">
                  <property name="value" value="" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="part" type="jetbrains.mps.lang.actions.structure.SimpleItemSubstitutePart" id="1180297607413">
          <node role="handler" type="jetbrains.mps.lang.actions.structure.QueryFunction_Substitute_Handler" id="1180297607414">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1180297607415">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1180297627927">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227879739">
                  <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1180297627928" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewNodeOperation" id="1180297631538">
                    <link role="concept" targetNodeId="1.1073389882823" />
                    <node role="prototypeNode" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_currentTargetNode" id="1180297642692" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="matchingText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1180297613944">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1180297613945">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1180297620293">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1180297620294">
                  <property name="value" value="child node cell" />
                </node>
              </node>
            </node>
          </node>
          <node role="descriptionText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="2810973186484218470">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="2810973186484218471">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="2810973186484218472">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="2810973186484218473">
                  <property name="value" value="" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="part" type="jetbrains.mps.lang.actions.structure.SimpleItemSubstitutePart" id="1177680987113">
          <node role="handler" type="jetbrains.mps.lang.actions.structure.QueryFunction_Substitute_Handler" id="1177680987114">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177680987115">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1180268894879">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227881355">
                  <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1180268888976" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewNodeOperation" id="1180268888977">
                    <link role="concept" targetNodeId="1.1073389658414" />
                    <node role="prototypeNode" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_currentTargetNode" id="1180268888978" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="matchingText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1177680992616">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177680992617">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177680995540">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1177680996917">
                  <property name="value" value="property" />
                </node>
              </node>
            </node>
          </node>
          <node role="descriptionText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="2810973186484218474">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="2810973186484218475">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="2810973186484218476">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="2810973186484218477">
                  <property name="value" value="" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="part" type="jetbrains.mps.lang.actions.structure.SimpleItemSubstitutePart" id="1177681080336">
          <node role="handler" type="jetbrains.mps.lang.actions.structure.QueryFunction_Substitute_Handler" id="1177681080337">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177681080338">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1177681080339">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1177681080340">
                  <property name="name" value="result" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1177681080341">
                    <link role="concept" targetNodeId="1.1137553248617" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227906411">
                    <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1177681080343" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewNodeOperation" id="1177681080344">
                      <link role="concept" targetNodeId="1.1137553248617" />
                      <node role="prototypeNode" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_currentTargetNode" id="1177703525412" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177681080345">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1177681080346">
                  <link role="variableDeclaration" targetNodeId="1177681080340" resolveInfo="result" />
                </node>
              </node>
            </node>
          </node>
          <node role="matchingText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1177681080347">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177681080348">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177681080349">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1177681080350">
                  <property name="value" value="concept property" />
                </node>
              </node>
            </node>
          </node>
          <node role="descriptionText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="2810973186484218478">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="2810973186484218479">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="2810973186484218480">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="2810973186484218481">
                  <property name="value" value="" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="part" type="jetbrains.mps.lang.actions.structure.SimpleItemSubstitutePart" id="1177681126418">
          <node role="handler" type="jetbrains.mps.lang.actions.structure.QueryFunction_Substitute_Handler" id="1177681126419">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177681126420">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1177681126421">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1177681126422">
                  <property name="name" value="result" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1177681126423">
                    <link role="concept" targetNodeId="1.1088612959204" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227945093">
                    <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1177681126425" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewNodeOperation" id="1177681126426">
                      <link role="concept" targetNodeId="1.1088612959204" />
                      <node role="prototypeNode" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_currentTargetNode" id="1177703533820" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177681126427">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1177681126428">
                  <link role="variableDeclaration" targetNodeId="1177681126422" resolveInfo="result" />
                </node>
              </node>
            </node>
          </node>
          <node role="matchingText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1177681126429">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177681126430">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177681126431">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1177681126432">
                  <property name="value" value="if" />
                </node>
              </node>
            </node>
          </node>
          <node role="descriptionText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1177681126433">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177681126434">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177681126435">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1177681126436">
                  <property name="value" value="alternation" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="part" type="jetbrains.mps.lang.actions.structure.SimpleItemSubstitutePart" id="1177681814411">
          <node role="handler" type="jetbrains.mps.lang.actions.structure.QueryFunction_Substitute_Handler" id="1177681814412">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177681814413">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1177681814414">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1177681814415">
                  <property name="name" value="result" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1177681814416">
                    <link role="concept" targetNodeId="1.1073389577006" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227932585">
                    <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1177681814418" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewNodeOperation" id="1177681814419">
                      <link role="concept" targetNodeId="1.1073389577006" />
                      <node role="prototypeNode" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_currentTargetNode" id="1177703542039" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1177681925315">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227844623">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227899219">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1177681925316">
                      <link role="variableDeclaration" targetNodeId="1177681814415" resolveInfo="result" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1177681942240">
                      <link role="property" targetNodeId="1.1073389577007" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Property_SetOperation" id="1177681945007">
                    <node role="value" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1187249843776">
                      <link role="baseMethodDeclaration" targetNodeId="7.~NameUtil.stripQuotes(java.lang.String,java.lang.String,java.lang.String):java.lang.String" resolveInfo="stripQuotes" />
                      <link role="classConcept" targetNodeId="7.~NameUtil" resolveInfo="NameUtil" />
                      <node role="actualArgument" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_pattern" id="1187249846263" />
                      <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1187249850834">
                        <property name="value" value="\&quot;" />
                      </node>
                      <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1187249854524">
                        <property name="value" value="\&quot;" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177681814420">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1177681814421">
                  <link role="variableDeclaration" targetNodeId="1177681814415" resolveInfo="result" />
                </node>
              </node>
            </node>
          </node>
          <node role="matchingText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1177681814422">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177681814423">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177681814424">
                <node role="expression" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_pattern" id="1177682565307" />
              </node>
            </node>
          </node>
          <node role="descriptionText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1177682547206">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177682547207">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1177682548230">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1177682548231">
                  <property name="value" value="constant" />
                </node>
              </node>
            </node>
          </node>
          <node role="canSubstitute" type="jetbrains.mps.lang.actions.structure.QueryFunction_CanSubstitute" id="1177762655421">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1177762655422">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1177762664192">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207872475531">
                  <node role="operand" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_pattern" id="1177762664193" />
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1207872475532">
                    <link role="baseMethodDeclaration" targetNodeId="5.~String.startsWith(java.lang.String):boolean" resolveInfo="startsWith" />
                    <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1177762670389">
                      <property name="value" value="\&quot;" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="part" type="jetbrains.mps.lang.actions.structure.SimpleItemSubstitutePart" id="1187247990779">
          <node role="handler" type="jetbrains.mps.lang.actions.structure.QueryFunction_Substitute_Handler" id="1187247990780">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1187247990781">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1187248078511">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1187248078512">
                  <property name="name" value="result" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1187248078513">
                    <link role="concept" targetNodeId="1.1075375595203" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1187248099119">
                    <node role="creator" type="jetbrains.mps.lang.smodel.structure.SNodeCreator" id="1187248100505">
                      <node role="createdType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1187248100506">
                        <link role="concept" targetNodeId="1.1075375595203" />
                      </node>
                      <node role="prototypeNode" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_currentTargetNode" id="1187248112250" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1187248469077">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227942616">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227846501">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1187248469078">
                      <link role="variableDeclaration" targetNodeId="1187248078512" resolveInfo="result" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1187248529448">
                      <link role="property" targetNodeId="1.1075375595204" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Property_SetOperation" id="1187248535023">
                    <node role="value" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1187249808497">
                      <link role="baseMethodDeclaration" targetNodeId="7.~NameUtil.stripQuotes(java.lang.String,java.lang.String,java.lang.String):java.lang.String" resolveInfo="stripQuotes" />
                      <link role="classConcept" targetNodeId="7.~NameUtil" resolveInfo="NameUtil" />
                      <node role="actualArgument" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_pattern" id="1187249812933" />
                      <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1187249821306">
                        <property name="value" value="!" />
                      </node>
                      <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1187249823734">
                        <property name="value" value="!" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1187248116125">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1187248116126">
                  <link role="variableDeclaration" targetNodeId="1187248078512" resolveInfo="result" />
                </node>
              </node>
            </node>
          </node>
          <node role="matchingText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1187247994193">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1187247994194">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1187248016786">
                <node role="expression" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_pattern" id="1187248151774" />
              </node>
            </node>
          </node>
          <node role="descriptionText" type="jetbrains.mps.lang.actions.structure.QueryFunction_SubstituteString" id="1187248026488">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1187248026489">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1187248027948">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1187248027949">
                  <property name="value" value="Error label" />
                </node>
              </node>
            </node>
          </node>
          <node role="canSubstitute" type="jetbrains.mps.lang.actions.structure.QueryFunction_CanSubstitute" id="1187248138270">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1187248138271">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1187248140383">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207872475504">
                  <node role="operand" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_pattern" id="1187248140384" />
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1207872475505">
                    <link role="baseMethodDeclaration" targetNodeId="5.~String.startsWith(java.lang.String):boolean" resolveInfo="startsWith" />
                    <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1187248147796">
                      <property name="value" value="!" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="part" type="jetbrains.mps.lang.actions.structure.ParameterizedSubstituteMenuPart" id="1199450095994">
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1199450105234">
            <link role="concept" targetNodeId="1.1078938745671" resolveInfo="EditorComponentDeclaration" />
          </node>
          <node role="query" type="jetbrains.mps.lang.actions.structure.QueryFunction_ParameterizedSubstitute_Query" id="1199450095996">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1199450095997">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1199450855120">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1199450855121">
                  <property name="name" value="container" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1199450855122">
                    <link role="concept" targetNodeId="1.1080736578640" resolveInfo="BaseEditorComponent" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227892307">
                    <node role="operand" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_parentNode" id="1199450877109" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1199450855125">
                      <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1199450855126">
                        <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1207872492643">
                          <link role="conceptDeclaration" targetNodeId="1.1080736578640" resolveInfo="BaseEditorComponent" />
                        </node>
                      </node>
                      <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Inclusion" id="1199450879877" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1199450858315">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227885598">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1199450862928">
                    <link role="variableDeclaration" targetNodeId="1199450855121" resolveInfo="container" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1199450866401">
                    <link role="baseMethodDeclaration" targetNodeId="12.1213877372457" resolveInfo="getApplicableComponents" />
                    <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207872475510">
                      <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_operationContext" id="1199450869386" />
                      <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1207872475511">
                        <link role="baseMethodDeclaration" targetNodeId="3.~IOperationContext.getScope():jetbrains.mps.smodel.IScope" resolveInfo="getScope" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="handler" type="jetbrains.mps.lang.actions.structure.QueryFunction_ParameterizedSubstitute_Handler" id="1199450095998">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1199450095999">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1199450978116">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1199450978117">
                  <property name="name" value="component" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1199450978118">
                    <link role="concept" targetNodeId="1.1078939183254" resolveInfo="CellModel_Component" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227891195">
                    <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1199450982276" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewNodeOperation" id="1199450984686">
                      <link role="concept" targetNodeId="1.1078939183254" resolveInfo="CellModel_Component" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1199450991157">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227821278">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227904887">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1199450991158">
                      <link role="variableDeclaration" targetNodeId="1199450978117" resolveInfo="component" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1199451001100">
                      <link role="link" targetNodeId="1.1078939183255" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Link_SetTargetOperation" id="1199451002916">
                    <node role="linkTarget" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_parameterObject" id="1199451017719" />
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1199451021283">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1199451023800">
                  <link role="variableDeclaration" targetNodeId="1199450978117" resolveInfo="component" />
                </node>
              </node>
            </node>
          </node>
          <node role="matchingText" type="jetbrains.mps.lang.actions.structure.QueryFunction_ParameterizedSubstitute_String" id="1199450938568">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1199450938569">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1199450939976">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.PlusExpression" id="1199450965018">
                  <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1199450966442">
                    <property name="value" value="#" />
                  </node>
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.PlusExpression" id="1199450941478">
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1199450939977">
                      <property name="value" value="#" />
                    </node>
                    <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227845000">
                      <node role="operand" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_parameterObject" id="1199450944122" />
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1199450962954">
                        <link role="property" targetNodeId="4.1169194664001" resolveInfo="name" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.actions.structure.NodeSubstituteActions" id="1185874421312">
    <property name="name" value="EDTL_Actions_node_substitute" />
    <node role="actionsBuilder" type="jetbrains.mps.lang.actions.structure.NodeSubstituteActionsBuilder" id="1185874474095">
      <link role="applicableConcept" targetNodeId="1.1139535280617" />
      <node role="part" type="jetbrains.mps.lang.actions.structure.AddMenuPart" id="1185874488290">
        <link role="concept" targetNodeId="1.1139535280617" />
        <node role="part" type="jetbrains.mps.lang.actions.structure.ParameterizedSubstituteMenuPart" id="1219358134451">
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1219358142449">
            <link role="concept" targetNodeId="11.1083171877298" resolveInfo="EnumerationMemberDeclaration" />
          </node>
          <node role="query" type="jetbrains.mps.lang.actions.structure.QueryFunction_ParameterizedSubstitute_Query" id="1219358134453">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1219358134454">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1219358192606">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1219358343945">
                  <node role="operand" type="jetbrains.mps.lang.smodel.structure.NodeRefExpression" id="1219358192607">
                    <link role="referentNode" targetNodeId="1.1139535328871" resolveInfo="CellActionId" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkListAccess" id="1219358360808">
                    <link role="link" targetNodeId="11.1083172003582" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="handler" type="jetbrains.mps.lang.actions.structure.QueryFunction_ParameterizedSubstitute_Handler" id="1219358134457">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1219358134458">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1219358134459">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1219358134460">
                  <property name="name" value="newNode" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1219358134461">
                    <link role="concept" targetNodeId="1.1139535280617" resolveInfo="CellActionMapItem" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1219358134462">
                    <node role="operand" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="1219358134463" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewNodeOperation" id="1219358134464">
                      <link role="concept" targetNodeId="1.1139535280617" resolveInfo="CellActionMapItem" />
                      <node role="prototypeNode" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_currentTargetNode" id="1219358134465" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1219358134466">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1219358134467">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1219358134468">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1219358134469">
                      <link role="variableDeclaration" targetNodeId="1219358134460" resolveInfo="newNode" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1219358134470">
                      <link role="property" targetNodeId="1.1139535298778" resolveInfo="actionId" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Property_SetOperation" id="1219358134471">
                    <node role="value" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1219358134472">
                      <node role="operand" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_parameterObject" id="1219358134473" />
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1219358405669">
                        <link role="property" targetNodeId="11.1083923523171" resolveInfo="internalValue" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1219358134475">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1219358134476">
                  <link role="variableDeclaration" targetNodeId="1219358134460" resolveInfo="newNode" />
                </node>
              </node>
            </node>
          </node>
          <node role="matchingText" type="jetbrains.mps.lang.actions.structure.QueryFunction_ParameterizedSubstitute_String" id="1219358134477">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1219358134478">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1219358134479">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1219358134480">
                  <node role="operand" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_parameterObject" id="1219358134481" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1219358383824">
                    <link role="property" targetNodeId="11.1083923523172" resolveInfo="externalValue" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="descriptionText" type="jetbrains.mps.lang.actions.structure.QueryFunction_ParameterizedSubstitute_String" id="1219364144454">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1219364144455">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1219364147269">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1219364147270">
                  <property name="value" value="" />
                </node>
              </node>
            </node>
          </node>
          <node role="icon" type="jetbrains.mps.lang.actions.structure.QueryFunction_ParameterizedSubstitute_Icon" id="1219364159021">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1219364159022">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1219364184049">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1219364184050" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.actions.structure.NodeFactories" id="1222177296905">
    <property name="name" value="StyleItem" />
    <node role="nodeFactory" type="jetbrains.mps.lang.actions.structure.NodeFactory" id="1222177342204">
      <link role="applicableConcept" targetNodeId="1.1186403694788" resolveInfo="ColorStyleClassItem" />
      <node role="setupFunction" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction" id="1222177342205">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1222177342206">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1222177380021">
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1222177386666">
              <node role="operand" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_SampleNode" id="1222177385243" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1222177390872">
                <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1222177421639">
                  <link role="conceptDeclaration" targetNodeId="1.1186403694788" resolveInfo="ColorStyleClassItem" />
                </node>
              </node>
            </node>
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1222177380023">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1222177425047">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1222177479332">
                  <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1222177490166">
                    <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1222177482336">
                      <link role="concept" targetNodeId="1.1186403694788" resolveInfo="ColorStyleClassItem" />
                      <node role="leftExpression" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_SampleNode" id="1222177481288" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1222177548952">
                      <link role="property" targetNodeId="1.1186403713874" resolveInfo="color" />
                    </node>
                  </node>
                  <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1222177426111">
                    <node role="operand" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_NewNode" id="1222177425048" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1222177441349">
                      <link role="property" targetNodeId="1.1186403713874" resolveInfo="color" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1222177551938">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1222177569695">
                  <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1222177577170">
                    <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1222177573949">
                      <link role="concept" targetNodeId="1.1186403694788" resolveInfo="ColorStyleClassItem" />
                      <node role="leftExpression" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_SampleNode" id="1222177572432" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1222177579079">
                      <link role="link" targetNodeId="1.1186403803051" />
                    </node>
                  </node>
                  <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1222177553050">
                    <node role="operand" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_NewNode" id="1222177551939" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1222177565522">
                      <link role="link" targetNodeId="1.1186403803051" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="nodeFactory" type="jetbrains.mps.lang.actions.structure.NodeFactory" id="1222178769288">
      <link role="applicableConcept" targetNodeId="1.1186414536763" resolveInfo="BooleanStyleSheetItem" />
      <node role="setupFunction" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction" id="1222178769289">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1222178769290">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1222178784676">
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1222178793008">
              <node role="operand" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_SampleNode" id="1222178791679" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1222178795371">
                <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1222178806138">
                  <link role="conceptDeclaration" targetNodeId="1.1186414536763" resolveInfo="BooleanStyleSheetItem" />
                </node>
              </node>
            </node>
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1222178784678">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1222178817561">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1222178837614">
                  <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1222178851980">
                    <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1222178841415">
                      <link role="concept" targetNodeId="1.1186414536763" resolveInfo="BooleanStyleSheetItem" />
                      <node role="leftExpression" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_SampleNode" id="1222178839977" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1222178853202">
                      <link role="property" targetNodeId="1.1186414551515" resolveInfo="flag" />
                    </node>
                  </node>
                  <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1222178819875">
                    <node role="operand" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_NewNode" id="1222178817562" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1222178835910">
                      <link role="property" targetNodeId="1.1186414551515" resolveInfo="flag" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="nodeFactory" type="jetbrains.mps.lang.actions.structure.NodeFactory" id="1222178992987">
      <link role="applicableConcept" targetNodeId="1.1215007762405" resolveInfo="FloatStyleClassItem" />
      <node role="setupFunction" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction" id="1222178992988">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1222178992989">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1222179005614">
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1222179014743">
              <node role="operand" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_SampleNode" id="1222179013977" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1222179017934">
                <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1222179021403">
                  <link role="conceptDeclaration" targetNodeId="1.1215007762405" resolveInfo="FloatStyleClassItem" />
                </node>
              </node>
            </node>
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1222179005616">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1222179024482">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1222179035347">
                  <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1222179043650">
                    <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1222179039679">
                      <link role="concept" targetNodeId="1.1215007762405" resolveInfo="FloatStyleClassItem" />
                      <node role="leftExpression" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_SampleNode" id="1222179038897" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1222179044591">
                      <link role="property" targetNodeId="1.1215007802031" resolveInfo="value" />
                    </node>
                  </node>
                  <node role="lValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1222179032672">
                    <node role="operand" type="jetbrains.mps.lang.actions.structure.NodeSetupFunction_NewNode" id="1222179024483" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1222179033862">
                      <link role="property" targetNodeId="1.1215007802031" resolveInfo="value" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <visible index="2" modelUID="r:00000000-0000-4000-0000-011c895902ca(jetbrains.mps.baseLanguage.structure)" />
  <node type="jetbrains.mps.lang.actions.structure.NodeSubstituteActions" id="226730285127010423">
    <property name="name" value="CubstitudeAbstractOperation" />
    <node role="actionsBuilder" type="jetbrains.mps.lang.actions.structure.NodeSubstituteActionsBuilder" id="226730285127010424">
      <link role="applicableConcept" targetNodeId="2v.1197027803184" resolveInfo="IOperation" />
      <node role="part" type="jetbrains.mps.lang.actions.structure.AddMenuPart" id="226730285127011743">
        <link role="concept" targetNodeId="1.4531786690998636238" resolveInfo="AbstractOperation" />
        <node role="part" type="jetbrains.mps.lang.actions.structure.ParameterizedSubstituteMenuPart" id="226730285127012657">
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SConceptType" id="226730285127399186">
            <link role="conceptDeclaraton" targetNodeId="1.4531786690998636238" resolveInfo="AbstractOperation" />
          </node>
          <node role="query" type="jetbrains.mps.lang.actions.structure.QueryFunction_ParameterizedSubstitute_Query" id="226730285127012659">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="226730285127012660">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="226730285127012743">
                <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="226730285127012744">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="226730285127012761">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="226730285127012763">
                      <node role="creator" type="jetbrains.mps.baseLanguage.collections.structure.ListCreatorWithInit" id="226730285127017404">
                        <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="226730285127017406" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="226730285127012756">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="226730285127012757">
                    <node role="operand" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_parentNode" id="226730285127012758" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="226730285127012759">
                      <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="226730285127012760">
                        <link role="conceptDeclaration" targetNodeId="2v.1197027756228" resolveInfo="DotExpression" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="226730285127017420">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="226730285127017421">
                  <property name="name" value="operand" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="226730285127017422">
                    <link role="concept" targetNodeId="2v.1068431790191" resolveInfo="Expression" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="226730285127017423">
                    <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="226730285127017424">
                      <link role="concept" targetNodeId="2v.1197027756228" resolveInfo="DotExpression" />
                      <node role="leftExpression" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_parentNode" id="226730285127017425" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="226730285127017426">
                      <link role="link" targetNodeId="2v.1197027771414" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="226730285127017408">
                <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="226730285127017409">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="226730285127017432">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="226730285127017434" />
                  </node>
                </node>
                <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="226730285127212107">
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="226730285127212108">
                    <link role="variableDeclaration" targetNodeId="226730285127017421" resolveInfo="operand" />
                  </node>
                  <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="226730285127212109" />
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="226730285127017443">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="226730285127017444">
                  <property name="name" value="type" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="226730285127017445" />
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="226730285127017446">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="226730285127017447">
                      <link role="variableDeclaration" targetNodeId="226730285127017421" resolveInfo="operand" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.typesystem.structure.Node_TypeOperation" id="226730285127017448" />
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="226730285127399052">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="226730285127399053">
                  <property name="name" value="list" />
                  <node role="type" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="226730285127399054">
                    <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SConceptType" id="226730285127399055">
                      <link role="conceptDeclaraton" targetNodeId="1.4531786690998636238" resolveInfo="AbstractOperation" />
                    </node>
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="226730285127399056">
                    <node role="operand" type="jetbrains.mps.lang.smodel.structure.ConceptRefExpression" id="226730285127399057">
                      <link role="conceptDeclaration" targetNodeId="1.4531786690998636238" resolveInfo="AbstractOperation" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Concept_GetAllSubConcepts" id="226730285127399117">
                      <node role="smodel" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_model" id="226730285127399129" />
                      <node role="scope" type="jetbrains.mps.lang.sharedConcepts.structure.ConceptFunctionParameter_scope" id="226730285127399139" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="226730285127012720">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="226730285127018091">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="226730285127018092">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="226730285127399078">
                      <link role="variableDeclaration" targetNodeId="226730285127399053" resolveInfo="list" />
                    </node>
                    <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.WhereOperation" id="226730285127018094">
                      <node role="closure" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="226730285127018095">
                        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="226730285127018096">
                          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="226730285127018097">
                            <node role="expression" type="jetbrains.mps.lang.smodel.structure.EqualsStructurallyExpression" id="226730285127018098">
                              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="226730285127018099">
                                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="226730285127018100">
                                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="226730285127018101">
                                    <link role="variableDeclaration" targetNodeId="226730285127018105" resolveInfo="it" />
                                  </node>
                                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SConceptLinkAccess" id="226730285127399166">
                                    <link role="conceptLinkDeclaration" targetNodeId="1.6050628152419604261" resolveInfo="operandType" />
                                  </node>
                                </node>
                                <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetFirstOperation" id="226730285127018103" />
                              </node>
                              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="226730285127018104">
                                <link role="variableDeclaration" targetNodeId="226730285127017444" resolveInfo="type" />
                              </node>
                            </node>
                          </node>
                        </node>
                        <node role="parameter" type="jetbrains.mps.baseLanguage.collections.structure.SmartClosureParameterDeclaration" id="226730285127018105">
                          <property name="name" value="it" />
                          <node role="type" type="jetbrains.mps.baseLanguage.structure.WildCardType" id="226730285127018106" />
                        </node>
                      </node>
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.ToListOperation" id="226730285127018107" />
                </node>
              </node>
            </node>
          </node>
          <node role="handler" type="jetbrains.mps.lang.actions.structure.QueryFunction_ParameterizedSubstitute_Handler" id="226730285127012661">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="226730285127012662">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="226730285127399209">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="226730285127399210">
                  <property name="name" value="abstractOperation" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="226730285127399211">
                    <link role="concept" targetNodeId="1.4531786690998636238" resolveInfo="AbstractOperation" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="226730285127399212">
                    <node role="operand" type="jetbrains.mps.lang.actions.structure.ConceptFunctionParameter_parameterObject" id="226730285127399213" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Concept_NewInstance" id="226730285127399214" />
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="226730285127012701">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="226730285127399217">
                  <link role="variableDeclaration" targetNodeId="226730285127399210" resolveInfo="abstractOperation" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
</model>

