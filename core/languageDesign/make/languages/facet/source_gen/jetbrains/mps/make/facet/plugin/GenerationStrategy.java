package jetbrains.mps.make.facet.plugin;

/*Generated by MPS */

import jetbrains.mps.generator.IncrementalGenerationStrategy;
import jetbrains.mps.generator.GenerationCacheContainer;
import jetbrains.mps.generator.impl.dependencies.GenerationDependencies;
import jetbrains.mps.smodel.SModelDescriptor;
import jetbrains.mps.generator.impl.dependencies.GenerationDependenciesCache;
import java.util.Map;
import jetbrains.mps.smodel.IOperationContext;
import jetbrains.mps.generator.ModelDigestHelper;

public class GenerationStrategy implements IncrementalGenerationStrategy {
  private GenerationCacheContainer cache;

  public GenerationStrategy(GenerationCacheContainer cache) {
    this.cache = cache;
  }

  public GenerationDependencies getDependencies(SModelDescriptor descriptor) {
    return GenerationDependenciesCache.getInstance().get(descriptor);
  }

  public GenerationCacheContainer getContainer() {
    return cache;
  }

  public Map<String, String> getModelHashes(SModelDescriptor descriptor, IOperationContext context) {
    return ModelDigestHelper.getInstance().getGenerationHashes(descriptor, context);
  }
}
