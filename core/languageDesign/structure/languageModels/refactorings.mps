<?xml version="1.0" encoding="UTF-8"?>
<model modelUID="r:de5b7214-45ee-4f6d-89bf-acde59cdb050(jetbrains.mps.lang.structure.refactorings)">
  <persistence version="3" />
  <refactoringHistory />
  <language namespace="3ecd7c84-cde3-45de-886c-135ecc69b742(jetbrains.mps.lang.refactoring)" />
  <language namespace="f3061a53-9226-4cc5-a443-f952ceaf5816(jetbrains.mps.baseLanguage)" />
  <language namespace="83888646-71ce-4f1c-9c53-c54016f6ad4f(jetbrains.mps.baseLanguage.collections)" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959035b(jetbrains.mps.lang.findUsages.structure)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590353(jetbrains.mps.lang.intentions.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590338(jetbrains.mps.baseLanguage.closures.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590319(jetbrains.mps.lang.refactoring.structure)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590298(jetbrains.mps.lang.editor.constraints)" version="21" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959033d(jetbrains.mps.lang.annotations.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590358(jetbrains.mps.lang.findUsages.constraints)" version="4" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ba(jetbrains.mps.lang.sharedConcepts.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959032e(jetbrains.mps.baseLanguage.collections.structure)" version="7" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590301(jetbrains.mps.lang.smodel.structure)" version="16" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590283(jetbrains.mps.lang.core.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590328(jetbrains.mps.baseLanguage.collections.constraints)" version="6" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590313(jetbrains.mps.lang.refactoring.constraints)" version="4" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959028c(jetbrains.mps.lang.structure.constraints)" version="11" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902bc(jetbrains.mps.lang.sharedConcepts.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959029e(jetbrains.mps.lang.editor.structure)" version="32" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ca(jetbrains.mps.baseLanguage.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902db(jetbrains.mps.baseLanguage.blTypes.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590292(jetbrains.mps.lang.structure.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590334(jetbrains.mps.baseLanguage.closures.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902c1(jetbrains.mps.baseLanguage.constraints)" version="83" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902fb(jetbrains.mps.lang.smodel.constraints)" version="21" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959034f(jetbrains.mps.lang.intentions.constraints)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959034b(jetbrains.mps.lang.quotation.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590345(jetbrains.mps.lang.pattern.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590340(jetbrains.mps.lang.pattern.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902b4(jetbrains.mps.lang.typesystem.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ae(jetbrains.mps.lang.typesystem.constraints)" version="17" />
  <devkit namespace="2677cb18-f558-4e33-bc38-a5139cee06dc(jetbrains.mps.devkit.language-design)" />
  <maxImportIndex value="8" />
  <import index="1" modelUID="r:00000000-0000-4000-0000-011c89590292(jetbrains.mps.lang.structure.structure)" version="0" />
  <import index="2" modelUID="r:00000000-0000-4000-0000-011c89590287(jetbrains.mps.lang.core.scripts)" version="-1" />
  <import index="3" modelUID="r:00000000-0000-4000-0000-011c8959028e(jetbrains.mps.lang.structure.findUsages)" version="-1" />
  <import index="4" modelUID="f:java_stub#jetbrains.mps.project(jetbrains.mps.project@java_stub)" version="-1" />
  <import index="5" modelUID="f:java_stub#jetbrains.mps.smodel(jetbrains.mps.smodel@java_stub)" version="-1" />
  <import index="6" modelUID="f:java_stub#jetbrains.mps.refactoring.framework(jetbrains.mps.refactoring.framework@java_stub)" version="-1" />
  <import index="7" modelUID="f:java_stub#java.util(java.util@java_stub)" version="-1" />
  <import index="8" modelUID="f:java_stub#jetbrains.mps.ide.findusages.model(jetbrains.mps.ide.findusages.model@java_stub)" version="-1" />
  <visible index="2" modelUID="r:d9efd362-28b8-4f70-9bcd-fb582528d11c(jetbrains.mps.lang.core.refactorings)" />
  <visible index="3" modelUID="r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)" />
  <node type="jetbrains.mps.lang.refactoring.structure.LoggableRefactoring" id="8311321388555494335">
    <property name="name" value="RenameConcept" />
    <property name="userFriendlyName" value="RenameConcept" />
    <link role="overrides" targetNodeId="2v.5663240094077654749" resolveInfo="Rename" />
    <node role="parameter" type="jetbrains.mps.lang.refactoring.structure.RefactoringParameter" id="8311321388555496966">
      <property name="name" value="newName" />
      <node role="chooser" type="jetbrains.mps.lang.refactoring.structure.MPSParameterChooser" id="3673527736022344476">
        <property name="title" value="New name:" />
        <node role="paramType" type="jetbrains.mps.lang.refactoring.structure.StringMPSParameterType" id="3673527736022344477" />
        <node role="initialValueBlock" type="jetbrains.mps.lang.refactoring.structure.InitialPropertyValueClause" id="6635062342941536563">
          <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="6635062342941536564">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="6635062342941536565">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6635062342941536575">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6635062342941536567">
                  <node role="operand" type="jetbrains.mps.lang.refactoring.structure.SettingsRefactoringContext_ConceptFunctionParameter" id="6635062342941536566" />
                  <node role="operation" type="jetbrains.mps.lang.refactoring.structure.NodeOperation" id="6635062342941536574" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="6635062342941536580">
                  <link role="property" targetNodeId="3v.1169194664001" resolveInfo="name" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="affectedNodesBlock" type="jetbrains.mps.lang.refactoring.structure.AffectedNodesClause" id="8311321388555494336">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="8311321388555494337">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="8311321388555496982">
          <node role="expression" type="jetbrains.mps.lang.refactoring.structure.ExecuteFindersExpression" id="8311321388555496983">
            <node role="finders" type="jetbrains.mps.lang.refactoring.structure.FinderReference" id="8311321388555496984">
              <link role="finderDeclaration" targetNodeId="3.1197632773078" resolveInfo="ConceptInstances" />
            </node>
            <node role="finders" type="jetbrains.mps.lang.refactoring.structure.FinderReference" id="8311321388555496985">
              <link role="finderDeclaration" targetNodeId="3.1198430852441" resolveInfo="NodeAndDescendantsUsages" />
            </node>
            <node role="searchNode" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="8311321388555496987">
              <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="8311321388555496986" />
              <node role="operation" type="jetbrains.mps.lang.refactoring.structure.NodeOperation" id="8311321388555496991" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="updateModelBlock" type="jetbrains.mps.lang.refactoring.structure.UpdateModelClause" id="8311321388555494338">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="8311321388555494339">
        <node role="statement" type="jetbrains.mps.lang.refactoring.structure.UpdateModelByDefaultOperation" id="8311321388555497021" />
      </node>
    </node>
    <node role="target" type="jetbrains.mps.lang.refactoring.structure.NodeTarget" id="8311321388555494343">
      <link role="concept" targetNodeId="1.1169125787135" resolveInfo="AbstractConceptDeclaration" />
    </node>
    <node role="doRefactorBlock" type="jetbrains.mps.lang.refactoring.structure.DoRefactorClause" id="8311321388555494341">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="8311321388555494342">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="3302086321380744353">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="3302086321380744354">
            <property name="name" value="newConceptName" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.StringType" id="3302086321380744355" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.PlusExpression" id="3302086321380744356">
              <node role="rightExpression" type="jetbrains.mps.lang.refactoring.structure.RefactoringParameterReference" id="3302086321380744357">
                <link role="refactoringParameter" targetNodeId="8311321388555496966" resolveInfo="newName" />
              </node>
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.PlusExpression" id="3302086321380744358">
                <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321380744359">
                  <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="3302086321380744360">
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321380744361">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321380744362">
                        <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="3302086321380744363" />
                        <node role="operation" type="jetbrains.mps.lang.refactoring.structure.NodeOperation" id="3302086321380744364" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="3302086321380744365" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="3302086321380744366">
                    <link role="baseMethodDeclaration" targetNodeId="5.~SModel.getSModelFqName():jetbrains.mps.smodel.SModelFqName" resolveInfo="getSModelFqName" />
                  </node>
                </node>
                <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="3302086321380744367">
                  <property name="value" value="." />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="3302086321380744329">
          <node role="expression" type="jetbrains.mps.lang.refactoring.structure.ChangeFeatureNameExpression" id="3302086321380744330">
            <node role="feature" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321380744335">
              <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="3302086321380744334" />
              <node role="operation" type="jetbrains.mps.lang.refactoring.structure.NodeOperation" id="3302086321380744339" />
            </node>
            <node role="newFeatureName" type="jetbrains.mps.lang.refactoring.structure.RefactoringParameterReference" id="3302086321380744352">
              <link role="refactoringParameter" targetNodeId="8311321388555496966" resolveInfo="newName" />
            </node>
            <node role="newConceptFQName" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3302086321380744368">
              <link role="variableDeclaration" targetNodeId="3302086321380744354" resolveInfo="newConceptName" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="modelsToGenerateBlock" type="jetbrains.mps.lang.refactoring.structure.ModelsToGenerateClause" id="8311321388555497022">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="8311321388555497023">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="8311321388555497182">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="8311321388555497183">
            <property name="name" value="result" />
            <node role="type" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="8311321388555497184">
              <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SModelType" id="8311321388555497186" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="8311321388555497189">
              <node role="creator" type="jetbrains.mps.baseLanguage.collections.structure.LinkedListCreator" id="8311321388555498152">
                <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SModelType" id="8311321388555498265" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="8311321388555497037">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="8311321388555497038">
            <property name="name" value="sourceLanguage" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="8311321388555497039">
              <link role="classifier" targetNodeId="5.~Language" resolveInfo="Language" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="8311321388555497040">
              <link role="classConcept" targetNodeId="5.~Language" resolveInfo="Language" />
              <link role="baseMethodDeclaration" targetNodeId="5.~Language.getLanguageFor(jetbrains.mps.smodel.SModelDescriptor):jetbrains.mps.smodel.Language" resolveInfo="getLanguageFor" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="8311321388555497041">
                <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="8311321388555497042">
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="8311321388555497043">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="8311321388555497072">
                      <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="8311321388555497069" />
                      <node role="operation" type="jetbrains.mps.lang.refactoring.structure.NodeOperation" id="8311321388555497078" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="8311321388555497045" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="8311321388555497046">
                  <link role="baseMethodDeclaration" targetNodeId="5.~SModel.getModelDescriptor():jetbrains.mps.smodel.SModelDescriptor" resolveInfo="getModelDescriptor" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="8311321388555497047">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="8311321388555497048">
            <node role="statement" type="jetbrains.mps.baseLanguage.collections.structure.ForEachStatement" id="8311321388555498368">
              <node role="variable" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariable" id="8311321388555498369">
                <property name="name" value="value" />
              </node>
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="8311321388555498371">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="8311321388555583549">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="8311321388555583550">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="8311321388555583551">
                      <link role="variableDeclaration" targetNodeId="8311321388555497183" resolveInfo="result" />
                    </node>
                    <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.AddAllElementsOperation" id="8311321388555583552">
                      <node role="argument" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariableReference" id="8311321388555583574">
                        <link role="variable" targetNodeId="8311321388555498369" resolveInfo="value" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="inputSequence" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="8311321388555498373">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="8311321388555498374">
                  <link role="baseMethodDeclaration" targetNodeId="6.~RefactoringUtil.getLanguageAndItsExtendingLanguageModels(jetbrains.mps.project.MPSProject,jetbrains.mps.smodel.Language):java.util.Map" resolveInfo="getLanguageAndItsExtendingLanguageModels" />
                  <link role="classConcept" targetNodeId="6.~RefactoringUtil" resolveInfo="RefactoringUtil" />
                  <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="8311321388555498375">
                    <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="8311321388555498376" />
                    <node role="operation" type="jetbrains.mps.lang.refactoring.structure.ProjectOperation" id="8311321388555498377" />
                  </node>
                  <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="8311321388555498378">
                    <link role="variableDeclaration" targetNodeId="8311321388555497038" resolveInfo="sourceLanguage" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="8311321388555498379">
                  <link role="baseMethodDeclaration" targetNodeId="7.~Map.values():java.util.Collection" resolveInfo="values" />
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="8311321388555497056">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="8311321388555497057" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="8311321388555497058">
              <link role="variableDeclaration" targetNodeId="8311321388555497038" resolveInfo="sourceLanguage" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="8311321388555497059">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="8311321388555497060">
            <link role="variableDeclaration" targetNodeId="8311321388555497183" resolveInfo="result" />
          </node>
        </node>
      </node>
    </node>
    <node role="initBlock" type="jetbrains.mps.lang.refactoring.structure.InitClause" id="7874812549549778493">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="7874812549549778494">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="7874812549549778495">
          <node role="expression" type="jetbrains.mps.lang.refactoring.structure.AskExpression" id="7874812549549778496">
            <node role="parameter" type="jetbrains.mps.lang.refactoring.structure.RefactoringParameterReference" id="7874812549549778498">
              <link role="refactoringParameter" targetNodeId="8311321388555496966" resolveInfo="newName" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.refactoring.structure.LoggableRefactoring" id="3302086321380844525">
    <property name="name" value="RenameLink" />
    <property name="userFriendlyName" value="Rename Link" />
    <link role="overrides" targetNodeId="2v.5663240094077654749" resolveInfo="Rename" />
    <node role="parameter" type="jetbrains.mps.lang.refactoring.structure.RefactoringParameter" id="3302086321381016424">
      <property name="name" value="newName" />
      <node role="chooser" type="jetbrains.mps.lang.refactoring.structure.MPSParameterChooser" id="3673527736022344487">
        <property name="title" value="New name:" />
        <node role="paramType" type="jetbrains.mps.lang.refactoring.structure.StringMPSParameterType" id="3673527736022344488" />
        <node role="initialValueBlock" type="jetbrains.mps.lang.refactoring.structure.InitialPropertyValueClause" id="6635062342941536591">
          <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="6635062342941536592">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="6635062342941536593">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6635062342941536600">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6635062342941536595">
                  <node role="operand" type="jetbrains.mps.lang.refactoring.structure.SettingsRefactoringContext_ConceptFunctionParameter" id="6635062342941536594" />
                  <node role="operation" type="jetbrains.mps.lang.refactoring.structure.NodeOperation" id="6635062342941536599" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="6635062342941536604">
                  <link role="property" targetNodeId="1.1071599776563" resolveInfo="role" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="affectedNodesBlock" type="jetbrains.mps.lang.refactoring.structure.AffectedNodesClause" id="3302086321380844526">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="3302086321380844527">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="3302086321381027695">
          <node role="expression" type="jetbrains.mps.lang.refactoring.structure.ExecuteFindersExpression" id="3302086321381027696">
            <node role="finders" type="jetbrains.mps.lang.refactoring.structure.FinderReference" id="3302086321381027697">
              <link role="finderDeclaration" targetNodeId="3.1201275992898" resolveInfo="LinkInstances" />
            </node>
            <node role="finders" type="jetbrains.mps.lang.refactoring.structure.FinderReference" id="3302086321381027698">
              <link role="finderDeclaration" targetNodeId="3.1198430852441" resolveInfo="NodeAndDescendantsUsages" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="updateModelBlock" type="jetbrains.mps.lang.refactoring.structure.UpdateModelClause" id="3302086321380844528">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="3302086321380844529">
        <node role="statement" type="jetbrains.mps.lang.refactoring.structure.UpdateModelByDefaultOperation" id="3302086321381137506" />
      </node>
    </node>
    <node role="target" type="jetbrains.mps.lang.refactoring.structure.NodeTarget" id="3302086321380844541">
      <link role="concept" targetNodeId="1.1071489288298" resolveInfo="LinkDeclaration" />
    </node>
    <node role="doRefactorBlock" type="jetbrains.mps.lang.refactoring.structure.DoRefactorClause" id="3302086321380844531">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="3302086321380844532">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="3302086321381137549">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="3302086321381137550">
            <property name="name" value="concept" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="3302086321381137551">
              <link role="concept" targetNodeId="1.1169125787135" resolveInfo="AbstractConceptDeclaration" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321381137552">
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="3302086321381137554">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="3302086321381137555">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="3302086321381137556">
                    <link role="conceptDeclaration" targetNodeId="1.1169125787135" resolveInfo="AbstractConceptDeclaration" />
                  </node>
                </node>
              </node>
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321381138227">
                <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="3302086321381138226" />
                <node role="operation" type="jetbrains.mps.lang.refactoring.structure.NodeOperation" id="3302086321381138231" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="3302086321381217630">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="3302086321381217631">
            <property name="name" value="newLinkName" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.StringType" id="3302086321381217632" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.PlusExpression" id="3302086321381217633">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321381217634">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3302086321381217635">
                  <link role="variableDeclaration" targetNodeId="3302086321381137550" resolveInfo="concept" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="3302086321381217636">
                  <link role="property" targetNodeId="3v.1169194664001" resolveInfo="name" />
                </node>
              </node>
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.PlusExpression" id="3302086321381217637">
                <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321381217638">
                  <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="3302086321381217639">
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321381217640">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3302086321381217641">
                        <link role="variableDeclaration" targetNodeId="3302086321381137550" resolveInfo="concept" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="3302086321381217642" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="3302086321381217643">
                    <link role="baseMethodDeclaration" targetNodeId="5.~SModel.getSModelFqName():jetbrains.mps.smodel.SModelFqName" resolveInfo="getSModelFqName" />
                  </node>
                </node>
                <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="3302086321381217644">
                  <property name="value" value="." />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="3302086321381138233">
          <node role="expression" type="jetbrains.mps.lang.refactoring.structure.ChangeFeatureNameExpression" id="3302086321381138234">
            <node role="feature" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321381217657">
              <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="3302086321381217656" />
              <node role="operation" type="jetbrains.mps.lang.refactoring.structure.NodeOperation" id="3302086321381217661" />
            </node>
            <node role="newConceptFQName" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3302086321381217662">
              <link role="variableDeclaration" targetNodeId="3302086321381217631" resolveInfo="newLinkName" />
            </node>
            <node role="newFeatureName" type="jetbrains.mps.lang.refactoring.structure.RefactoringParameterReference" id="3302086321381217663">
              <link role="refactoringParameter" targetNodeId="3302086321381016424" resolveInfo="newName" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="modelsToGenerateBlock" type="jetbrains.mps.lang.refactoring.structure.ModelsToGenerateClause" id="3302086321381137509">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="3302086321381137510">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="3302086321381137511">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="3302086321381137512">
            <property name="name" value="result" />
            <node role="type" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="3302086321381137577">
              <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SModelType" id="3302086321381137583" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="3302086321381137593">
              <node role="creator" type="jetbrains.mps.baseLanguage.collections.structure.ListCreatorWithInit" id="3302086321381137594">
                <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SModelType" id="3302086321381137595" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="3302086321381137522">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="3302086321381137523">
            <property name="name" value="sourceLanguage" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="3302086321381137524">
              <link role="classifier" targetNodeId="5.~Language" resolveInfo="Language" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="3302086321381137525">
              <link role="classConcept" targetNodeId="5.~Language" resolveInfo="Language" />
              <link role="baseMethodDeclaration" targetNodeId="5.~Language.getLanguageFor(jetbrains.mps.smodel.SModelDescriptor):jetbrains.mps.smodel.Language" resolveInfo="getLanguageFor" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321381137528">
                <node role="operation" type="jetbrains.mps.lang.refactoring.structure.ModelDescriptorOperation" id="3302086321381137609" />
                <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="3302086321381137604" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="3302086321381137627">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="3302086321381137628">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="3302086321381137636">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3302086321381137638">
                <link role="variableDeclaration" targetNodeId="3302086321381137512" resolveInfo="result" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="3302086321381137632">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="3302086321381137635" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3302086321381137631">
              <link role="variableDeclaration" targetNodeId="3302086321381137523" resolveInfo="sourceLanguage" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="3302086321381137677">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="3302086321381137678">
            <property name="name" value="modelMap" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="3302086321381137679">
              <link role="classifier" targetNodeId="7.~Map" resolveInfo="Map" />
              <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="3302086321381137680">
                <link role="classifier" targetNodeId="4.~IModule" resolveInfo="IModule" />
              </node>
              <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="3302086321381137681">
                <link role="classifier" targetNodeId="7.~List" resolveInfo="List" />
                <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="3302086321381137682">
                  <link role="classifier" targetNodeId="5.~SModel" resolveInfo="SModel" />
                </node>
              </node>
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="3302086321381137683">
              <link role="baseMethodDeclaration" targetNodeId="6.~RefactoringUtil.getLanguageAndItsExtendingLanguageModels(jetbrains.mps.project.MPSProject,jetbrains.mps.smodel.Language):java.util.Map" resolveInfo="getLanguageAndItsExtendingLanguageModels" />
              <link role="classConcept" targetNodeId="6.~RefactoringUtil" resolveInfo="RefactoringUtil" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321381138158">
                <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="3302086321381138152" />
                <node role="operation" type="jetbrains.mps.lang.refactoring.structure.ProjectOperation" id="3302086321381138167" />
              </node>
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3302086321381137685">
                <link role="variableDeclaration" targetNodeId="3302086321381137523" resolveInfo="sourceLanguage" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.collections.structure.ForEachStatement" id="3302086321381138194">
          <node role="variable" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariable" id="3302086321381138195">
            <property name="name" value="modelList" />
          </node>
          <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="3302086321381138197">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="3302086321381138211">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321381138212">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3302086321381138213">
                  <link role="variableDeclaration" targetNodeId="3302086321381137512" resolveInfo="result" />
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.AddAllElementsOperation" id="3302086321381138214">
                  <node role="argument" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariableReference" id="3302086321381138220">
                    <link role="variable" targetNodeId="3302086321381138195" resolveInfo="modelList" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="inputSequence" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321381138204">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3302086321381138205">
              <link role="variableDeclaration" targetNodeId="3302086321381137678" resolveInfo="modelMap" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="3302086321381138206">
              <link role="baseMethodDeclaration" targetNodeId="7.~Map.values():java.util.Collection" resolveInfo="values" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="3302086321381137544">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3302086321381137545">
            <link role="variableDeclaration" targetNodeId="3302086321381137512" resolveInfo="result" />
          </node>
        </node>
      </node>
    </node>
    <node role="initBlock" type="jetbrains.mps.lang.refactoring.structure.InitClause" id="7874812549549778499">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="7874812549549778500">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="7874812549549778501">
          <node role="expression" type="jetbrains.mps.lang.refactoring.structure.AskExpression" id="7874812549549778502">
            <node role="parameter" type="jetbrains.mps.lang.refactoring.structure.RefactoringParameterReference" id="7874812549549778520">
              <link role="refactoringParameter" targetNodeId="3302086321381016424" resolveInfo="newName" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.refactoring.structure.LoggableRefactoring" id="3302086321380844533">
    <property name="name" value="RenameProperty" />
    <property name="userFriendlyName" value="Rename Property" />
    <link role="overrides" targetNodeId="2v.5663240094077654749" resolveInfo="Rename" />
    <node role="parameter" type="jetbrains.mps.lang.refactoring.structure.RefactoringParameter" id="3302086321381217667">
      <property name="name" value="newName" />
      <node role="chooser" type="jetbrains.mps.lang.refactoring.structure.MPSParameterChooser" id="3673527736022344499">
        <property name="title" value="New name:" />
        <node role="paramType" type="jetbrains.mps.lang.refactoring.structure.StringMPSParameterType" id="3673527736022344500" />
        <node role="initialValueBlock" type="jetbrains.mps.lang.refactoring.structure.InitialPropertyValueClause" id="6635062342941536616">
          <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="6635062342941536617">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="6635062342941536618">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6635062342941536626">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="6635062342941536620">
                  <node role="operand" type="jetbrains.mps.lang.refactoring.structure.SettingsRefactoringContext_ConceptFunctionParameter" id="6635062342941536619" />
                  <node role="operation" type="jetbrains.mps.lang.refactoring.structure.NodeOperation" id="6635062342941536625" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="6635062342941536630">
                  <link role="property" targetNodeId="3v.1169194664001" resolveInfo="name" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="affectedNodesBlock" type="jetbrains.mps.lang.refactoring.structure.AffectedNodesClause" id="3302086321380844534">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="3302086321380844535">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="3302086321381218403">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="3302086321381218405">
            <node role="creator" type="jetbrains.mps.baseLanguage.structure.ClassCreator" id="3302086321381218406">
              <link role="baseMethodDeclaration" targetNodeId="8.~SearchResults.&lt;init&gt;()" resolveInfo="SearchResults" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="updateModelBlock" type="jetbrains.mps.lang.refactoring.structure.UpdateModelClause" id="3302086321380844536">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="3302086321380844537">
        <node role="statement" type="jetbrains.mps.lang.refactoring.structure.UpdateModelByDefaultOperation" id="3302086321381217707" />
      </node>
    </node>
    <node role="target" type="jetbrains.mps.lang.refactoring.structure.NodeTarget" id="3302086321381217666">
      <link role="concept" targetNodeId="1.1071489288299" resolveInfo="PropertyDeclaration" />
    </node>
    <node role="doRefactorBlock" type="jetbrains.mps.lang.refactoring.structure.DoRefactorClause" id="3302086321380844539">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="3302086321380844540">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="3302086321381217682">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="3302086321381217683">
            <property name="name" value="concept" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="3302086321381217684">
              <link role="concept" targetNodeId="1.1169125787135" resolveInfo="AbstractConceptDeclaration" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321381217685">
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="3302086321381217687">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="3302086321381217688">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="3302086321381217689">
                    <link role="conceptDeclaration" targetNodeId="1.1169125787135" resolveInfo="AbstractConceptDeclaration" />
                  </node>
                </node>
              </node>
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321381217748">
                <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="3302086321381217747" />
                <node role="operation" type="jetbrains.mps.lang.refactoring.structure.NodeOperation" id="3302086321381217752" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="3302086321381217754">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="3302086321381217755">
            <property name="name" value="newPropName" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.StringType" id="3302086321381217756" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.PlusExpression" id="3302086321381217757">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321381217758">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3302086321381217759">
                  <link role="variableDeclaration" targetNodeId="3302086321381217683" resolveInfo="concept" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="3302086321381217760">
                  <link role="property" targetNodeId="3v.1169194664001" resolveInfo="name" />
                </node>
              </node>
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.PlusExpression" id="3302086321381217761">
                <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321381217762">
                  <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="3302086321381217763">
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321381217764">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3302086321381217765">
                        <link role="variableDeclaration" targetNodeId="3302086321381217683" resolveInfo="concept" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="3302086321381217766" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="3302086321381217767">
                    <link role="baseMethodDeclaration" targetNodeId="5.~SModel.getSModelFqName():jetbrains.mps.smodel.SModelFqName" resolveInfo="getSModelFqName" />
                  </node>
                </node>
                <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="3302086321381217768">
                  <property name="value" value="." />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="3302086321381217771">
          <node role="expression" type="jetbrains.mps.lang.refactoring.structure.ChangeFeatureNameExpression" id="3302086321381217772">
            <node role="feature" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321381217779">
              <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="3302086321381217778" />
              <node role="operation" type="jetbrains.mps.lang.refactoring.structure.NodeOperation" id="3302086321381217783" />
            </node>
            <node role="newConceptFQName" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3302086321381217784">
              <link role="variableDeclaration" targetNodeId="3302086321381217755" resolveInfo="newPropName" />
            </node>
            <node role="newFeatureName" type="jetbrains.mps.lang.refactoring.structure.RefactoringParameterReference" id="3302086321381217785">
              <link role="refactoringParameter" targetNodeId="3302086321381217667" resolveInfo="newName" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="modelsToGenerateBlock" type="jetbrains.mps.lang.refactoring.structure.ModelsToGenerateClause" id="3302086321381217708">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="3302086321381217709">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="3302086321381217710">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="3302086321381217711">
            <property name="name" value="result" />
            <node role="type" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="3302086321381217791">
              <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SModelType" id="3302086321381217797" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="3302086321381217807">
              <node role="creator" type="jetbrains.mps.baseLanguage.collections.structure.ListCreatorWithInit" id="3302086321381217808">
                <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SModelType" id="3302086321381217809" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="3302086321381217721">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="3302086321381217722">
            <property name="name" value="sourceLanguage" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="3302086321381217723">
              <link role="classifier" targetNodeId="5.~Language" resolveInfo="Language" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="3302086321381217724">
              <link role="baseMethodDeclaration" targetNodeId="5.~Language.getLanguageFor(jetbrains.mps.smodel.SModelDescriptor):jetbrains.mps.smodel.Language" resolveInfo="getLanguageFor" />
              <link role="classConcept" targetNodeId="5.~Language" resolveInfo="Language" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321381217725">
                <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="3302086321381217726">
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321381217727">
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="3302086321381217729" />
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321381217823">
                      <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="3302086321381217818" />
                      <node role="operation" type="jetbrains.mps.lang.refactoring.structure.NodeOperation" id="3302086321381217831" />
                    </node>
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="3302086321381217730">
                  <link role="baseMethodDeclaration" targetNodeId="5.~SModel.getModelDescriptor():jetbrains.mps.smodel.SModelDescriptor" resolveInfo="getModelDescriptor" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="3302086321381217833">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="3302086321381217834">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="3302086321381217842">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3302086321381217844">
                <link role="variableDeclaration" targetNodeId="3302086321381217711" resolveInfo="result" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="3302086321381217838">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="3302086321381217841" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3302086321381217837">
              <link role="variableDeclaration" targetNodeId="3302086321381217722" resolveInfo="sourceLanguage" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.Statement" id="3302086321381217845" />
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="3302086321381218371">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="3302086321381218372">
            <property name="name" value="modelsMap" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="3302086321381218373">
              <link role="classifier" targetNodeId="7.~Map" resolveInfo="Map" />
              <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="3302086321381218374">
                <link role="classifier" targetNodeId="4.~IModule" resolveInfo="IModule" />
              </node>
              <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="3302086321381218375">
                <link role="classifier" targetNodeId="7.~List" resolveInfo="List" />
                <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="3302086321381218376">
                  <link role="classifier" targetNodeId="5.~SModel" resolveInfo="SModel" />
                </node>
              </node>
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="3302086321381218377">
              <link role="baseMethodDeclaration" targetNodeId="6.~RefactoringUtil.getLanguageAndItsExtendingLanguageModels(jetbrains.mps.project.MPSProject,jetbrains.mps.smodel.Language):java.util.Map" resolveInfo="getLanguageAndItsExtendingLanguageModels" />
              <link role="classConcept" targetNodeId="6.~RefactoringUtil" resolveInfo="RefactoringUtil" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321381218378">
                <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="3302086321381218379" />
                <node role="operation" type="jetbrains.mps.lang.refactoring.structure.ProjectOperation" id="3302086321381218380" />
              </node>
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3302086321381218381">
                <link role="variableDeclaration" targetNodeId="3302086321381217722" resolveInfo="sourceLanguage" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ForeachStatement" id="3302086321381218408">
          <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="3302086321381218409">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="3302086321381218430">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321381218431">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3302086321381218432">
                  <link role="variableDeclaration" targetNodeId="3302086321381217711" resolveInfo="result" />
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.AddAllElementsOperation" id="3302086321381218433">
                  <node role="argument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3302086321381218456">
                    <link role="variableDeclaration" targetNodeId="3302086321381218412" resolveInfo="modelList" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="iterable" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="3302086321381218444">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3302086321381218440">
              <link role="variableDeclaration" targetNodeId="3302086321381218372" resolveInfo="modelsMap" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="3302086321381218450">
              <link role="baseMethodDeclaration" targetNodeId="7.~Map.values():java.util.Collection" resolveInfo="values" />
            </node>
          </node>
          <node role="variable" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="3302086321381218412">
            <property name="name" value="modelList" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="3302086321381218416">
              <link role="classifier" targetNodeId="7.~List" resolveInfo="List" />
              <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="3302086321381218422">
                <link role="classifier" targetNodeId="5.~SModel" resolveInfo="SModel" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="3302086321381217743">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="3302086321381217744">
            <link role="variableDeclaration" targetNodeId="3302086321381217711" resolveInfo="result" />
          </node>
        </node>
      </node>
    </node>
    <node role="initBlock" type="jetbrains.mps.lang.refactoring.structure.InitClause" id="7874812549549778514">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="7874812549549778515">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="7874812549549778516">
          <node role="expression" type="jetbrains.mps.lang.refactoring.structure.AskExpression" id="7874812549549778517">
            <node role="parameter" type="jetbrains.mps.lang.refactoring.structure.RefactoringParameterReference" id="7874812549549778519">
              <link role="refactoringParameter" targetNodeId="3302086321381217667" resolveInfo="newName" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
</model>

