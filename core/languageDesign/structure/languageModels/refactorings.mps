<?xml version="1.0" encoding="UTF-8"?>
<model modelUID="r:de5b7214-45ee-4f6d-89bf-acde59cdb050(jetbrains.mps.lang.structure.refactorings)">
  <persistence version="3" />
  <refactoringHistory />
  <language namespace="3ecd7c84-cde3-45de-886c-135ecc69b742(jetbrains.mps.lang.refactoring)" />
  <language namespace="f3061a53-9226-4cc5-a443-f952ceaf5816(jetbrains.mps.baseLanguage)" />
  <language namespace="83888646-71ce-4f1c-9c53-c54016f6ad4f(jetbrains.mps.baseLanguage.collections)" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959035b(jetbrains.mps.lang.findUsages.structure)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590353(jetbrains.mps.lang.intentions.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590338(jetbrains.mps.baseLanguage.closures.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590319(jetbrains.mps.lang.refactoring.structure)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590298(jetbrains.mps.lang.editor.constraints)" version="21" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959033d(jetbrains.mps.lang.annotations.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590358(jetbrains.mps.lang.findUsages.constraints)" version="4" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ba(jetbrains.mps.lang.sharedConcepts.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959032e(jetbrains.mps.baseLanguage.collections.structure)" version="7" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590301(jetbrains.mps.lang.smodel.structure)" version="16" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590283(jetbrains.mps.lang.core.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590328(jetbrains.mps.baseLanguage.collections.constraints)" version="6" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590313(jetbrains.mps.lang.refactoring.constraints)" version="4" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959028c(jetbrains.mps.lang.structure.constraints)" version="11" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902bc(jetbrains.mps.lang.sharedConcepts.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959029e(jetbrains.mps.lang.editor.structure)" version="32" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ca(jetbrains.mps.baseLanguage.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902db(jetbrains.mps.baseLanguage.blTypes.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590292(jetbrains.mps.lang.structure.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590334(jetbrains.mps.baseLanguage.closures.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902c1(jetbrains.mps.baseLanguage.constraints)" version="83" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902fb(jetbrains.mps.lang.smodel.constraints)" version="21" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959034f(jetbrains.mps.lang.intentions.constraints)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959034b(jetbrains.mps.lang.quotation.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590345(jetbrains.mps.lang.pattern.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590340(jetbrains.mps.lang.pattern.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902b4(jetbrains.mps.lang.typesystem.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ae(jetbrains.mps.lang.typesystem.constraints)" version="17" />
  <devkit namespace="2677cb18-f558-4e33-bc38-a5139cee06dc(jetbrains.mps.devkit.language-design)" />
  <maxImportIndex value="8" />
  <import index="1" modelUID="r:00000000-0000-4000-0000-011c89590292(jetbrains.mps.lang.structure.structure)" version="0" />
  <import index="2" modelUID="r:00000000-0000-4000-0000-011c89590287(jetbrains.mps.lang.core.scripts)" version="-1" />
  <import index="3" modelUID="r:00000000-0000-4000-0000-011c8959028e(jetbrains.mps.lang.structure.findUsages)" version="-1" />
  <import index="4" modelUID="f:java_stub#jetbrains.mps.project(jetbrains.mps.project@java_stub)" version="-1" />
  <import index="5" modelUID="f:java_stub#jetbrains.mps.smodel(jetbrains.mps.smodel@java_stub)" version="-1" />
  <import index="6" modelUID="f:java_stub#jetbrains.mps.refactoring.framework(jetbrains.mps.refactoring.framework@java_stub)" version="-1" />
  <import index="7" modelUID="f:java_stub#java.util(java.util@java_stub)" version="-1" />
  <import index="8" modelUID="f:java_stub#jetbrains.mps.ide.findusages.model(jetbrains.mps.ide.findusages.model@java_stub)" version="-1" />
  <visible index="2" modelUID="r:d9efd362-28b8-4f70-9bcd-fb582528d11c(jetbrains.mps.lang.core.refactorings)" />
  <visible index="3" modelUID="r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)" />
  <node type="jetbrains.mps.lang.refactoring.structure.Refactoring" id="1347577327951781517">
    <property name="name" value="RenameConcept" />
    <property name="userFriendlyName" value="Rename Concept" />
    <link role="overrides" targetNodeId="2v.1347577327951770664" resolveInfo="Rename" />
    <node role="parameter" type="jetbrains.mps.lang.refactoring.structure.RefactoringParameter" id="1347577327951781522">
      <property name="name" value="newName" />
      <node role="chooser" type="jetbrains.mps.lang.refactoring.structure.MPSParameterChooser" id="1347577327951781523">
        <property name="title" value="New name:" />
        <node role="paramType" type="jetbrains.mps.lang.refactoring.structure.StringMPSParameterType" id="1347577327951781524" />
        <node role="initialValueBlock" type="jetbrains.mps.lang.refactoring.structure.InitialPropertyValueClause" id="1347577327951781525">
          <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1347577327951781526">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1347577327951781527">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781528">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781529">
                  <node role="operand" type="jetbrains.mps.lang.refactoring.structure.SettingsRefactoringContext_ConceptFunctionParameter" id="1347577327951781530" />
                  <node role="operation" type="jetbrains.mps.lang.refactoring.structure.NodeOperation" id="1347577327951781531" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1347577327951781532">
                  <link role="property" targetNodeId="3v.1169194664001" resolveInfo="name" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="target" type="jetbrains.mps.lang.refactoring.structure.NodeTarget" id="1347577327951781521">
      <link role="concept" targetNodeId="1.1169125787135" resolveInfo="AbstractConceptDeclaration" />
    </node>
    <node role="doRefactorBlock" type="jetbrains.mps.lang.refactoring.structure.DoRefactorClause" id="1347577327951781519">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1347577327951781520">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1347577327951781539">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1347577327951781540">
            <property name="name" value="newConceptName" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.StringType" id="1347577327951781541" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.PlusExpression" id="1347577327951781542">
              <node role="rightExpression" type="jetbrains.mps.lang.refactoring.structure.RefactoringParameterReference" id="1347577327951781543">
                <link role="refactoringParameter" targetNodeId="1347577327951781522" resolveInfo="newName" />
              </node>
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.PlusExpression" id="1347577327951781544">
                <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781545">
                  <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1347577327951781546">
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781547">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781548">
                        <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="1347577327951781549" />
                        <node role="operation" type="jetbrains.mps.lang.refactoring.structure.NodeOperation" id="1347577327951781550" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="1347577327951781551" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1347577327951781552">
                    <link role="baseMethodDeclaration" targetNodeId="5.~SModel.getSModelFqName():jetbrains.mps.smodel.SModelFqName" resolveInfo="getSModelFqName" />
                  </node>
                </node>
                <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1347577327951781553">
                  <property name="value" value="." />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1347577327951781554">
          <node role="expression" type="jetbrains.mps.lang.refactoring.structure.ChangeFeatureNameExpression" id="1347577327951781555">
            <node role="feature" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781556">
              <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="1347577327951781557" />
              <node role="operation" type="jetbrains.mps.lang.refactoring.structure.NodeOperation" id="1347577327951781558" />
            </node>
            <node role="newFeatureName" type="jetbrains.mps.lang.refactoring.structure.RefactoringParameterReference" id="1347577327951781559">
              <link role="refactoringParameter" targetNodeId="1347577327951781522" resolveInfo="newName" />
            </node>
            <node role="newConceptFQName" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1347577327951781560">
              <link role="variableDeclaration" targetNodeId="1347577327951781540" resolveInfo="newConceptName" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="initBlock" type="jetbrains.mps.lang.refactoring.structure.InitClause" id="1347577327951781533">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1347577327951781534">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1347577327951781535">
          <node role="expression" type="jetbrains.mps.lang.refactoring.structure.AskExpression" id="1347577327951781536">
            <node role="parameter" type="jetbrains.mps.lang.refactoring.structure.RefactoringParameterReference" id="1347577327951781537">
              <link role="refactoringParameter" targetNodeId="1347577327951781522" resolveInfo="newName" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="modelsToGenerateBlock" type="jetbrains.mps.lang.refactoring.structure.ModelsToGenerateClause" id="1347577327951781564">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1347577327951781565">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1347577327951781566">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1347577327951781567">
            <property name="name" value="result" />
            <node role="type" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1347577327951781568">
              <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SModelType" id="1347577327951781569" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1347577327951781570">
              <node role="creator" type="jetbrains.mps.baseLanguage.collections.structure.LinkedListCreator" id="1347577327951781571">
                <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SModelType" id="1347577327951781572" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1347577327951781573">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1347577327951781574">
            <property name="name" value="sourceLanguage" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1347577327951781575">
              <link role="classifier" targetNodeId="5.~Language" resolveInfo="Language" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1347577327951781576">
              <link role="classConcept" targetNodeId="5.~Language" resolveInfo="Language" />
              <link role="baseMethodDeclaration" targetNodeId="5.~Language.getLanguageFor(jetbrains.mps.smodel.SModelDescriptor):jetbrains.mps.smodel.Language" resolveInfo="getLanguageFor" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781577">
                <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1347577327951781578">
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781579">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781580">
                      <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="1347577327951781581" />
                      <node role="operation" type="jetbrains.mps.lang.refactoring.structure.NodeOperation" id="1347577327951781582" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="1347577327951781583" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1347577327951781584">
                  <link role="baseMethodDeclaration" targetNodeId="5.~SModel.getModelDescriptor():jetbrains.mps.smodel.SModelDescriptor" resolveInfo="getModelDescriptor" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1347577327951781585">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1347577327951781586">
            <node role="statement" type="jetbrains.mps.baseLanguage.collections.structure.ForEachStatement" id="1347577327951781587">
              <node role="variable" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariable" id="1347577327951781588">
                <property name="name" value="value" />
              </node>
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1347577327951781589">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1347577327951781590">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781591">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1347577327951781592">
                      <link role="variableDeclaration" targetNodeId="1347577327951781567" resolveInfo="result" />
                    </node>
                    <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.AddAllElementsOperation" id="1347577327951781593">
                      <node role="argument" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariableReference" id="1347577327951781594">
                        <link role="variable" targetNodeId="1347577327951781588" resolveInfo="value" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="inputSequence" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781595">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1347577327951781596">
                  <link role="classConcept" targetNodeId="6.~RefactoringUtil" resolveInfo="RefactoringUtil" />
                  <link role="baseMethodDeclaration" targetNodeId="6.~RefactoringUtil.getLanguageAndItsExtendingLanguageModels(jetbrains.mps.project.MPSProject,jetbrains.mps.smodel.Language):java.util.Map" resolveInfo="getLanguageAndItsExtendingLanguageModels" />
                  <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781597">
                    <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="1347577327951781598" />
                    <node role="operation" type="jetbrains.mps.lang.refactoring.structure.ProjectOperation" id="1347577327951781599" />
                  </node>
                  <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1347577327951781600">
                    <link role="variableDeclaration" targetNodeId="1347577327951781574" resolveInfo="sourceLanguage" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1347577327951781601">
                  <link role="baseMethodDeclaration" targetNodeId="7.~Map.values():java.util.Collection" resolveInfo="values" />
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1347577327951781602">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1347577327951781603" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1347577327951781604">
              <link role="variableDeclaration" targetNodeId="1347577327951781574" resolveInfo="sourceLanguage" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1347577327951781605">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1347577327951781606">
            <link role="variableDeclaration" targetNodeId="1347577327951781567" resolveInfo="result" />
          </node>
        </node>
      </node>
    </node>
    <node role="affectedNodesBlock" type="jetbrains.mps.lang.refactoring.structure.AffectedNodesClause" id="1347577327951781617">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1347577327951781618">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1347577327951781619">
          <node role="expression" type="jetbrains.mps.lang.refactoring.structure.ExecuteFindersExpression" id="1347577327951781620">
            <node role="finders" type="jetbrains.mps.lang.refactoring.structure.FinderReference" id="1347577327951781621">
              <link role="finderDeclaration" targetNodeId="3.1197632773078" resolveInfo="ConceptInstances" />
            </node>
            <node role="finders" type="jetbrains.mps.lang.refactoring.structure.FinderReference" id="1347577327951781622">
              <link role="finderDeclaration" targetNodeId="3.1198430852441" resolveInfo="NodeAndDescendantsUsages" />
            </node>
            <node role="searchNode" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781623">
              <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="1347577327951781624" />
              <node role="operation" type="jetbrains.mps.lang.refactoring.structure.NodeOperation" id="1347577327951781625" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="updateModelBlock" type="jetbrains.mps.lang.refactoring.structure.UpdateModelClause" id="1347577327951781626">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1347577327951781627">
        <node role="statement" type="jetbrains.mps.lang.refactoring.structure.UpdateModelByDefaultOperation" id="1347577327951781628" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.refactoring.structure.Refactoring" id="1347577327951781638">
    <property name="name" value="RenameLink" />
    <property name="userFriendlyName" value="Rename Link" />
    <link role="overrides" targetNodeId="2v.1347577327951770664" resolveInfo="Rename" />
    <node role="parameter" type="jetbrains.mps.lang.refactoring.structure.RefactoringParameter" id="1347577327951781642">
      <property name="name" value="newName" />
      <node role="chooser" type="jetbrains.mps.lang.refactoring.structure.MPSParameterChooser" id="1347577327951781643">
        <property name="title" value="New name:" />
        <node role="paramType" type="jetbrains.mps.lang.refactoring.structure.StringMPSParameterType" id="1347577327951781644" />
        <node role="initialValueBlock" type="jetbrains.mps.lang.refactoring.structure.InitialPropertyValueClause" id="1347577327951781645">
          <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1347577327951781646">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1347577327951781647">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781648">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781649">
                  <node role="operand" type="jetbrains.mps.lang.refactoring.structure.SettingsRefactoringContext_ConceptFunctionParameter" id="1347577327951781650" />
                  <node role="operation" type="jetbrains.mps.lang.refactoring.structure.NodeOperation" id="1347577327951781651" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1347577327951781652">
                  <link role="property" targetNodeId="1.1071599776563" resolveInfo="role" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="target" type="jetbrains.mps.lang.refactoring.structure.NodeTarget" id="1347577327951781653">
      <link role="concept" targetNodeId="1.1071489288298" resolveInfo="LinkDeclaration" />
    </node>
    <node role="doRefactorBlock" type="jetbrains.mps.lang.refactoring.structure.DoRefactorClause" id="1347577327951781640">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1347577327951781641">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1347577327951781661">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1347577327951781662">
            <property name="name" value="concept" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1347577327951781663">
              <link role="concept" targetNodeId="1.1169125787135" resolveInfo="AbstractConceptDeclaration" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781664">
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1347577327951781665">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1347577327951781666">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1347577327951781667">
                    <link role="conceptDeclaration" targetNodeId="1.1169125787135" resolveInfo="AbstractConceptDeclaration" />
                  </node>
                </node>
              </node>
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781668">
                <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="1347577327951781669" />
                <node role="operation" type="jetbrains.mps.lang.refactoring.structure.NodeOperation" id="1347577327951781670" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1347577327951781671">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1347577327951781672">
            <property name="name" value="newLinkName" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.StringType" id="1347577327951781673" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.PlusExpression" id="1347577327951781674">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781675">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1347577327951781676">
                  <link role="variableDeclaration" targetNodeId="1347577327951781662" resolveInfo="concept" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1347577327951781677">
                  <link role="property" targetNodeId="3v.1169194664001" resolveInfo="name" />
                </node>
              </node>
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.PlusExpression" id="1347577327951781678">
                <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781679">
                  <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1347577327951781680">
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781681">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1347577327951781682">
                        <link role="variableDeclaration" targetNodeId="1347577327951781662" resolveInfo="concept" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="1347577327951781683" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1347577327951781684">
                    <link role="baseMethodDeclaration" targetNodeId="5.~SModel.getSModelFqName():jetbrains.mps.smodel.SModelFqName" resolveInfo="getSModelFqName" />
                  </node>
                </node>
                <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1347577327951781685">
                  <property name="value" value="." />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1347577327951781686">
          <node role="expression" type="jetbrains.mps.lang.refactoring.structure.ChangeFeatureNameExpression" id="1347577327951781687">
            <node role="feature" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781688">
              <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="1347577327951781689" />
              <node role="operation" type="jetbrains.mps.lang.refactoring.structure.NodeOperation" id="1347577327951781690" />
            </node>
            <node role="newConceptFQName" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1347577327951781691">
              <link role="variableDeclaration" targetNodeId="1347577327951781672" resolveInfo="newLinkName" />
            </node>
            <node role="newFeatureName" type="jetbrains.mps.lang.refactoring.structure.RefactoringParameterReference" id="1347577327951781692">
              <link role="refactoringParameter" targetNodeId="1347577327951781642" resolveInfo="newName" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="initBlock" type="jetbrains.mps.lang.refactoring.structure.InitClause" id="1347577327951781654">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1347577327951781655">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1347577327951781656">
          <node role="expression" type="jetbrains.mps.lang.refactoring.structure.AskExpression" id="1347577327951781657">
            <node role="parameter" type="jetbrains.mps.lang.refactoring.structure.RefactoringParameterReference" id="1347577327951781658">
              <link role="refactoringParameter" targetNodeId="1347577327951781642" resolveInfo="newName" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="modelsToGenerateBlock" type="jetbrains.mps.lang.refactoring.structure.ModelsToGenerateClause" id="1347577327951781698">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1347577327951781699">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1347577327951781700">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1347577327951781701">
            <property name="name" value="result" />
            <node role="type" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1347577327951781702">
              <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SModelType" id="1347577327951781703" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1347577327951781704">
              <node role="creator" type="jetbrains.mps.baseLanguage.collections.structure.ListCreatorWithInit" id="1347577327951781705">
                <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SModelType" id="1347577327951781706" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1347577327951781707">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1347577327951781708">
            <property name="name" value="sourceLanguage" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1347577327951781709">
              <link role="classifier" targetNodeId="5.~Language" resolveInfo="Language" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1347577327951781710">
              <link role="baseMethodDeclaration" targetNodeId="5.~Language.getLanguageFor(jetbrains.mps.smodel.SModelDescriptor):jetbrains.mps.smodel.Language" resolveInfo="getLanguageFor" />
              <link role="classConcept" targetNodeId="5.~Language" resolveInfo="Language" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781711">
                <node role="operation" type="jetbrains.mps.lang.refactoring.structure.ModelDescriptorOperation" id="1347577327951781712" />
                <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="1347577327951781713" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1347577327951781714">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1347577327951781715">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1347577327951781716">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1347577327951781717">
                <link role="variableDeclaration" targetNodeId="1347577327951781701" resolveInfo="result" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1347577327951781718">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1347577327951781719" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1347577327951781720">
              <link role="variableDeclaration" targetNodeId="1347577327951781708" resolveInfo="sourceLanguage" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1347577327951781721">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1347577327951781722">
            <property name="name" value="modelMap" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1347577327951781723">
              <link role="classifier" targetNodeId="7.~Map" resolveInfo="Map" />
              <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1347577327951781724">
                <link role="classifier" targetNodeId="4.~IModule" resolveInfo="IModule" />
              </node>
              <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1347577327951781725">
                <link role="classifier" targetNodeId="7.~List" resolveInfo="List" />
                <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1347577327951781726">
                  <link role="classifier" targetNodeId="5.~SModel" resolveInfo="SModel" />
                </node>
              </node>
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1347577327951781727">
              <link role="classConcept" targetNodeId="6.~RefactoringUtil" resolveInfo="RefactoringUtil" />
              <link role="baseMethodDeclaration" targetNodeId="6.~RefactoringUtil.getLanguageAndItsExtendingLanguageModels(jetbrains.mps.project.MPSProject,jetbrains.mps.smodel.Language):java.util.Map" resolveInfo="getLanguageAndItsExtendingLanguageModels" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781728">
                <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="1347577327951781729" />
                <node role="operation" type="jetbrains.mps.lang.refactoring.structure.ProjectOperation" id="1347577327951781730" />
              </node>
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1347577327951781731">
                <link role="variableDeclaration" targetNodeId="1347577327951781708" resolveInfo="sourceLanguage" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.collections.structure.ForEachStatement" id="1347577327951781732">
          <node role="variable" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariable" id="1347577327951781733">
            <property name="name" value="modelList" />
          </node>
          <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1347577327951781734">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1347577327951781735">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781736">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1347577327951781737">
                  <link role="variableDeclaration" targetNodeId="1347577327951781701" resolveInfo="result" />
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.AddAllElementsOperation" id="1347577327951781738">
                  <node role="argument" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariableReference" id="1347577327951781739">
                    <link role="variable" targetNodeId="1347577327951781733" resolveInfo="modelList" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="inputSequence" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781740">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1347577327951781741">
              <link role="variableDeclaration" targetNodeId="1347577327951781722" resolveInfo="modelMap" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1347577327951781742">
              <link role="baseMethodDeclaration" targetNodeId="7.~Map.values():java.util.Collection" resolveInfo="values" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1347577327951781743">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1347577327951781744">
            <link role="variableDeclaration" targetNodeId="1347577327951781701" resolveInfo="result" />
          </node>
        </node>
      </node>
    </node>
    <node role="affectedNodesBlock" type="jetbrains.mps.lang.refactoring.structure.AffectedNodesClause" id="1347577327951781755">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1347577327951781756">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1347577327951781757">
          <node role="expression" type="jetbrains.mps.lang.refactoring.structure.ExecuteFindersExpression" id="1347577327951781758">
            <node role="finders" type="jetbrains.mps.lang.refactoring.structure.FinderReference" id="1347577327951781759">
              <link role="finderDeclaration" targetNodeId="3.1201275992898" resolveInfo="LinkInstances" />
            </node>
            <node role="finders" type="jetbrains.mps.lang.refactoring.structure.FinderReference" id="1347577327951781760">
              <link role="finderDeclaration" targetNodeId="3.1198430852441" resolveInfo="NodeAndDescendantsUsages" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="updateModelBlock" type="jetbrains.mps.lang.refactoring.structure.UpdateModelClause" id="1347577327951781761">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1347577327951781762">
        <node role="statement" type="jetbrains.mps.lang.refactoring.structure.UpdateModelByDefaultOperation" id="1347577327951781763" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.refactoring.structure.Refactoring" id="1347577327951781764">
    <property name="name" value="RenameProperty" />
    <property name="userFriendlyName" value="Rename Property" />
    <link role="overrides" targetNodeId="2v.1347577327951770664" resolveInfo="Rename" />
    <node role="parameter" type="jetbrains.mps.lang.refactoring.structure.RefactoringParameter" id="1347577327951781778">
      <property name="name" value="newName" />
      <node role="chooser" type="jetbrains.mps.lang.refactoring.structure.MPSParameterChooser" id="1347577327951781779">
        <property name="title" value="New name:" />
        <node role="paramType" type="jetbrains.mps.lang.refactoring.structure.StringMPSParameterType" id="1347577327951781780" />
        <node role="initialValueBlock" type="jetbrains.mps.lang.refactoring.structure.InitialPropertyValueClause" id="1347577327951781781">
          <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1347577327951781782">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1347577327951781783">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781784">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781785">
                  <node role="operand" type="jetbrains.mps.lang.refactoring.structure.SettingsRefactoringContext_ConceptFunctionParameter" id="1347577327951781786" />
                  <node role="operation" type="jetbrains.mps.lang.refactoring.structure.NodeOperation" id="1347577327951781787" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1347577327951781788">
                  <link role="property" targetNodeId="3v.1169194664001" resolveInfo="name" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="target" type="jetbrains.mps.lang.refactoring.structure.NodeTarget" id="1347577327951781789">
      <link role="concept" targetNodeId="1.1071489288299" resolveInfo="PropertyDeclaration" />
    </node>
    <node role="doRefactorBlock" type="jetbrains.mps.lang.refactoring.structure.DoRefactorClause" id="1347577327951781766">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1347577327951781767">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1347577327951781797">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1347577327951781798">
            <property name="name" value="concept" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1347577327951781799">
              <link role="concept" targetNodeId="1.1169125787135" resolveInfo="AbstractConceptDeclaration" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781800">
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1347577327951781801">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1347577327951781802">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1347577327951781803">
                    <link role="conceptDeclaration" targetNodeId="1.1169125787135" resolveInfo="AbstractConceptDeclaration" />
                  </node>
                </node>
              </node>
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781804">
                <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="1347577327951781805" />
                <node role="operation" type="jetbrains.mps.lang.refactoring.structure.NodeOperation" id="1347577327951781806" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1347577327951781807">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1347577327951781808">
            <property name="name" value="newPropName" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.StringType" id="1347577327951781809" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.PlusExpression" id="1347577327951781810">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781811">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1347577327951781812">
                  <link role="variableDeclaration" targetNodeId="1347577327951781798" resolveInfo="concept" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1347577327951781813">
                  <link role="property" targetNodeId="3v.1169194664001" resolveInfo="name" />
                </node>
              </node>
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.PlusExpression" id="1347577327951781814">
                <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781815">
                  <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1347577327951781816">
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781817">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1347577327951781818">
                        <link role="variableDeclaration" targetNodeId="1347577327951781798" resolveInfo="concept" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="1347577327951781819" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1347577327951781820">
                    <link role="baseMethodDeclaration" targetNodeId="5.~SModel.getSModelFqName():jetbrains.mps.smodel.SModelFqName" resolveInfo="getSModelFqName" />
                  </node>
                </node>
                <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1347577327951781821">
                  <property name="value" value="." />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1347577327951781822">
          <node role="expression" type="jetbrains.mps.lang.refactoring.structure.ChangeFeatureNameExpression" id="1347577327951781823">
            <node role="feature" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781824">
              <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="1347577327951781825" />
              <node role="operation" type="jetbrains.mps.lang.refactoring.structure.NodeOperation" id="1347577327951781826" />
            </node>
            <node role="newConceptFQName" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1347577327951781827">
              <link role="variableDeclaration" targetNodeId="1347577327951781808" resolveInfo="newPropName" />
            </node>
            <node role="newFeatureName" type="jetbrains.mps.lang.refactoring.structure.RefactoringParameterReference" id="1347577327951781828">
              <link role="refactoringParameter" targetNodeId="1347577327951781778" resolveInfo="newName" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="initBlock" type="jetbrains.mps.lang.refactoring.structure.InitClause" id="1347577327951781790">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1347577327951781791">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1347577327951781792">
          <node role="expression" type="jetbrains.mps.lang.refactoring.structure.AskExpression" id="1347577327951781793">
            <node role="parameter" type="jetbrains.mps.lang.refactoring.structure.RefactoringParameterReference" id="1347577327951781794">
              <link role="refactoringParameter" targetNodeId="1347577327951781778" resolveInfo="newName" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="modelsToGenerateBlock" type="jetbrains.mps.lang.refactoring.structure.ModelsToGenerateClause" id="1347577327951781834">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1347577327951781835">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1347577327951781836">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1347577327951781837">
            <property name="name" value="result" />
            <node role="type" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1347577327951781838">
              <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SModelType" id="1347577327951781839" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1347577327951781840">
              <node role="creator" type="jetbrains.mps.baseLanguage.collections.structure.ListCreatorWithInit" id="1347577327951781841">
                <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SModelType" id="1347577327951781842" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1347577327951781843">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1347577327951781844">
            <property name="name" value="sourceLanguage" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1347577327951781845">
              <link role="classifier" targetNodeId="5.~Language" resolveInfo="Language" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1347577327951781846">
              <link role="baseMethodDeclaration" targetNodeId="5.~Language.getLanguageFor(jetbrains.mps.smodel.SModelDescriptor):jetbrains.mps.smodel.Language" resolveInfo="getLanguageFor" />
              <link role="classConcept" targetNodeId="5.~Language" resolveInfo="Language" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781847">
                <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1347577327951781848">
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781849">
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="1347577327951781850" />
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781851">
                      <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="1347577327951781852" />
                      <node role="operation" type="jetbrains.mps.lang.refactoring.structure.NodeOperation" id="1347577327951781853" />
                    </node>
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1347577327951781854">
                  <link role="baseMethodDeclaration" targetNodeId="5.~SModel.getModelDescriptor():jetbrains.mps.smodel.SModelDescriptor" resolveInfo="getModelDescriptor" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1347577327951781855">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1347577327951781856">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1347577327951781857">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1347577327951781858">
                <link role="variableDeclaration" targetNodeId="1347577327951781837" resolveInfo="result" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1347577327951781859">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1347577327951781860" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1347577327951781861">
              <link role="variableDeclaration" targetNodeId="1347577327951781844" resolveInfo="sourceLanguage" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.Statement" id="1347577327951781862" />
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1347577327951781863">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1347577327951781864">
            <property name="name" value="modelsMap" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1347577327951781865">
              <link role="classifier" targetNodeId="7.~Map" resolveInfo="Map" />
              <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1347577327951781866">
                <link role="classifier" targetNodeId="4.~IModule" resolveInfo="IModule" />
              </node>
              <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1347577327951781867">
                <link role="classifier" targetNodeId="7.~List" resolveInfo="List" />
                <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1347577327951781868">
                  <link role="classifier" targetNodeId="5.~SModel" resolveInfo="SModel" />
                </node>
              </node>
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1347577327951781869">
              <link role="classConcept" targetNodeId="6.~RefactoringUtil" resolveInfo="RefactoringUtil" />
              <link role="baseMethodDeclaration" targetNodeId="6.~RefactoringUtil.getLanguageAndItsExtendingLanguageModels(jetbrains.mps.project.MPSProject,jetbrains.mps.smodel.Language):java.util.Map" resolveInfo="getLanguageAndItsExtendingLanguageModels" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781870">
                <node role="operand" type="jetbrains.mps.lang.refactoring.structure.RefactoringContext_ConceptFunctionParameter" id="1347577327951781871" />
                <node role="operation" type="jetbrains.mps.lang.refactoring.structure.ProjectOperation" id="1347577327951781872" />
              </node>
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1347577327951781873">
                <link role="variableDeclaration" targetNodeId="1347577327951781844" resolveInfo="sourceLanguage" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ForeachStatement" id="1347577327951781874">
          <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1347577327951781875">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1347577327951781876">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781877">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1347577327951781878">
                  <link role="variableDeclaration" targetNodeId="1347577327951781837" resolveInfo="result" />
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.AddAllElementsOperation" id="1347577327951781879">
                  <node role="argument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1347577327951781880">
                    <link role="variableDeclaration" targetNodeId="1347577327951781884" resolveInfo="modelList" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="iterable" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1347577327951781881">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1347577327951781882">
              <link role="variableDeclaration" targetNodeId="1347577327951781864" resolveInfo="modelsMap" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1347577327951781883">
              <link role="baseMethodDeclaration" targetNodeId="7.~Map.values():java.util.Collection" resolveInfo="values" />
            </node>
          </node>
          <node role="variable" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1347577327951781884">
            <property name="name" value="modelList" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1347577327951781885">
              <link role="classifier" targetNodeId="7.~List" resolveInfo="List" />
              <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1347577327951781886">
                <link role="classifier" targetNodeId="5.~SModel" resolveInfo="SModel" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1347577327951781887">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1347577327951781888">
            <link role="variableDeclaration" targetNodeId="1347577327951781837" resolveInfo="result" />
          </node>
        </node>
      </node>
    </node>
    <node role="updateModelBlock" type="jetbrains.mps.lang.refactoring.structure.UpdateModelClause" id="1347577327951781900">
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1347577327951781901">
        <node role="statement" type="jetbrains.mps.lang.refactoring.structure.UpdateModelByDefaultOperation" id="1347577327951781902" />
      </node>
    </node>
  </node>
</model>

