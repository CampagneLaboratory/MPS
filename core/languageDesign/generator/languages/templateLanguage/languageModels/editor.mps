<?xml version="1.0" encoding="UTF-8"?>
<model modelUID="r:00000000-0000-4000-0000-011c895902e3(jetbrains.mps.lang.generator.editor)">
  <persistence version="3" />
  <refactoringHistory />
  <language namespace="18bc6592-03a6-4e29-a83a-7ff23bde13ba(jetbrains.mps.lang.editor)" />
  <language namespace="f3061a53-9226-4cc5-a443-f952ceaf5816(jetbrains.mps.baseLanguage)" />
  <language namespace="7866978e-a0f0-4cc7-81bc-4d213d9375e1(jetbrains.mps.lang.smodel)" />
  <language namespace="83888646-71ce-4f1c-9c53-c54016f6ad4f(jetbrains.mps.baseLanguage.collections)" />
  <language namespace="fd392034-7849-419d-9071-12563d152375(jetbrains.mps.baseLanguage.closures)" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590298(jetbrains.mps.lang.editor.constraints)" version="21" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959029e(jetbrains.mps.lang.editor.structure)" version="30" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902fb(jetbrains.mps.lang.smodel.constraints)" version="21" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590301(jetbrains.mps.lang.smodel.structure)" version="16" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902c1(jetbrains.mps.baseLanguage.constraints)" version="83" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ca(jetbrains.mps.baseLanguage.structure)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590328(jetbrains.mps.baseLanguage.collections.constraints)" version="6" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959032e(jetbrains.mps.baseLanguage.collections.structure)" version="4" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ba(jetbrains.mps.lang.sharedConcepts.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959030d(jetbrains.mps.lang.constraints.structure)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902e8(jetbrains.mps.lang.generator.structure)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590338(jetbrains.mps.baseLanguage.closures.structure)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902e2(jetbrains.mps.lang.generator.constraints)" version="16" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959028c(jetbrains.mps.lang.structure.constraints)" version="11" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590334(jetbrains.mps.baseLanguage.closures.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590283(jetbrains.mps.lang.core.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895903e4(jetbrains.mps.internal.collections.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902db(jetbrains.mps.baseLanguage.blTypes.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590292(jetbrains.mps.lang.structure.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902bc(jetbrains.mps.lang.sharedConcepts.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959033d(jetbrains.mps.lang.annotations.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902f3(jetbrains.mps.lang.generator.generationContext.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895903fe(jetbrains.mps.baseLanguage.strings.constraints)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590402(jetbrains.mps.baseLanguage.strings.structure)" version="9" />
  <maxImportIndex value="77" />
  <import index="1" modelUID="r:00000000-0000-4000-0000-011c895902e8(jetbrains.mps.lang.generator.structure)" version="2" />
  <import index="4" modelUID="r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)" version="0" />
  <import index="6" modelUID="r:00000000-0000-4000-0000-011c89590292(jetbrains.mps.lang.structure.structure)" version="0" />
  <import index="9" modelUID="f:java_stub#jetbrains.mps.nodeEditor(jetbrains.mps.nodeEditor@java_stub)" version="-1" />
  <import index="10" modelUID="f:java_stub#jetbrains.mps.smodel(jetbrains.mps.smodel@java_stub)" version="-1" />
  <import index="11" modelUID="f:java_stub#java.util(java.util@java_stub)" version="-1" />
  <import index="18" modelUID="r:00000000-0000-4000-0000-011c895902ca(jetbrains.mps.baseLanguage.structure)" version="1" />
  <import index="63" modelUID="f:java_stub#jetbrains.mps.plugin(jetbrains.mps.plugin@java_stub)" version="-1" />
  <import index="65" modelUID="f:java_stub#java.lang(java.lang@java_stub)" version="-1" />
  <import index="68" modelUID="f:java_stub#jetbrains.mps.ide(jetbrains.mps.ide@java_stub)" version="-1" />
  <import index="69" modelUID="r:00000000-0000-4000-0000-011c8959028b(jetbrains.mps.lang.structure.behavior)" version="-1" />
  <import index="70" modelUID="f:java_stub#jetbrains.mps.nodeEditor.cells(jetbrains.mps.nodeEditor.cells@java_stub)" version="-1" />
  <import index="71" modelUID="r:00000000-0000-4000-0000-011c89590284(jetbrains.mps.lang.core.editor)" version="-1" />
  <import index="72" modelUID="r:00000000-0000-4000-0000-011c895902bb(jetbrains.mps.lang.sharedConcepts.editor)" version="-1" />
  <import index="73" modelUID="f:java_stub#jetbrains.mps.lang.structure.structure(jetbrains.mps.lang.structure.structure@java_stub)" version="-1" />
  <import index="76" modelUID="f:java_stub#jetbrains.mps.lang.generator.structure(jetbrains.mps.lang.generator.structure@java_stub)" version="-1" />
  <import index="77" modelUID="f:java_stub#jetbrains.mps.workbench.tools(jetbrains.mps.workbench.tools@java_stub)" version="-1" />
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1087903454703">
    <property name="name" value="PropertyMacro_Editor" />
    <property name="package" value="macro" />
    <link role="conceptDeclaration" targetNodeId="1.1087833241328" />
    <node role="inspectedCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1087903454708">
      <property name="vertical" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1087907544521">
        <property name="text" value="property macro" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996862">
          <property name="flag" value="false" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399679049">
          <property name="color" value="DARK_BLUE" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407441908">
          <property name="color" value="lightGray" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167756652555">
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997986">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1167756687276">
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167756690247">
          <property name="text" value="value :" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994492">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1167756850114">
          <property name="noTargetText" value="&lt;none&gt;" />
          <link role="relationDeclaration" targetNodeId="1.1167756362303" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996677">
          <property name="flag" value="false" />
        </node>
      </node>
    </node>
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1149859004960">
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1149859006667">
        <property name="text" value="$" />
        <link role="styleClass" targetNodeId="1215513928924" resolveInfo="macroStart" />
        <link role="actionMap" targetNodeId="1231693283891" resolveInfo="PropertyMacroActions" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.PunctuationRightStyleClassItem" id="1233927581630">
          <property name="flag" value="true" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_AttributedPropertyCell" id="1149859009402">
        <link role="styleClass" targetNodeId="1215514347972" resolveInfo="nodeUnderMacro" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1087926271843">
    <property name="name" value="NodeMacro_Editor" />
    <property name="package" value="macro" />
    <link role="conceptDeclaration" targetNodeId="1.1087833466690" />
    <node role="inspectedCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1089126084078">
      <property name="vertical" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1089126148391">
        <property name="text" value="&lt; abstract node macro &gt;" />
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1096644584231">
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993951">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1205871987409">
        <property name="vertical" value="true" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1200912330334">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200912330335">
            <property name="text" value="mapping label" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678180">
              <property name="color" value="red" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200912330336">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996636">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1200912330337">
            <property name="noTargetText" value="&lt;no label&gt;" />
            <link role="relationDeclaration" targetNodeId="1.1200912223215" />
            <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1200912330338">
              <link role="conceptDeclaration" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
              <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1200912330339">
                <property name="readOnly" value="true" />
                <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
                <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407441884">
                  <property name="color" value="orange" />
                </node>
              </node>
            </node>
          </node>
          <node role="renderingCondition" type="jetbrains.mps.lang.editor.structure.QueryFunction_NodeCondition" id="1207673437177">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1207673437178">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1207673442944">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1207673450949">
                  <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1207673453562" />
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207673447837">
                    <node role="operand" type="jetbrains.mps.lang.editor.structure.ConceptFunctionParameter_node" id="1207673442945" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1207673449636">
                      <link role="link" targetNodeId="1.1200912223215" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993876">
            <property name="flag" value="false" />
          </node>
        </node>
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994178">
        <property name="flag" value="false" />
      </node>
    </node>
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1149865862287">
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1149865868009">
        <property name="text" value="$$" />
        <link role="actionMap" targetNodeId="1167859493978" resolveInfo="MacroSymbol_Actions" />
        <link role="styleClass" targetNodeId="1215513928924" resolveInfo="macroStart" />
        <node role="menuDescriptor" type="jetbrains.mps.lang.editor.structure.CellMenuDescriptor" id="1185230015117">
          <node role="cellMenuPart" type="jetbrains.mps.lang.editor.structure.CellMenuPart_ReplaceNode_CustomNodeConcept" id="1185230018853">
            <link role="replacementConcept" targetNodeId="1.1087833466690" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678832">
          <property name="color" value="red" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Component" id="1200912847340">
        <link role="editorComponent" targetNodeId="1184864447477" resolveInfo="NodeMacro_postfix" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1088762125437">
    <property name="name" value="ReferenceMacro_Editor" />
    <property name="package" value="macro" />
    <link role="conceptDeclaration" targetNodeId="1.1088761943574" />
    <node role="inspectedCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1088763040904">
      <property name="vertical" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167770426881">
        <property name="text" value="reference macro" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993725">
          <property name="flag" value="false" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678382">
          <property name="color" value="DARK_BLUE" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407441855">
          <property name="color" value="lightGray" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167770426893">
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995428">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1167770426894">
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167770426895">
          <property name="text" value="referent :" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997233">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1167770426896">
          <property name="noTargetText" value="&lt;none&gt;" />
          <link role="relationDeclaration" targetNodeId="1.1167770376702" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993574">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996650">
        <property name="flag" value="false" />
      </node>
    </node>
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1149858909222">
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1149858910850">
        <property name="text" value="-&gt;$" />
        <link role="actionMap" targetNodeId="1167859493978" resolveInfo="MacroSymbol_Actions" />
        <link role="styleClass" targetNodeId="1215513928924" resolveInfo="macroStart" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.PunctuationRightStyleClassItem" id="1233928704369">
          <property name="flag" value="true" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_AttributedLinkCell" id="1149858915193">
        <link role="styleClass" targetNodeId="1215514347972" resolveInfo="nodeUnderMacro" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1092060948911">
    <property name="name" value="TemplateDeclaration_Editor" />
    <property name="package" value="template" />
    <link role="conceptDeclaration" targetNodeId="1.1092059087312" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1092060948912">
      <property name="vertical" value="true" />
      <property name="name" value="nodeBox" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1168623804742">
        <property name="vertical" value="true" />
        <property name="gridLayout" value="true" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1168623804743">
          <property name="vertical" value="false" />
          <property name="name" value="headerRow" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168623804744">
            <property name="text" value="template" />
            <link role="styleClass" targetNodeId="1224774992290" resolveInfo="GeneratorKeyWord" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996118">
              <property name="flag" value="true" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1168623804745">
            <property name="noTargetText" value="&lt;no name&gt;" />
            <link role="relationDeclaration" targetNodeId="4.1169194664001" />
            <node role="menuDescriptor" type="jetbrains.mps.lang.editor.structure.CellMenuDescriptor" id="1183548078603">
              <node role="cellMenuPart" type="jetbrains.mps.lang.editor.structure.CellMenuPart_PropertyValues" id="1183548083857">
                <node role="valuesFunction" type="jetbrains.mps.lang.editor.structure.CellMenuPart_PropertyValues_GetValues" id="1183548083858">
                  <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1183548083859">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1183548097936">
                      <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1183548097937">
                        <property name="name" value="values" />
                        <node role="type" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1183548097938">
                          <node role="elementType" type="jetbrains.mps.baseLanguage.structure.StringType" id="1225191976442" />
                        </node>
                        <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1183548110188">
                          <node role="creator" type="jetbrains.mps.baseLanguage.collections.structure.ListCreatorWithInit" id="1183548111521">
                            <node role="elementType" type="jetbrains.mps.baseLanguage.structure.StringType" id="1225191975390" />
                          </node>
                        </node>
                      </node>
                    </node>
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1183548125361">
                      <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1183548125362">
                        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1183548125363">
                          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207675631562">
                            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1183548125364">
                              <link role="variableDeclaration" targetNodeId="1183548097937" resolveInfo="values" />
                            </node>
                            <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.AddElementOperation" id="1183548154080">
                              <node role="argument" type="jetbrains.mps.baseLanguage.structure.PlusExpression" id="1183548165694">
                                <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227892282">
                                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227895609">
                                    <node role="operand" type="jetbrains.mps.lang.editor.structure.CellMenuPart_Abstract_editedNode" id="1183548173969" />
                                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1183548178909">
                                      <link role="link" targetNodeId="1.1168285871518" />
                                    </node>
                                  </node>
                                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1183548181956">
                                    <link role="property" targetNodeId="4.1169194664001" />
                                  </node>
                                </node>
                                <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1183548159725">
                                  <property name="value" value="reduce_" />
                                </node>
                              </node>
                            </node>
                          </node>
                        </node>
                        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1183548193884">
                          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207675631706">
                            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1183548193885">
                              <link role="variableDeclaration" targetNodeId="1183548097937" resolveInfo="values" />
                            </node>
                            <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.AddElementOperation" id="1183548197146">
                              <node role="argument" type="jetbrains.mps.baseLanguage.structure.PlusExpression" id="1183548213044">
                                <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227890588">
                                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227885393">
                                    <node role="operand" type="jetbrains.mps.lang.editor.structure.CellMenuPart_Abstract_editedNode" id="1183548215197" />
                                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1183548218360">
                                      <link role="link" targetNodeId="1.1168285871518" />
                                    </node>
                                  </node>
                                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1183548221442">
                                    <link role="property" targetNodeId="4.1169194664001" />
                                  </node>
                                </node>
                                <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1183548203871">
                                  <property name="value" value="weave_" />
                                </node>
                              </node>
                            </node>
                          </node>
                        </node>
                      </node>
                      <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227909325">
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227959130">
                          <node role="operand" type="jetbrains.mps.lang.editor.structure.CellMenuPart_Abstract_editedNode" id="1183548127010" />
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1183548132928">
                            <link role="link" targetNodeId="1.1168285871518" />
                          </node>
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsNotNullOperation" id="1183548147726" />
                      </node>
                    </node>
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1183548186113">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1183548186114">
                        <link role="variableDeclaration" targetNodeId="1183548097937" resolveInfo="values" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407441906">
              <property name="color" value="yellow" />
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994683">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1168623810818">
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168623810819">
            <property name="text" value="input" />
            <link role="styleClass" targetNodeId="1224774992290" resolveInfo="GeneratorKeyWord" />
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1168623810820">
            <property name="noTargetText" value="&lt;any node&gt;" />
            <link role="relationDeclaration" targetNodeId="1.1168285871518" />
            <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1168623810821">
              <link role="conceptDeclaration" targetNodeId="6.1169125787135" />
              <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1168623810822">
                <property name="readOnly" value="true" />
                <link role="relationDeclaration" targetNodeId="4.1169194664001" />
                <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678822">
                  <property name="color" value="DARK_MAGENTA" />
                </node>
              </node>
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995098">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993642">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1092060945722">
        <property name="name" value="separator" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994245">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1092826413145">
        <property name="vertical" value="true" />
        <property name="gridLayout" value="true" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1092826609045">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1092826609046">
            <property name="text" value="Ctrl-Shift-F" />
            <property name="name" value="help3" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407441972">
              <property name="color" value="pink" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168623739674">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996187">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1092826609047">
            <property name="text" value="create template fragment" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.FontStyleStyleClassItem" id="1224774755045">
              <property name="style" value="PLAIN" />
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994968">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1100116537416">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1100116537417">
            <property name="text" value="Ctrl-Shift-M" />
            <property name="name" value="help1" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407442046">
              <property name="color" value="orange" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168623758004">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997642">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1100116537418">
            <property name="text" value="create macro" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.FontStyleStyleClassItem" id="1224774763620">
              <property name="style" value="PLAIN" />
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995159">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310998071">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168286052181">
        <property name="name" value="separator" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997164">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1092061173513">
        <property name="text" value="content node:" />
        <link role="styleClass" targetNodeId="1224774992290" resolveInfo="GeneratorKeyWord" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995770">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1092135992437">
        <property name="noTargetText" value="&lt;no content node&gt;" />
        <link role="relationDeclaration" targetNodeId="1.1092060348987" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1095419078589">
    <property name="name" value="MappingConfiguration_Editor" />
    <link role="conceptDeclaration" targetNodeId="1.1095416546421" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1095419078590">
      <property name="vertical" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1184950420877">
        <property name="vertical" value="true" />
        <property name="gridLayout" value="true" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1184950420878">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1184950420879">
            <property name="text" value="mapping configuration" />
            <link role="styleClass" targetNodeId="1224774992290" resolveInfo="GeneratorKeyWord" />
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1184950420880">
            <property name="noTargetText" value="&lt;no name&gt;" />
            <link role="relationDeclaration" targetNodeId="4.1169194664001" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994039">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1184950447849">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1184950447850">
            <property name="text" value="top-priority group" />
            <link role="styleClass" targetNodeId="1224774992290" resolveInfo="GeneratorKeyWord" />
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1184950447851">
            <link role="relationDeclaration" targetNodeId="1.1184950341882" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996886">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994078">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1095419376938">
        <property name="name" value="separator" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995572">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1200911414924">
        <property name="vertical" value="true" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200911421694">
          <property name="text" value="mapping labels:" />
          <property name="underlined" value="0" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.FontStyleStyleClassItem" id="1214314934114">
            <property name="style" value="BOLD_ITALIC" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.UnderlinedStyleClassItem" id="1214317025776">
            <property name="underlined" value="2" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399677782">
            <property name="color" value="DARK_BLUE" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1200911438227">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Indent" id="1200911479270" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNodeList" id="1200911481866">
            <property name="vertical" value="true" />
            <property name="gridLayout" value="true" />
            <link role="relationDeclaration" targetNodeId="1.1200911492601" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996517">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994924">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200911416677">
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310998082">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195502446251">
        <property name="vertical" value="true" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195502446252">
          <property name="text" value="conditional root rules:" />
          <property name="underlined" value="0" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997585">
            <property name="flag" value="false" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.FontStyleStyleClassItem" id="1214314934362">
            <property name="style" value="BOLD_ITALIC" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.UnderlinedStyleClassItem" id="1214317025775">
            <property name="underlined" value="2" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678347">
            <property name="color" value="DARK_BLUE" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195502446253">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Indent" id="1200911442886" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNodeList" id="1195502446255">
            <property name="vertical" value="true" />
            <property name="gridLayout" value="true" />
            <link role="relationDeclaration" targetNodeId="1.1167088157977" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995917">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997095">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310998051">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167519449203">
        <property name="name" value="separator" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995910">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195502470959">
        <property name="vertical" value="true" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195502470960">
          <property name="text" value="mapping rules:" />
          <property name="underlined" value="0" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996264">
            <property name="flag" value="false" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.FontStyleStyleClassItem" id="1214314934296">
            <property name="style" value="BOLD_ITALIC" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.UnderlinedStyleClassItem" id="1214317025778">
            <property name="underlined" value="2" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678565">
            <property name="color" value="DARK_BLUE" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195502470961">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Indent" id="1200911450903" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNodeList" id="1195502470963">
            <property name="vertical" value="true" />
            <link role="relationDeclaration" targetNodeId="1.1167514678247" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996676">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995517">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996605">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167514717724">
        <property name="name" value="separator" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997462">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195502488589">
        <property name="vertical" value="true" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195502488590">
          <property name="text" value="weaving rules:" />
          <property name="underlined" value="0" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993621">
            <property name="flag" value="false" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.FontStyleStyleClassItem" id="1214314934347">
            <property name="style" value="BOLD_ITALIC" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.UnderlinedStyleClassItem" id="1214317025779">
            <property name="underlined" value="2" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678615">
            <property name="color" value="DARK_BLUE" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195502488591">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Indent" id="1200911453982" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNodeList" id="1195502488593">
            <property name="vertical" value="true" />
            <link role="relationDeclaration" targetNodeId="1.1167172143858" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997396">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993942">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994148">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167172252976">
        <property name="name" value="separator" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994928">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195502503500">
        <property name="vertical" value="true" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195502503501">
          <property name="text" value="reduction rules:" />
          <property name="underlined" value="0" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996250">
            <property name="flag" value="false" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.FontStyleStyleClassItem" id="1214314934415">
            <property name="style" value="BOLD_ITALIC" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.UnderlinedStyleClassItem" id="1214317025782">
            <property name="underlined" value="2" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678348">
            <property name="color" value="DARK_BLUE" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195502503502">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Indent" id="1200911457280" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNodeList" id="1195502503504">
            <property name="vertical" value="true" />
            <link role="relationDeclaration" targetNodeId="1.1167328349397" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996409">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997883">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994065">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167328391796">
        <property name="name" value="separator" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993847">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195502524912">
        <property name="vertical" value="true" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195502524913">
          <property name="text" value="abandon roots:" />
          <property name="underlined" value="0" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997657">
            <property name="flag" value="false" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.FontStyleStyleClassItem" id="1214314934270">
            <property name="style" value="BOLD_ITALIC" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.UnderlinedStyleClassItem" id="1214317025777">
            <property name="underlined" value="2" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678448">
            <property name="color" value="DARK_BLUE" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1219952930751">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Indent" id="1219952930752" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNodeList" id="1219952930753">
            <property name="vertical" value="true" />
            <property name="gridLayout" value="true" />
            <link role="relationDeclaration" targetNodeId="1.1219952894531" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1219952930754">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1219952930755">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995965">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195502382531">
        <property name="name" value="separator" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995952">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195502537135">
        <property name="vertical" value="true" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195502537136">
          <property name="text" value="pre-processing scripts:" />
          <property name="underlined" value="0" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995154">
            <property name="flag" value="false" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.FontStyleStyleClassItem" id="1214314934108">
            <property name="style" value="BOLD_ITALIC" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.UnderlinedStyleClassItem" id="1214317025780">
            <property name="underlined" value="2" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678332">
            <property name="color" value="DARK_BLUE" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195502537137">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Indent" id="1200911464907" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNodeList" id="1195502537139">
            <property name="vertical" value="true" />
            <property name="gridLayout" value="true" />
            <link role="relationDeclaration" targetNodeId="1.1195502100749" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994516">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995341">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996783">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195502593672">
        <property name="name" value="separator" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996857">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195502593673">
        <property name="vertical" value="true" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195502593674">
          <property name="text" value="post-processing scripts:" />
          <property name="underlined" value="0" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996817">
            <property name="flag" value="false" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.FontStyleStyleClassItem" id="1214314934198">
            <property name="style" value="BOLD_ITALIC" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.UnderlinedStyleClassItem" id="1214317025781">
            <property name="underlined" value="2" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678626">
            <property name="color" value="DARK_BLUE" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195502593675">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Indent" id="1200911468893" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNodeList" id="1195502593677">
            <property name="vertical" value="true" />
            <property name="gridLayout" value="true" />
            <link role="relationDeclaration" targetNodeId="1.1195502346405" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994176">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994931">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996717">
          <property name="flag" value="false" />
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1095672501074">
    <property name="name" value="TemplateFragment_Editor" />
    <property name="package" value="template" />
    <link role="conceptDeclaration" targetNodeId="1.1095672379244" />
    <node role="inspectedCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1095672654001">
      <property name="vertical" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1184374372470">
        <property name="text" value="template fragment" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994427">
          <property name="flag" value="false" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678765">
          <property name="color" value="DARK_BLUE" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407441992">
          <property name="color" value="lightGray" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1184374372471">
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995676">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1184374372472">
        <property name="vertical" value="true" />
        <property name="gridLayout" value="true" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1200916708541">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200916709402">
            <property name="text" value="mapping label" />
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200916713576">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997955">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1200916720609">
            <property name="noTargetText" value="&lt;no label&gt;" />
            <link role="relationDeclaration" targetNodeId="1.1200916687663" />
            <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1200916720610">
              <link role="conceptDeclaration" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
              <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1200916724412">
                <property name="readOnly" value="true" />
                <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
                <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407442038">
                  <property name="color" value="orange" />
                </node>
              </node>
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996962">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1184374372516">
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1184374372517">
            <property name="text" value="fragment context" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997790">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1184374372518">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995261">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1184374372519">
            <property name="noTargetText" value="&lt;main context node&gt;" />
            <link role="relationDeclaration" targetNodeId="1.1184374535435" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995697">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997084">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994204">
        <property name="flag" value="false" />
      </node>
    </node>
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1096109716628">
      <property name="vertical" value="false" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1096109764800">
        <property name="text" value="&lt;TF" />
        <link role="actionMap" targetNodeId="1167859493978" resolveInfo="MacroSymbol_Actions" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995332">
          <property name="flag" value="true" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407442101">
          <property name="color" value="pink" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorSelectedStyleClassItem" id="1214407442208">
          <property name="color" value="magenta" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1200916748727">
        <property name="noTargetText" value="&lt;no label&gt;" />
        <link role="relationDeclaration" targetNodeId="1.1200916687663" />
        <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1200916748728">
          <link role="conceptDeclaration" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
          <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1200916748729">
            <property name="readOnly" value="true" />
            <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407442004">
              <property name="color" value="orange" />
            </node>
          </node>
        </node>
        <node role="renderingCondition" type="jetbrains.mps.lang.editor.structure.QueryFunction_NodeCondition" id="1200916762542">
          <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1200916762543">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1200916764091">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1200916767347">
                <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1200916769537" />
                <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227894035">
                  <node role="operand" type="jetbrains.mps.lang.editor.structure.ConceptFunctionParameter_node" id="1200916764092" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1200916766658">
                    <link role="link" targetNodeId="1.1200916687663" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_AttributedNodeCell" id="1149858834706">
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.DrawBracketsStyleClassItem" id="1214313021473">
          <property name="flag" value="true" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.BracketColorStyleClassItem" id="1214330065452">
          <property name="color" value="pink" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1149858857560">
        <property name="text" value="TF&gt;" />
        <link role="actionMap" targetNodeId="1167859493978" resolveInfo="MacroSymbol_Actions" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997574">
          <property name="flag" value="true" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407441880">
          <property name="color" value="pink" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorSelectedStyleClassItem" id="1214407442104">
          <property name="color" value="magenta" />
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1112731832583">
    <property name="package" value="macro" />
    <link role="conceptDeclaration" targetNodeId="1.1112731569622" />
    <node role="inspectedCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1112732002603">
      <property name="vertical" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168380475643">
        <property name="text" value="switch-macro" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997713">
          <property name="flag" value="false" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678556">
          <property name="color" value="DARK_BLUE" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407442099">
          <property name="color" value="lightGray" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168380475644">
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995000">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1168380475645">
        <property name="vertical" value="true" />
        <property name="gridLayout" value="true" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1200912349154">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200912349155">
            <property name="text" value="mapping label" />
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200912349156">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996648">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1200912349157">
            <property name="noTargetText" value="&lt;no label&gt;" />
            <link role="relationDeclaration" targetNodeId="1.1200912223215" />
            <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1200912349158">
              <link role="conceptDeclaration" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
              <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1200912349159">
                <property name="readOnly" value="true" />
                <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
                <link role="styleClass" targetNodeId="1216755869996" resolveInfo="mappingLabelReference" />
              </node>
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996754">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1168380475676">
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168380475677">
            <property name="text" value="mapped node" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993683">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168380475678">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993868">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1168380475679">
            <property name="noTargetText" value="&lt;current source node&gt;" />
            <link role="relationDeclaration" targetNodeId="1.1168380395224" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994042">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168380594944">
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996679">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1168380594945">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168380594946">
            <property name="text" value="template switch" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994354">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168380600468">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997363">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1168380594947">
            <property name="noTargetText" value="&lt;choose template switch&gt;" />
            <link role="relationDeclaration" targetNodeId="1.1112731629154" />
            <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1168380594948">
              <link role="conceptDeclaration" targetNodeId="1.1112730859144" />
              <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1168380594949">
                <property name="noTargetText" value="&lt;no name&gt;" />
                <property name="readOnly" value="true" />
                <link role="relationDeclaration" targetNodeId="4.1169194664001" />
                <link role="styleClass" targetNodeId="1194566785068" resolveInfo="c1" />
              </node>
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997030">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997098">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994445">
        <property name="flag" value="false" />
      </node>
    </node>
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1149865970859">
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1149865971863">
        <property name="text" value="$SWITCH$" />
        <property name="attractsFocus" value="1" />
        <link role="actionMap" targetNodeId="1167859493978" resolveInfo="MacroSymbol_Actions" />
        <link role="styleClass" targetNodeId="1215513928924" resolveInfo="macroStart" />
        <node role="menuDescriptor" type="jetbrains.mps.lang.editor.structure.CellMenuDescriptor" id="1185229261881">
          <node role="cellMenuPart" type="jetbrains.mps.lang.editor.structure.CellMenuPart_ReplaceNode_CustomNodeConcept" id="1185229261882">
            <link role="replacementConcept" targetNodeId="1.1087833466690" />
          </node>
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Component" id="1184865715451">
        <link role="editorComponent" targetNodeId="1184864447477" resolveInfo="NodeMacro_postfix" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1112732167706">
    <link role="conceptDeclaration" targetNodeId="1.1112730859144" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1112732179003">
      <property name="vertical" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1113324878579">
        <property name="vertical" value="false" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1113324878580">
          <property name="text" value="template switch" />
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1113324878581">
          <property name="noTargetText" value="&lt;no name&gt;" />
          <link role="relationDeclaration" targetNodeId="4.1169194664001" />
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1113324878582">
          <property name="text" value="extends" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995811">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1113324878583">
          <property name="noTargetText" value="&lt;none&gt;" />
          <link role="relationDeclaration" targetNodeId="1.1112820671508" />
          <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1113324878584">
            <link role="conceptDeclaration" targetNodeId="1.1112730859144" />
            <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1113324878585">
              <property name="noTargetText" value="&lt;no name&gt;" />
              <property name="readOnly" value="true" />
              <link role="relationDeclaration" targetNodeId="4.1169194664001" />
              <link role="styleClass" targetNodeId="1194566785068" resolveInfo="reference" />
            </node>
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995687">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1112732307916">
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993617">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1112732228505">
        <property name="vertical" value="false" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Indent" id="1226355981469" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1167337603751">
          <property name="vertical" value="true" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1226356043098">
            <property name="vertical" value="false" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1226356043099">
              <property name="flag" value="false" />
            </node>
            <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1226356043100">
              <property name="text" value="null-input message:" />
            </node>
            <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1226356060399">
              <property name="noTargetText" value="&lt;none&gt;" />
              <link role="relationDeclaration" targetNodeId="1.1226355936225" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1226356085185" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167340820337">
            <property name="text" value="cases:" />
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167340983613">
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997583">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1167340820338">
            <property name="vertical" value="false" />
            <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167340820339">
              <property name="text" value="  " />
              <property name="name" value="indent" />
              <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996960">
                <property name="flag" value="false" />
              </node>
            </node>
            <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNodeList" id="1167340820340">
              <property name="vertical" value="true" />
              <link role="relationDeclaration" targetNodeId="1.1167340453568" />
              <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310998144">
                <property name="flag" value="false" />
              </node>
            </node>
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993728">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167340858502">
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997725">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167340861629">
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994325">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1168559964846">
            <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168559964847">
              <property name="text" value="default:" />
            </node>
            <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1168560005632">
              <property name="noTargetText" value="&lt;ignore switch&gt;" />
              <link role="relationDeclaration" targetNodeId="1.1168558750579" />
            </node>
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997566">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994838">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993981">
          <property name="flag" value="false" />
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1112911659681">
    <link role="conceptDeclaration" targetNodeId="1.1112911581741" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1112911714074">
      <property name="noTargetText" value="&lt;choose switch&gt;" />
      <link role="relationDeclaration" targetNodeId="1.1112911598335" />
      <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1112911678104">
        <link role="conceptDeclaration" targetNodeId="1.1112730859144" />
        <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1112911714075">
          <property name="noTargetText" value="&lt;no name&gt;" />
          <property name="readOnly" value="true" />
          <link role="relationDeclaration" targetNodeId="4.1169194664001" />
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1114707211025">
    <property name="package" value="macro" />
    <link role="conceptDeclaration" targetNodeId="1.1118773211870" />
    <node role="inspectedCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1114709712821">
      <property name="vertical" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1114709792729">
        <property name="text" value="if-macro" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996876">
          <property name="flag" value="false" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678993">
          <property name="color" value="DARK_BLUE" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407441931">
          <property name="color" value="lightGray" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167866342692">
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994762">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1167946208457">
        <property name="vertical" value="true" />
        <property name="gridLayout" value="true" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1200912276142">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200912276143">
            <property name="text" value="mapping label" />
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200912276144">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995816">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1200912276145">
            <property name="noTargetText" value="&lt;no label&gt;" />
            <link role="relationDeclaration" targetNodeId="1.1200912223215" />
            <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1200912276146">
              <link role="conceptDeclaration" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
              <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1200912276147">
                <property name="readOnly" value="true" />
                <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
                <link role="styleClass" targetNodeId="1216755869996" resolveInfo="mappingLabelReference" />
              </node>
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997300">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1167946218119">
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167946218120">
            <property name="text" value="condition" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997785">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167946218121">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995289">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1167946218122">
            <property name="noTargetText" value="&lt;none&gt;" />
            <property name="attractsFocus" value="2" />
            <link role="relationDeclaration" targetNodeId="1.1167945861827" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994392">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1194989407216">
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1194989407217">
            <property name="text" value="alternative" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997981">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1194989407218">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993780">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1194989407219">
            <property name="noTargetText" value="&lt;none&gt;" />
            <link role="relationDeclaration" targetNodeId="1.1194989344771" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996384">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994597">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994550">
        <property name="flag" value="false" />
      </node>
    </node>
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1149865994570">
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1149865995528">
        <property name="text" value="$IF$" />
        <property name="attractsFocus" value="1" />
        <link role="actionMap" targetNodeId="1167859493978" resolveInfo="MacroSymbol_Actions" />
        <link role="styleClass" targetNodeId="1215513928924" resolveInfo="macroStart" />
        <node role="menuDescriptor" type="jetbrains.mps.lang.editor.structure.CellMenuDescriptor" id="1185229081260">
          <node role="cellMenuPart" type="jetbrains.mps.lang.editor.structure.CellMenuPart_ReplaceNode_CustomNodeConcept" id="1185229081261">
            <link role="replacementConcept" targetNodeId="1.1087833466690" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.PunctuationRightStyleClassItem" id="1233927741485">
          <property name="flag" value="true" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Component" id="1184865608223">
        <link role="editorComponent" targetNodeId="1184864447477" resolveInfo="NodeMacro_postfix" />
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1203262602124">
        <property name="vertical" value="false" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1203262902866">
          <property name="text" value="/" />
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1203262602125">
          <property name="text" value="$ELSE$" />
          <link role="styleClass" targetNodeId="1215513928924" resolveInfo="macroStart" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.PunctuationRightStyleClassItem" id="1233929702905">
            <property name="flag" value="true" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1203262602126">
          <link role="relationDeclaration" targetNodeId="1.1194989344771" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.DrawBracketsStyleClassItem" id="1214313021456">
            <property name="flag" value="true" />
          </node>
        </node>
        <node role="renderingCondition" type="jetbrains.mps.lang.editor.structure.QueryFunction_NodeCondition" id="1203262602127">
          <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1203262602128">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1203262602129">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227933313">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227905492">
                  <node role="operand" type="jetbrains.mps.lang.editor.structure.ConceptFunctionParameter_node" id="1203262602134" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1203262602133">
                    <link role="link" targetNodeId="1.1194989344771" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsNotNullOperation" id="1203262602131" />
              </node>
            </node>
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997945">
          <property name="flag" value="false" />
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1114729546995">
    <property name="package" value="macro" />
    <link role="conceptDeclaration" targetNodeId="1.1114729360583" />
    <node role="inspectedCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1114729602403">
      <property name="vertical" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168278698423">
        <property name="text" value="copy/reduce node list macro" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996183">
          <property name="flag" value="false" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678481">
          <property name="color" value="DARK_BLUE" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407441907">
          <property name="color" value="lightGray" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168278698424">
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996515">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1168278698425">
        <property name="vertical" value="true" />
        <property name="gridLayout" value="true" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1200912270588">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200912270589">
            <property name="text" value="mapping label" />
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200912270590">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995088">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1200912270591">
            <property name="noTargetText" value="&lt;no label&gt;" />
            <link role="relationDeclaration" targetNodeId="1.1200912223215" />
            <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1200912270592">
              <link role="conceptDeclaration" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
              <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1200912270593">
                <property name="readOnly" value="true" />
                <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
                <link role="styleClass" targetNodeId="1216755869996" resolveInfo="mappingLabelReference" />
              </node>
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995528">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1168278698448">
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168278698449">
            <property name="text" value="mapped nodes" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995415">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168278698450">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995294">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1168278698451">
            <property name="noTargetText" value="&lt;none&gt;" />
            <property name="attractsFocus" value="2" />
            <link role="relationDeclaration" targetNodeId="1.1168278589236" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310998031">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994879">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994255">
        <property name="flag" value="false" />
      </node>
    </node>
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1149865947522">
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1149865948823">
        <property name="text" value="$COPY_SRCL$" />
        <property name="attractsFocus" value="1" />
        <link role="actionMap" targetNodeId="1167859493978" resolveInfo="MacroSymbol_Actions" />
        <link role="styleClass" targetNodeId="1215513928924" resolveInfo="macroStart" />
        <node role="menuDescriptor" type="jetbrains.mps.lang.editor.structure.CellMenuDescriptor" id="1185229126496">
          <node role="cellMenuPart" type="jetbrains.mps.lang.editor.structure.CellMenuPart_ReplaceNode_CustomNodeConcept" id="1185229126497">
            <link role="replacementConcept" targetNodeId="1.1087833466690" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.PunctuationRightStyleClassItem" id="1233928686096">
          <property name="flag" value="true" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Component" id="1184865655240">
        <link role="editorComponent" targetNodeId="1184864447477" resolveInfo="NodeMacro_postfix" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1118773368750">
    <property name="package" value="macro" />
    <link role="conceptDeclaration" targetNodeId="1.1114706874351" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1149866056564">
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1216152679070">
        <property name="text" value="$COPY_SRC$" />
        <property name="attractsFocus" value="1" />
        <link role="styleClass" targetNodeId="1215513928924" resolveInfo="macroStart" />
        <link role="actionMap" targetNodeId="1167859493978" resolveInfo="MacroSymbol_Actions" />
        <node role="menuDescriptor" type="jetbrains.mps.lang.editor.structure.CellMenuDescriptor" id="1216152679071">
          <node role="cellMenuPart" type="jetbrains.mps.lang.editor.structure.CellMenuPart_ReplaceNode_CustomNodeConcept" id="1216152679072">
            <link role="replacementConcept" targetNodeId="1.1087833466690" resolveInfo="NodeMacro" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.PunctuationRightStyleClassItem" id="1233927771731">
          <property name="flag" value="true" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Component" id="1184865678180">
        <link role="editorComponent" targetNodeId="1184864447477" resolveInfo="NodeMacro_postfix" />
      </node>
    </node>
    <node role="inspectedCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Component" id="1184214434098">
      <link role="editorComponent" targetNodeId="1184214289430" resolveInfo="CopyScrNodeMacro_inspector" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1118786597045">
    <property name="package" value="macro" />
    <link role="conceptDeclaration" targetNodeId="1.1118786554307" />
    <node role="inspectedCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1118786597047">
      <property name="vertical" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167952224466">
        <property name="text" value="loop-macro" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995946">
          <property name="flag" value="false" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399677860">
          <property name="color" value="DARK_BLUE" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407441902">
          <property name="color" value="lightGray" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167952224467">
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993925">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1167952224468">
        <property name="vertical" value="true" />
        <property name="gridLayout" value="true" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1200912287265">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200912287266">
            <property name="text" value="mapping label" />
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200912287267">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996495">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1200912287268">
            <property name="noTargetText" value="&lt;no label&gt;" />
            <link role="relationDeclaration" targetNodeId="1.1200912223215" />
            <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1200912287269">
              <link role="conceptDeclaration" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
              <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1200912287270">
                <property name="readOnly" value="true" />
                <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
                <link role="styleClass" targetNodeId="1216755869996" resolveInfo="mappingLabelReference" />
              </node>
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997499">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1167952224485">
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167952224486">
            <property name="text" value="mapped nodes" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996300">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167952224487">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997167">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1167952224504">
            <property name="noTargetText" value="&lt;none&gt;" />
            <property name="attractsFocus" value="2" />
            <link role="relationDeclaration" targetNodeId="1.1167952069335" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310998226">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997850">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996916">
        <property name="flag" value="false" />
      </node>
    </node>
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1149866039728">
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1149866040638">
        <property name="text" value="$LOOP$" />
        <property name="attractsFocus" value="1" />
        <link role="actionMap" targetNodeId="1167859493978" resolveInfo="MacroSymbol_Actions" />
        <link role="styleClass" targetNodeId="1215513928924" resolveInfo="macroStart" />
        <node role="menuDescriptor" type="jetbrains.mps.lang.editor.structure.CellMenuDescriptor" id="1185229158782">
          <node role="cellMenuPart" type="jetbrains.mps.lang.editor.structure.CellMenuPart_ReplaceNode_CustomNodeConcept" id="1185229158783">
            <link role="replacementConcept" targetNodeId="1.1087833466690" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.PunctuationRightStyleClassItem" id="1233928864459">
          <property name="flag" value="true" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Component" id="1184865359555">
        <link role="editorComponent" targetNodeId="1184864447477" resolveInfo="NodeMacro_postfix" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1131073370410">
    <property name="package" value="macro" />
    <link role="conceptDeclaration" targetNodeId="1.1131073187192" />
    <node role="inspectedCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1131073370412">
      <property name="vertical" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168281881363">
        <property name="text" value="map node macro" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994376">
          <property name="flag" value="false" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678015">
          <property name="color" value="DARK_BLUE" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407442011">
          <property name="color" value="lightGray" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168281881364">
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993723">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1168281881365">
        <property name="vertical" value="true" />
        <property name="gridLayout" value="true" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1200912323546">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200912323547">
            <property name="text" value="mapping label" />
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200912323548">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994970">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1200912323549">
            <property name="noTargetText" value="&lt;no label&gt;" />
            <link role="relationDeclaration" targetNodeId="1.1200912223215" />
            <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1200912323550">
              <link role="conceptDeclaration" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
              <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1200912323551">
                <property name="readOnly" value="true" />
                <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
                <link role="styleClass" targetNodeId="1216755869996" resolveInfo="mappingLabelReference" />
              </node>
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994121">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1168281881382">
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168281881383">
            <property name="text" value="mapped node" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996394">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168281881384">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996235">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1168281881385">
            <property name="noTargetText" value="&lt;current source node&gt;" />
            <link role="relationDeclaration" targetNodeId="1.1168281849769" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996005">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1170725947556">
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1170725947557">
            <property name="text" value="mapping func" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995945">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1170725947558">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997310">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1170725947559">
            <property name="noTargetText" value="&lt;default&gt;" />
            <link role="relationDeclaration" targetNodeId="1.1170725844563" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994056">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1225229368545">
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1225229368546">
            <property name="text" value="post-processing" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1225229368547">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1225229368548">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1225229368549">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1225229368550">
            <property name="noTargetText" value="&lt;default&gt;" />
            <link role="relationDeclaration" targetNodeId="1.1225229330048" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1225229368551">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994841">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995156">
        <property name="flag" value="false" />
      </node>
    </node>
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1149866021735">
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1149866022646">
        <property name="text" value="$MAP_SRC$" />
        <property name="attractsFocus" value="1" />
        <link role="actionMap" targetNodeId="1167859493978" resolveInfo="MacroSymbol_Actions" />
        <link role="styleClass" targetNodeId="1215513928924" resolveInfo="macroStart" />
        <node role="menuDescriptor" type="jetbrains.mps.lang.editor.structure.CellMenuDescriptor" id="1185229239786">
          <node role="cellMenuPart" type="jetbrains.mps.lang.editor.structure.CellMenuPart_ReplaceNode_CustomNodeConcept" id="1185229239787">
            <link role="replacementConcept" targetNodeId="1.1087833466690" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.PunctuationRightStyleClassItem" id="1233928672040">
          <property name="flag" value="true" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Component" id="1184865705543">
        <link role="editorComponent" targetNodeId="1184864447477" resolveInfo="NodeMacro_postfix" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1133037934981">
    <property name="package" value="macro" />
    <link role="conceptDeclaration" targetNodeId="1.1133037731736" />
    <node role="inspectedCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1133038004770">
      <property name="vertical" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168291602938">
        <property name="text" value="map node macro" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995600">
          <property name="flag" value="false" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678288">
          <property name="color" value="DARK_BLUE" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407442003">
          <property name="color" value="lightGray" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168291602939">
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996821">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1168291602940">
        <property name="vertical" value="true" />
        <property name="gridLayout" value="true" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1200912293382">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200912293383">
            <property name="text" value="mapping label" />
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200912293384">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995038">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1200912293385">
            <property name="noTargetText" value="&lt;no label&gt;" />
            <link role="relationDeclaration" targetNodeId="1.1200912223215" />
            <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1200912293386">
              <link role="conceptDeclaration" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
              <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1200912293387">
                <property name="readOnly" value="true" />
                <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
                <link role="styleClass" targetNodeId="1216755869996" resolveInfo="mappingLabelReference" />
              </node>
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994513">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1168291602963">
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168291602964">
            <property name="text" value="mapped nodes" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997328">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168291602965">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995036">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1168291602966">
            <property name="noTargetText" value="&lt;none&gt;" />
            <link role="relationDeclaration" targetNodeId="1.1168291362368" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995101">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1170898922301">
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1170898922302">
            <property name="text" value="mapping func" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995147">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1170898922303">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993947">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1170898922304">
            <property name="noTargetText" value="&lt;default&gt;" />
            <link role="relationDeclaration" targetNodeId="1.1170871384825" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997651">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1225229726219">
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1225229726220">
            <property name="text" value="post-processing" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1225229726221">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1225229726222">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1225229726223">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1225229726224">
            <property name="noTargetText" value="&lt;default&gt;" />
            <link role="relationDeclaration" targetNodeId="1.1225229689103" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1225229726225">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996791">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993926">
        <property name="flag" value="false" />
      </node>
    </node>
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1149865914232">
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1149865915190">
        <property name="text" value="$MAP_SRCL$" />
        <property name="attractsFocus" value="1" />
        <link role="actionMap" targetNodeId="1167859493978" resolveInfo="MacroSymbol_Actions" />
        <link role="styleClass" targetNodeId="1215513928924" resolveInfo="macroStart" />
        <node role="menuDescriptor" type="jetbrains.mps.lang.editor.structure.CellMenuDescriptor" id="1185229219830">
          <node role="cellMenuPart" type="jetbrains.mps.lang.editor.structure.CellMenuPart_ReplaceNode_CustomNodeConcept" id="1185229219831">
            <link role="replacementConcept" targetNodeId="1.1087833466690" />
          </node>
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Component" id="1184865693854">
        <link role="editorComponent" targetNodeId="1184864447477" resolveInfo="NodeMacro_postfix" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.CellKeyMapDeclaration" id="1149868357716">
    <property name="everyModel" value="true" />
    <property name="name" value="MacrosSwitch_KeyMap" />
    <node role="item" type="jetbrains.mps.lang.editor.structure.CellKeyMapItem" id="1149868396494">
      <property name="description" value="create template fragmet" />
      <property name="showInPopup" value="true" />
      <node role="keystroke" type="jetbrains.mps.lang.editor.structure.CellKeyMapKeystroke" id="1149868396495">
        <property name="keycode" value="VK_F" />
        <property name="modifiers" value="ctrl+shift" />
      </node>
      <node role="isApplicableFunction" type="jetbrains.mps.lang.editor.structure.CellKeyMap_IsApplicableFunction" id="1149868396496">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1149868396497">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1205866458043">
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205866458044">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1205866458045">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1205866458046">
                  <property name="value" value="false" />
                </node>
              </node>
            </node>
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1205866458047">
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205866458048">
                <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetSizeOperation" id="1205866458049" />
                <node role="operand" type="jetbrains.mps.lang.editor.structure.CellKeyMap_FunctionParm_selectedNodes" id="1205866458050" />
              </node>
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1205866458051">
                <property name="value" value="1" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1205859818006">
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205859818007">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1205859892538">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1205859894541">
                  <property name="value" value="false" />
                </node>
              </node>
            </node>
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1205859888062">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1205859889848" />
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205859852816">
                <node role="operand" type="jetbrains.mps.lang.editor.structure.CellKeyMap_FunctionParm_selectedNode" id="1205863472249" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1205859870414">
                  <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1205859874245">
                    <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1207675648316">
                      <link role="conceptDeclaration" targetNodeId="1.1092059087312" resolveInfo="TemplateDeclaration" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1205863559568">
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205863559569">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1205863624309">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1205863626733">
                  <property name="value" value="false" />
                </node>
              </node>
            </node>
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205863602404">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205863582890">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205863563573">
                  <node role="operand" type="jetbrains.mps.lang.editor.structure.CellKeyMap_FunctionParm_selectedNode" id="1205863562291" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorsOperation" id="1205863578717" />
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.WhereOperationNew" id="1227876803814">
                  <node role="closure" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1227876803815">
                    <node role="parameter" type="jetbrains.mps.baseLanguage.collections.structure.SmartClosureParameterDeclaration" id="1227876803816">
                      <property name="name" value="it" />
                      <node role="type" type="jetbrains.mps.baseLanguage.structure.WildCardType" id="1227876803817" />
                    </node>
                    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227876803818">
                      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227876803819">
                        <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227876803820">
                          <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227876816346">
                            <link role="variableDeclaration" targetNodeId="1227876803816" resolveInfo="it" />
                          </node>
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsAttributeOperation" id="1227876803822" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.IsNotEmptyOperation" id="1205863617773" />
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1205863514519">
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205863514520">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1205863524967">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1205863527502">
                  <property name="value" value="false" />
                </node>
              </node>
            </node>
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1205863520758">
              <link role="baseMethodDeclaration" targetNodeId="1205859565509" resolveInfo="isInsideTemplateFragment" />
              <link role="classConcept" targetNodeId="1205859480204" resolveInfo="QueriesUtil" />
              <node role="actualArgument" type="jetbrains.mps.lang.editor.structure.CellKeyMap_FunctionParm_selectedNode" id="1205863543051" />
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1149868396508">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1205863736456">
              <property name="value" value="true" />
            </node>
          </node>
        </node>
      </node>
      <node role="executeFunction" type="jetbrains.mps.lang.editor.structure.CellKeyMap_ExecuteFunction" id="1149868396512">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1149868396513">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1205864837321">
            <property name="value" value="do not hang &lt;TF&gt; on other attributes" />
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1205863761395">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1205863761396">
              <property name="name" value="applyToNode" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1205863761397" />
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205863815430">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205863788138">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205863775525">
                    <node role="operand" type="jetbrains.mps.lang.editor.structure.CellKeyMap_FunctionParm_selectedNode" id="1205863771633" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorsOperation" id="1205863780277">
                      <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Inclusion" id="1205863786497" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.WhereOperationNew" id="1227876799089">
                    <node role="closure" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1227876799090">
                      <node role="parameter" type="jetbrains.mps.baseLanguage.collections.structure.SmartClosureParameterDeclaration" id="1227876799091">
                        <property name="name" value="it" />
                        <node role="type" type="jetbrains.mps.baseLanguage.structure.WildCardType" id="1227876799092" />
                      </node>
                      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227876799093">
                        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227876799094">
                          <node role="expression" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="1227876799095">
                            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227876799096">
                              <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227876818353">
                                <link role="variableDeclaration" targetNodeId="1227876799091" resolveInfo="it" />
                              </node>
                              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsAttributeOperation" id="1227876799098" />
                            </node>
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetFirstOperation" id="1205863818122" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1205869236934">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1205869242389">
              <link role="baseMethodDeclaration" targetNodeId="1205869137520" resolveInfo="createTemplateFragment" />
              <link role="classConcept" targetNodeId="1205859480204" resolveInfo="QueriesUtil" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1205869244937">
                <link role="variableDeclaration" targetNodeId="1205863761396" resolveInfo="applyToNode" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="item" type="jetbrains.mps.lang.editor.structure.CellKeyMapItem" id="1149868396517">
      <property name="description" value="add node macro" />
      <property name="showInPopup" value="true" />
      <node role="keystroke" type="jetbrains.mps.lang.editor.structure.CellKeyMapKeystroke" id="1149868396518">
        <property name="keycode" value="VK_M" />
        <property name="modifiers" value="ctrl+shift" />
      </node>
      <node role="executeFunction" type="jetbrains.mps.lang.editor.structure.CellKeyMap_ExecuteFunction" id="1149868396523">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1149868396524">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216154334719">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216154334720">
              <property name="name" value="nodeMacro" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216154334721">
                <link role="concept" targetNodeId="1.1087833466690" resolveInfo="NodeMacro" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216154334722">
                <link role="baseMethodDeclaration" targetNodeId="1216154163929" resolveInfo="addNodeMacro" />
                <link role="classConcept" targetNodeId="1205859480204" resolveInfo="QueriesUtil" />
                <node role="actualArgument" type="jetbrains.mps.lang.editor.structure.CellKeyMap_FunctionParm_selectedNode" id="1216154334723" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1205880516683">
            <property name="value" value="set caret" />
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1193051096328">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204753471425">
              <node role="operand" type="jetbrains.mps.lang.editor.structure.ConceptFunctionParameter_editorContext" id="1193051096329" />
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1204753471426">
                <link role="baseMethodDeclaration" targetNodeId="9.~EditorContext.selectAndSetCaret(jetbrains.mps.smodel.SNode,int):void" resolveInfo="selectAndSetCaret" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1205869703280">
                  <link role="variableDeclaration" targetNodeId="1216154334720" resolveInfo="nodeMacro" />
                </node>
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1193051131308">
                  <property name="value" value="1" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="isApplicableFunction" type="jetbrains.mps.lang.editor.structure.CellKeyMap_IsApplicableFunction" id="1205866754254">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205866754255">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1205866787811">
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205866787812">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1205866787813">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1205866787814">
                  <property name="value" value="false" />
                </node>
              </node>
            </node>
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1205866787815">
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205866787816">
                <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetSizeOperation" id="1205866787817" />
                <node role="operand" type="jetbrains.mps.lang.editor.structure.CellKeyMap_FunctionParm_selectedNodes" id="1205866787818" />
              </node>
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1205866787819">
                <property name="value" value="1" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1205866802631">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216146565021">
              <link role="classConcept" targetNodeId="1205859480204" resolveInfo="QueriesUtil" />
              <link role="baseMethodDeclaration" targetNodeId="1216153381242" resolveInfo="isNodeMacroApplicable" />
              <node role="actualArgument" type="jetbrains.mps.lang.editor.structure.CellKeyMap_FunctionParm_selectedNode" id="1216146569522" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="item" type="jetbrains.mps.lang.editor.structure.CellKeyMapItem" id="1149868414143">
      <property name="description" value="add property macro" />
      <property name="showInPopup" value="true" />
      <node role="keystroke" type="jetbrains.mps.lang.editor.structure.CellKeyMapKeystroke" id="1149868414144">
        <property name="keycode" value="VK_M" />
        <property name="modifiers" value="ctrl+shift" />
      </node>
      <node role="isApplicableFunction" type="jetbrains.mps.lang.editor.structure.CellKeyMap_IsApplicableFunction" id="1149868414145">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1149868414146">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1205874717704">
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205874717705">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1205874717706">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1205874717707">
                  <property name="value" value="false" />
                </node>
              </node>
            </node>
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1205874717708">
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205874717709">
                <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetSizeOperation" id="1205874717710" />
                <node role="operand" type="jetbrains.mps.lang.editor.structure.CellKeyMap_FunctionParm_selectedNodes" id="1205874717711" />
              </node>
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1205874717712">
                <property name="value" value="1" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216153973140">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216153977955">
              <link role="baseMethodDeclaration" targetNodeId="1216153654893" resolveInfo="isPropertyMacroApplicable" />
              <link role="classConcept" targetNodeId="1205859480204" resolveInfo="QueriesUtil" />
              <node role="actualArgument" type="jetbrains.mps.lang.editor.structure.CellKeyMap_FunctionParm_selectedNode" id="1216153977956" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216153977957">
                <node role="operand" type="jetbrains.mps.lang.editor.structure.ConceptFunctionParameter_editorContext" id="1216153977958" />
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1216153977959">
                  <link role="baseMethodDeclaration" targetNodeId="9.~EditorContext.getSelectedCell():jetbrains.mps.nodeEditor.cells.EditorCell" resolveInfo="getSelectedCell" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="executeFunction" type="jetbrains.mps.lang.editor.structure.CellKeyMap_ExecuteFunction" id="1149868414163">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1149868414164">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216154483611">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216154483612">
              <property name="name" value="propertyMacro" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216154483613">
                <link role="concept" targetNodeId="1.1087833241328" resolveInfo="PropertyMacro" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216154483614">
                <link role="baseMethodDeclaration" targetNodeId="1216154358068" resolveInfo="addPropertyMacro" />
                <link role="classConcept" targetNodeId="1205859480204" resolveInfo="QueriesUtil" />
                <node role="actualArgument" type="jetbrains.mps.lang.editor.structure.CellKeyMap_FunctionParm_selectedNode" id="1216154483615" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216154483616">
                  <node role="operand" type="jetbrains.mps.lang.editor.structure.ConceptFunctionParameter_editorContext" id="1216154483617" />
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1216154483618">
                    <link role="baseMethodDeclaration" targetNodeId="9.~EditorContext.getSelectedCell():jetbrains.mps.nodeEditor.cells.EditorCell" resolveInfo="getSelectedCell" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1205880501025">
            <property name="value" value="set caret" />
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1193052614472">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204753471260">
              <node role="operand" type="jetbrains.mps.lang.editor.structure.ConceptFunctionParameter_editorContext" id="1193052614473" />
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1204753471261">
                <link role="baseMethodDeclaration" targetNodeId="9.~EditorContext.selectAndSetCaret(jetbrains.mps.smodel.SNode,int):void" resolveInfo="selectAndSetCaret" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1205877358885">
                  <link role="variableDeclaration" targetNodeId="1216154483612" resolveInfo="propertyMacro" />
                </node>
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1193053240610">
                  <property name="value" value="0" />
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1228227110586">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1228227110587">
              <property name="name" value="inspector" />
              <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1228227110588">
                <link role="classifier" targetNodeId="9.~InspectorTool" resolveInfo="InspectorTool" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1228227125998">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1228227121997">
                  <node role="operand" type="jetbrains.mps.lang.editor.structure.ConceptFunctionParameter_editorContext" id="1228227120356" />
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1228227124794">
                    <link role="baseMethodDeclaration" targetNodeId="9.~EditorContext.getOperationContext():jetbrains.mps.smodel.IOperationContext" resolveInfo="getOperationContext" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1228227127533">
                  <link role="baseMethodDeclaration" targetNodeId="10.~IOperationContext.getComponent(java.lang.Class):java.lang.Object" resolveInfo="getComponent" />
                  <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ClassifierClassExpression" id="1228227131674">
                    <link role="classifier" targetNodeId="9.~InspectorTool" resolveInfo="InspectorTool" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.AssertStatement" id="1228227135349">
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1228227140134">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1228227141199" />
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1228227138711">
                <link role="variableDeclaration" targetNodeId="1228227110587" resolveInfo="inspector" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1228227144232">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1228227144687">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1228227144233">
                <link role="variableDeclaration" targetNodeId="1228227110587" resolveInfo="inspector" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1228227188580">
                <link role="baseMethodDeclaration" targetNodeId="77.~BaseTool.openTool(boolean):void" resolveInfo="openTool" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1228227190159">
                  <property name="value" value="true" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="item" type="jetbrains.mps.lang.editor.structure.CellKeyMapItem" id="1149868455481">
      <property name="description" value="add reference macro" />
      <property name="showInPopup" value="true" />
      <node role="keystroke" type="jetbrains.mps.lang.editor.structure.CellKeyMapKeystroke" id="1149868455482">
        <property name="keycode" value="VK_M" />
        <property name="modifiers" value="ctrl+shift" />
      </node>
      <node role="isApplicableFunction" type="jetbrains.mps.lang.editor.structure.CellKeyMap_IsApplicableFunction" id="1149868455483">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1149868455484">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1205878695983">
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205878695984">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1205878695985">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1205878695986">
                  <property name="value" value="false" />
                </node>
              </node>
            </node>
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1205878695987">
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205878695988">
                <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetSizeOperation" id="1205878695989" />
                <node role="operand" type="jetbrains.mps.lang.editor.structure.CellKeyMap_FunctionParm_selectedNodes" id="1205878695990" />
              </node>
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1205878695991">
                <property name="value" value="1" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216154100518">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216154112618">
              <link role="baseMethodDeclaration" targetNodeId="1216154022585" resolveInfo="isReferenceMacroApplicable" />
              <link role="classConcept" targetNodeId="1205859480204" resolveInfo="QueriesUtil" />
              <node role="actualArgument" type="jetbrains.mps.lang.editor.structure.CellKeyMap_FunctionParm_selectedNode" id="1216154115495" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216154121579">
                <node role="operand" type="jetbrains.mps.lang.editor.structure.ConceptFunctionParameter_editorContext" id="1216154120218" />
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1216154123927">
                  <link role="baseMethodDeclaration" targetNodeId="9.~EditorContext.getSelectedCell():jetbrains.mps.nodeEditor.cells.EditorCell" resolveInfo="getSelectedCell" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="executeFunction" type="jetbrains.mps.lang.editor.structure.CellKeyMap_ExecuteFunction" id="1149868455501">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1149868455502">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216154629827">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216154629828">
              <property name="name" value="referenceMacro" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216154629829">
                <link role="concept" targetNodeId="1.1088761943574" resolveInfo="ReferenceMacro" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216154629830">
                <link role="baseMethodDeclaration" targetNodeId="1216154498760" resolveInfo="addReferenceMacro" />
                <link role="classConcept" targetNodeId="1205859480204" resolveInfo="QueriesUtil" />
                <node role="actualArgument" type="jetbrains.mps.lang.editor.structure.CellKeyMap_FunctionParm_selectedNode" id="1216154629831" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216154629832">
                  <node role="operand" type="jetbrains.mps.lang.editor.structure.ConceptFunctionParameter_editorContext" id="1216154629833" />
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1216154629834">
                    <link role="baseMethodDeclaration" targetNodeId="9.~EditorContext.getSelectedCell():jetbrains.mps.nodeEditor.cells.EditorCell" resolveInfo="getSelectedCell" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1205880992249">
            <property name="value" value="set caret" />
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1193052865273">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204753471445">
              <node role="operand" type="jetbrains.mps.lang.editor.structure.ConceptFunctionParameter_editorContext" id="1193052865274" />
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1204753471446">
                <link role="baseMethodDeclaration" targetNodeId="9.~EditorContext.selectAndSetCaret(jetbrains.mps.smodel.SNode,int):void" resolveInfo="selectAndSetCaret" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1193052874598">
                  <link role="variableDeclaration" targetNodeId="1216154629828" resolveInfo="referenceMacro" />
                </node>
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1193052901463">
                  <property name="value" value="2" />
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1228227222771">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1228227222772">
              <property name="name" value="inspector" />
              <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1228227222773">
                <link role="classifier" targetNodeId="9.~InspectorTool" resolveInfo="InspectorTool" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1228227222774">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1228227222775">
                  <node role="operand" type="jetbrains.mps.lang.editor.structure.ConceptFunctionParameter_editorContext" id="1228227222776" />
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1228227222777">
                    <link role="baseMethodDeclaration" targetNodeId="9.~EditorContext.getOperationContext():jetbrains.mps.smodel.IOperationContext" resolveInfo="getOperationContext" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1228227222778">
                  <link role="baseMethodDeclaration" targetNodeId="10.~IOperationContext.getComponent(java.lang.Class):java.lang.Object" resolveInfo="getComponent" />
                  <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ClassifierClassExpression" id="1228227222779">
                    <link role="classifier" targetNodeId="9.~InspectorTool" resolveInfo="InspectorTool" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.AssertStatement" id="1228227222780">
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1228227222781">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1228227222782" />
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1228227222783">
                <link role="variableDeclaration" targetNodeId="1228227222772" resolveInfo="inspector" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1228227222784">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1228227222785">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1228227222786">
                <link role="variableDeclaration" targetNodeId="1228227222772" resolveInfo="inspector" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1228227222787">
                <link role="baseMethodDeclaration" targetNodeId="77.~BaseTool.openTool(boolean):void" resolveInfo="openTool" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1228227222788">
                  <property name="value" value="true" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="item" type="jetbrains.mps.lang.editor.structure.CellKeyMapItem" id="1176304571070">
      <property name="description" value="Navigate to generated query method" />
      <property name="showInPopup" value="true" />
      <node role="keystroke" type="jetbrains.mps.lang.editor.structure.CellKeyMapKeystroke" id="1176304571071">
        <property name="keycode" value="VK_Q" />
        <property name="modifiers" value="ctrl+alt+shift" />
      </node>
      <node role="executeFunction" type="jetbrains.mps.lang.editor.structure.CellKeyMap_ExecuteFunction" id="1176304571072">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1176304571073">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1176304630480">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1176304630481">
              <property name="name" value="fun" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1176304630482" />
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227901862">
                <node role="operand" type="jetbrains.mps.lang.editor.structure.CellKeyMap_FunctionParm_selectedNode" id="1176304638248" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1176304649237">
                  <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1176304651550">
                    <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1207675648318">
                      <link role="conceptDeclaration" targetNodeId="18.1137021947720" resolveInfo="ConceptFunction" />
                    </node>
                  </node>
                  <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Inclusion" id="1198611121507" />
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1176304745877">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1176304748660">
              <link role="baseMethodDeclaration" targetNodeId="63.~GeneratedQueriesOpener.openQueryMethod(jetbrains.mps.smodel.IOperationContext,jetbrains.mps.smodel.SNode):boolean" resolveInfo="openQueryMethod" />
              <link role="classConcept" targetNodeId="63.~GeneratedQueriesOpener" resolveInfo="GeneratedQueriesOpener" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204753470728">
                <node role="operand" type="jetbrains.mps.lang.editor.structure.ConceptFunctionParameter_editorContext" id="1176304757394" />
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1204753470729">
                  <link role="baseMethodDeclaration" targetNodeId="9.~EditorContext.getOperationContext():jetbrains.mps.smodel.IOperationContext" resolveInfo="getOperationContext" />
                </node>
              </node>
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1176304768899">
                <link role="variableDeclaration" targetNodeId="1176304630481" resolveInfo="fun" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="isApplicableFunction" type="jetbrains.mps.lang.editor.structure.CellKeyMap_IsApplicableFunction" id="1176305101355">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1176305101356">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1176305126549">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1176305130520">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1176305132101" />
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227911507">
                <node role="operand" type="jetbrains.mps.lang.editor.structure.CellKeyMap_FunctionParm_selectedNode" id="1176305127923" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1176305127924">
                  <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1176305127925">
                    <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1207675648313">
                      <link role="conceptDeclaration" targetNodeId="18.1137021947720" resolveInfo="ConceptFunction" />
                    </node>
                  </node>
                  <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Inclusion" id="1198611114425" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1167088003562">
    <property name="package" value="rule" />
    <link role="conceptDeclaration" targetNodeId="1.1167087469898" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1167088005388">
      <property name="vertical" value="false" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167088005389">
        <property name="text" value="condition" />
        <link role="styleClass" targetNodeId="1224774992290" resolveInfo="GeneratorKeyWord" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997730">
          <property name="flag" value="true" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1167088028162">
        <property name="noTargetText" value="&lt;always&gt;" />
        <link role="relationDeclaration" targetNodeId="1.1167087469900" />
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167088005391">
        <property name="text" value="--&gt;" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997635">
          <property name="flag" value="true" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1200923573453">
        <property name="vertical" value="false" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1200923573454">
          <link role="relationDeclaration" targetNodeId="1.1200923511980" />
          <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1219349007901">
            <link role="conceptDeclaration" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
            <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1219349013090">
              <property name="readOnly" value="true" />
              <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
              <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1219349022232">
                <property name="color" value="orange" />
              </node>
            </node>
          </node>
          <node role="renderingCondition" type="jetbrains.mps.lang.editor.structure.QueryFunction_NodeCondition" id="1200923573457">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1200923573458">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1200923573459">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1200923573460">
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227915235">
                    <node role="operand" type="jetbrains.mps.lang.editor.structure.ConceptFunctionParameter_node" id="1200923573462" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1200923584998">
                      <link role="link" targetNodeId="1.1200923511980" />
                    </node>
                  </node>
                  <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1200923573464" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200923575700">
          <property name="text" value=":" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996818">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1167088005394">
        <property name="noTargetText" value="&lt;no template&gt;" />
        <link role="relationDeclaration" targetNodeId="1.1167087469901" />
        <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1167088005395">
          <link role="conceptDeclaration" targetNodeId="4.1169194658468" />
          <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1167088005396">
            <property name="noTargetText" value="&lt;no name&gt;" />
            <property name="readOnly" value="true" />
            <link role="relationDeclaration" targetNodeId="4.1169194664001" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.FontStyleStyleClassItem" id="1214314934068">
              <property name="style" value="ITALIC" />
            </node>
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678141">
              <property name="color" value="DARK_BLUE" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="inspectedCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1167518681155">
      <property name="vertical" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167518681156">
        <property name="text" value="conditional root rule" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996365">
          <property name="flag" value="false" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678792">
          <property name="color" value="DARK_BLUE" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407441974">
          <property name="color" value="lightGray" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167518681157">
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994616">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1200923541310">
        <property name="vertical" value="false" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200923541311">
          <property name="text" value="mapping label" />
          <link role="styleClass" targetNodeId="1224774992290" resolveInfo="GeneratorKeyWord" />
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200923541312">
          <property name="text" value=":" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995352">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1219349166542">
          <property name="noTargetText" value="&lt;no label&gt;" />
          <link role="relationDeclaration" targetNodeId="1.1200923511980" />
          <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1219349166543">
            <link role="conceptDeclaration" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
            <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1219349166544">
              <property name="readOnly" value="true" />
              <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
              <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1219349166545">
                <property name="color" value="orange" />
              </node>
            </node>
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993870">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995872">
        <property name="flag" value="false" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1167171627113">
    <property name="package" value="rule" />
    <link role="conceptDeclaration" targetNodeId="1.1167171569011" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1169580472028">
      <property name="vertical" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1169580472029">
        <property name="vertical" value="false" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1169580472030">
          <property name="vertical" value="true" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Component" id="1169580472031">
            <link role="editorComponent" targetNodeId="1167328078404" resolveInfo="BaseMappingRule_premise" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994832">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1169580472033">
          <property name="text" value="--&gt;" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995456">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1200917687309">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1200917687310">
            <link role="relationDeclaration" targetNodeId="1.1200917515464" />
            <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1200917687311">
              <link role="conceptDeclaration" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
              <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1200917687312">
                <property name="readOnly" value="true" />
                <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
                <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407442010">
                  <property name="color" value="orange" />
                </node>
              </node>
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200917884282">
            <property name="text" value=":" />
          </node>
          <node role="renderingCondition" type="jetbrains.mps.lang.editor.structure.QueryFunction_NodeCondition" id="1200917687313">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1200917687314">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1200917687315">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1200917687316">
                  <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1200917687317" />
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227866424">
                    <node role="operand" type="jetbrains.mps.lang.editor.structure.ConceptFunctionParameter_node" id="1200917687320" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1200917687319">
                      <link role="link" targetNodeId="1.1200917515464" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995535">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1169580472045">
          <property name="vertical" value="true" />
          <property name="gridLayout" value="true" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1169580472059">
            <link role="relationDeclaration" targetNodeId="1.1169570368028" />
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1184616402093">
            <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1184616402094">
              <property name="text" value="context" />
              <link role="styleClass" targetNodeId="1224774992290" resolveInfo="GeneratorKeyWord" />
            </node>
            <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195253451315">
              <property name="text" value=":" />
              <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995197">
                <property name="flag" value="false" />
              </node>
              <node role="styleItem" type="jetbrains.mps.lang.editor.structure.LayoutConstraintStyleClassItem" id="1214318685033">
                <property name="layoutConstraint" value="punctuation" />
              </node>
            </node>
            <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1184616402096">
              <property name="noTargetText" value="&lt;no context node&gt;" />
              <link role="relationDeclaration" targetNodeId="1.1184616230853" />
            </node>
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997498">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993844">
            <property name="flag" value="false" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.DrawBracketsStyleClassItem" id="1214313021443">
            <property name="flag" value="true" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.BracketColorStyleClassItem" id="1214330065436">
            <property name="color" value="gray" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996125">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1169580486409">
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.EditableStyleClassItem" id="1214398032138">
          <property name="flag" value="true" />
        </node>
      </node>
    </node>
    <node role="inspectedCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1167517960207">
      <property name="vertical" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167517960208">
        <property name="text" value="weaving rule" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994871">
          <property name="flag" value="false" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678438">
          <property name="color" value="DARK_BLUE" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407441991">
          <property name="color" value="lightGray" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167517960209">
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997994">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1200917658730">
        <property name="vertical" value="false" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200917658731">
          <property name="text" value="mapping label" />
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1200917658732">
          <link role="relationDeclaration" targetNodeId="1.1200917515464" />
          <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1200917658733">
            <link role="conceptDeclaration" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
            <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1200917658734">
              <property name="readOnly" value="true" />
              <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
              <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407441994">
                <property name="color" value="orange" />
              </node>
            </node>
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310998133">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996711">
        <property name="flag" value="false" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.EditorComponentDeclaration" id="1167328078404">
    <property name="name" value="BaseMappingRule_premise" />
    <link role="conceptDeclaration" targetNodeId="1.1167169308231" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1167328170273">
      <property name="vertical" value="true" />
      <property name="gridLayout" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1169494942757">
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1169494942758">
          <property name="text" value="concept" />
          <link role="styleClass" targetNodeId="1224774992290" resolveInfo="GeneratorKeyWord" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997407">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1169494942759">
          <property name="attractsFocus" value="2" />
          <property name="noTargetText" value="&lt;choose applicable concept&gt;" />
          <link role="relationDeclaration" targetNodeId="1.1167169349424" />
          <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1169494942760">
            <link role="conceptDeclaration" targetNodeId="6.1169125787135" />
            <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1169494942761">
              <property name="attractsFocus" value="0" />
              <property name="readOnly" value="true" />
              <link role="relationDeclaration" targetNodeId="4.1169194664001" />
              <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678658">
                <property name="color" value="DARK_MAGENTA" />
              </node>
            </node>
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996844">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1169494942762">
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1169494942763">
          <property name="text" value="inheritors" />
          <link role="styleClass" targetNodeId="1224774992290" resolveInfo="GeneratorKeyWord" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995192">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1169494942764">
          <link role="relationDeclaration" targetNodeId="1.1167272244852" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994195">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1169494942774">
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1169494942775">
          <property name="text" value="condition" />
          <link role="styleClass" targetNodeId="1224774992290" resolveInfo="GeneratorKeyWord" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995030">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1169494942776">
          <property name="noTargetText" value="&lt;always&gt;" />
          <link role="relationDeclaration" targetNodeId="1.1167169362365" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996793">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995105">
        <property name="flag" value="false" />
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.DrawBracketsStyleClassItem" id="1214313021445">
        <property name="flag" value="true" />
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.BracketColorStyleClassItem" id="1214330065433">
        <property name="color" value="gray" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1167328252970">
    <property name="package" value="rule" />
    <link role="conceptDeclaration" targetNodeId="1.1167327847730" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1169672948371">
      <property name="vertical" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1169672948372">
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1169672948373">
          <property name="vertical" value="true" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Component" id="1169672948374">
            <link role="editorComponent" targetNodeId="1167328078404" resolveInfo="BaseMappingRule_premise" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994974">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1169672948376">
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1169672948377">
            <property name="text" value="--&gt;" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995953">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1200917576895">
            <property name="vertical" value="false" />
            <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1200917586647">
              <link role="relationDeclaration" targetNodeId="1.1200917515464" />
              <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1200917586648">
                <link role="conceptDeclaration" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
                <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1200917586649">
                  <property name="readOnly" value="true" />
                  <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
                  <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407442078">
                    <property name="color" value="orange" />
                  </node>
                </node>
              </node>
            </node>
            <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200917873343">
              <property name="text" value=":" />
            </node>
            <node role="renderingCondition" type="jetbrains.mps.lang.editor.structure.QueryFunction_NodeCondition" id="1200917610586">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1200917610587">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1200917614979">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1200917617969">
                    <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1200917620566" />
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227920283">
                      <node role="operand" type="jetbrains.mps.lang.editor.structure.ConceptFunctionParameter_node" id="1200917614980" />
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1200917617202">
                        <link role="link" targetNodeId="1.1200917515464" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997017">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1169672948403">
            <link role="relationDeclaration" targetNodeId="1.1169672767469" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310998022">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1169672948404">
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995475">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995955">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1169672961188">
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.EditableStyleClassItem" id="1214398032062">
          <property name="flag" value="true" />
        </node>
      </node>
    </node>
    <node role="inspectedCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1167518270805">
      <property name="vertical" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167518270806">
        <property name="text" value="reduction rule" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996723">
          <property name="flag" value="false" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678541">
          <property name="color" value="DARK_BLUE" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407441901">
          <property name="color" value="lightGray" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167518270807">
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994301">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1200917554260">
        <property name="vertical" value="false" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200917555184">
          <property name="text" value="mapping label" />
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1200917562296">
          <link role="relationDeclaration" targetNodeId="1.1200917515464" />
          <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1200917562297">
            <link role="conceptDeclaration" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
            <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1200917563252">
              <property name="readOnly" value="true" />
              <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
              <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407441943">
                <property name="color" value="orange" />
              </node>
            </node>
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996163">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995462">
        <property name="flag" value="false" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1167514442227">
    <property name="package" value="rule" />
    <link role="conceptDeclaration" targetNodeId="1.1167514355419" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1167514444706">
      <property name="vertical" value="false" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1167514444707">
        <property name="vertical" value="true" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1177959016740">
          <property name="vertical" value="true" />
          <property name="gridLayout" value="true" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1177959016741">
            <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1177959016742">
              <property name="text" value="concept" />
              <link role="styleClass" targetNodeId="1224774992290" resolveInfo="GeneratorKeyWord" />
              <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996014">
                <property name="flag" value="false" />
              </node>
            </node>
            <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1177959016743">
              <property name="attractsFocus" value="2" />
              <property name="noTargetText" value="&lt;choose applicable concept&gt;" />
              <link role="relationDeclaration" targetNodeId="1.1167169349424" />
              <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1177959016744">
                <link role="conceptDeclaration" targetNodeId="6.1169125787135" />
                <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1177959016745">
                  <property name="attractsFocus" value="0" />
                  <property name="readOnly" value="true" />
                  <link role="relationDeclaration" targetNodeId="4.1169194664001" />
                  <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678201">
                    <property name="color" value="DARK_MAGENTA" />
                  </node>
                </node>
              </node>
            </node>
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994560">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1177959016746">
            <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1177959016747">
              <property name="text" value="inheritors" />
              <link role="styleClass" targetNodeId="1224774992290" resolveInfo="GeneratorKeyWord" />
              <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995478">
                <property name="flag" value="false" />
              </node>
            </node>
            <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1177959016748">
              <link role="relationDeclaration" targetNodeId="1.1167272244852" />
            </node>
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996510">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1177959016749">
            <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1177959016750">
              <property name="text" value="condition" />
              <link role="styleClass" targetNodeId="1224774992290" resolveInfo="GeneratorKeyWord" />
              <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1217438719645" />
            </node>
            <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1177959016751">
              <property name="noTargetText" value="&lt;always&gt;" />
              <link role="relationDeclaration" targetNodeId="1.1167169362365" />
            </node>
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996507">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1177959050711">
            <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1177959050712">
              <property name="text" value="keep input root" />
              <link role="styleClass" targetNodeId="1224774992290" resolveInfo="GeneratorKeyWord" />
              <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1217438728912" />
            </node>
            <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1177959058949">
              <link role="relationDeclaration" targetNodeId="1.1177959072138" />
            </node>
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994184">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310998160">
            <property name="flag" value="false" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.DrawBracketsStyleClassItem" id="1214313021454">
            <property name="flag" value="true" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.BracketColorStyleClassItem" id="1214330065409">
            <property name="color" value="gray" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167514444709">
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.EditableStyleClassItem" id="1214398031926">
            <property name="flag" value="true" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310998009">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167514444710">
        <property name="text" value="--&gt;" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995838">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1200917674374">
        <property name="vertical" value="false" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1200917674375">
          <link role="relationDeclaration" targetNodeId="1.1200917515464" />
          <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1200917674376">
            <link role="conceptDeclaration" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
            <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1200917674377">
              <property name="readOnly" value="true" />
              <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
              <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407442098">
                <property name="color" value="orange" />
              </node>
            </node>
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200917860731">
          <property name="text" value=":" />
        </node>
        <node role="renderingCondition" type="jetbrains.mps.lang.editor.structure.QueryFunction_NodeCondition" id="1200917674378">
          <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1200917674379">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1200917674380">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1200917674381">
                <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1200917674382" />
                <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227921299">
                  <node role="operand" type="jetbrains.mps.lang.editor.structure.ConceptFunctionParameter_node" id="1200917674385" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1200917674384">
                    <link role="link" targetNodeId="1.1200917515464" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993803">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1167514444711">
        <property name="noTargetText" value="&lt;no template&gt;" />
        <link role="relationDeclaration" targetNodeId="1.1167514355421" />
        <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1167514444712">
          <link role="conceptDeclaration" targetNodeId="4.1169194658468" />
          <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1167514444713">
            <property name="noTargetText" value="&lt;no name&gt;" />
            <property name="readOnly" value="true" />
            <link role="relationDeclaration" targetNodeId="4.1169194664001" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.FontStyleStyleClassItem" id="1214314934352">
              <property name="style" value="ITALIC" />
            </node>
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399677853">
              <property name="color" value="DARK_BLUE" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="inspectedCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1167516839695">
      <property name="vertical" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167516845603">
        <property name="text" value="root mapping rule" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994209">
          <property name="flag" value="false" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678586">
          <property name="color" value="DARK_BLUE" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407441998">
          <property name="color" value="lightGray" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1167516860073">
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995103">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1200917653631">
        <property name="vertical" value="false" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200917653632">
          <property name="text" value="mapping label" />
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1200917653633">
          <link role="relationDeclaration" targetNodeId="1.1200917515464" />
          <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1200917653634">
            <link role="conceptDeclaration" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
            <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1200917653635">
              <property name="readOnly" value="true" />
              <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
              <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407441963">
                <property name="color" value="orange" />
              </node>
            </node>
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994047">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994389">
        <property name="flag" value="false" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.CellActionMapDeclaration" id="1167859493978">
    <property name="name" value="MacroSymbol_Actions" />
    <node role="item" type="jetbrains.mps.lang.editor.structure.CellActionMapItem" id="1167860279572">
      <property name="description" value="delete macro node" />
      <property name="actionId" value="delete_action_id" />
      <node role="executeFunction" type="jetbrains.mps.lang.editor.structure.CellActionMap_ExecuteFunction" id="1167860279573">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1167860279574">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1167860339427">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227884202">
              <node role="operand" type="jetbrains.mps.lang.editor.structure.CellActionMap_FunctionParm_selectedNode" id="1167860339428" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_DeleteOperation" id="1167860343774" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1168559286756">
    <property name="package" value="rule.consequence" />
    <link role="conceptDeclaration" targetNodeId="1.1168559098955" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Error" id="1168559289383">
      <property name="text" value="choose consequence" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1168559415840">
    <property name="package" value="rule.consequence" />
    <link role="conceptDeclaration" targetNodeId="1.1168559333462" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1168559420280">
      <property name="noTargetText" value="&lt;choose template&gt;" />
      <link role="relationDeclaration" targetNodeId="1.1168559393589" />
      <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1168559420281">
        <link role="conceptDeclaration" targetNodeId="1.1092059087312" />
        <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1168559425423">
          <property name="readOnly" value="true" />
          <link role="relationDeclaration" targetNodeId="4.1169194664001" />
          <link role="styleClass" targetNodeId="1194566785068" resolveInfo="reference" />
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1168559735661">
    <property name="package" value="rule.consequence" />
    <link role="conceptDeclaration" targetNodeId="1.1168559512253" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1169670446867">
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1169670468666">
        <property name="text" value="DISMISS TOP RULE" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678431">
          <property name="color" value="DARK_BLUE" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1169670501887">
        <property name="noTargetText" value="&lt;no message&gt;" />
        <link role="relationDeclaration" targetNodeId="1.1169669152123" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1168619539479">
    <property name="package" value="annotation" />
    <link role="conceptDeclaration" targetNodeId="1.1168619357332" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1168619666865">
      <property name="vertical" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1168625644510">
        <property name="vertical" value="true" />
        <link role="actionMap" targetNodeId="1167859493978" resolveInfo="MacroSymbol_Actions" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168625651362">
          <property name="text" value="root template" />
          <link role="styleClass" targetNodeId="1224774992290" resolveInfo="GeneratorKeyWord" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994477">
            <property name="flag" value="true" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1168625644511">
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168625644512">
            <property name="text" value="input" />
            <link role="styleClass" targetNodeId="1224774992290" resolveInfo="GeneratorKeyWord" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996810">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1168625644513">
            <property name="noTargetText" value="&lt;unspecified&gt;" />
            <link role="relationDeclaration" targetNodeId="1.1168619429071" />
            <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1168625644514">
              <link role="conceptDeclaration" targetNodeId="6.1169125787135" />
              <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1168625644515">
                <property name="readOnly" value="true" />
                <link role="relationDeclaration" targetNodeId="4.1169194664001" />
                <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678026">
                  <property name="color" value="DARK_MAGENTA" />
                </node>
              </node>
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997576">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168625659015">
          <property name="name" value="separator" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997931">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1168625659016">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168625659017">
            <property name="text" value="Ctrl-Shift-M" />
            <property name="name" value="help1" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407441879">
              <property name="color" value="orange" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168625659018">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993691">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168625659019">
            <property name="text" value="create macro" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995513">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1168625659020">
          <property name="name" value="separator" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995489">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997265">
          <property name="flag" value="true" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.DrawBracketsStyleClassItem" id="1214313021446">
          <property name="flag" value="true" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.BracketColorStyleClassItem" id="1214330065413">
          <property name="color" value="lightGray" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_AttributedNodeCell" id="1168619837004" />
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995839">
        <property name="flag" value="false" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.CellKeyMapDeclaration" id="1168620373595">
    <property name="everyModel" value="true" />
    <property name="name" value="RootTemplateAnnotation_KeyMap" />
    <node role="item" type="jetbrains.mps.lang.editor.structure.CellKeyMapItem" id="1168620555235">
      <property name="description" value="add root template annotation" />
      <property name="showInPopup" value="true" />
      <node role="keystroke" type="jetbrains.mps.lang.editor.structure.CellKeyMapKeystroke" id="1168620555236">
        <property name="keycode" value="VK_H" />
        <property name="modifiers" value="ctrl+shift" />
      </node>
      <node role="executeFunction" type="jetbrains.mps.lang.editor.structure.CellKeyMap_ExecuteFunction" id="1168620555237">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1168620555238">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1168622580789">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205883177421">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205883170386">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205883535819">
                  <node role="operand" type="jetbrains.mps.lang.editor.structure.CellKeyMap_FunctionParm_selectedNode" id="1205883169197" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetContainingRootOperation" id="1205883539586" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.AttributeAccessOperation" id="1205883171591">
                  <node role="attributeQualifier" type="jetbrains.mps.lang.smodel.structure.NodeAttributeAccessQualifier" id="1205883175576">
                    <link role="annotationLink" targetNodeId="1.1168619445822" resolveInfo="rootTemplateAnnotation" />
                  </node>
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Link_SetNewChildOperation" id="1205883187814" />
            </node>
          </node>
        </node>
      </node>
      <node role="isApplicableFunction" type="jetbrains.mps.lang.editor.structure.CellKeyMap_IsApplicableFunction" id="1168622085218">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1168622085219">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1205882872205">
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205882872206">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1205882896626">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1205882904034">
                  <property name="value" value="false" />
                </node>
              </node>
            </node>
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1205882892870">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1205882894749">
                <property name="value" value="1" />
              </node>
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205882886350">
                <node role="operand" type="jetbrains.mps.lang.editor.structure.CellKeyMap_FunctionParm_selectedNodes" id="1205882883787" />
                <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetSizeOperation" id="1205882888055" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1205883506608">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1205883506609">
              <property name="name" value="applyToNode" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1205883506610" />
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205883506611">
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetContainingRootOperation" id="1205883506612" />
                <node role="operand" type="jetbrains.mps.lang.editor.structure.CellKeyMap_FunctionParm_selectedNode" id="1205883506613" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1205883003793">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1205883003794">
              <property name="name" value="language" />
              <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1205883003795">
                <link role="classifier" targetNodeId="10.~Language" resolveInfo="Language" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205883003796">
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1205883003797">
                  <link role="baseMethodDeclaration" targetNodeId="10.~SNode.getNodeLanguage():jetbrains.mps.smodel.Language" resolveInfo="getNodeLanguage" />
                </node>
                <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1205883003798">
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1205883518379">
                    <link role="variableDeclaration" targetNodeId="1205883506609" resolveInfo="applyToNode" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1205883007582">
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205883007583">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1205883090295">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1205883092156">
                  <property name="value" value="false" />
                </node>
              </node>
            </node>
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1205883087540">
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1205883087541">
                <link role="variableDeclaration" targetNodeId="1205883003794" resolveInfo="language" />
              </node>
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1225107825054">
                <link role="baseMethodDeclaration" targetNodeId="76.~Generator_Language.get():jetbrains.mps.smodel.Language" resolveInfo="get" />
                <link role="classConcept" targetNodeId="76.~Generator_Language" resolveInfo="Generator_Language" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1168622142763">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1205883131990">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1205883135040" />
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205883102799">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1205883525927">
                  <link role="variableDeclaration" targetNodeId="1205883506609" resolveInfo="applyToNode" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.AttributeAccessOperation" id="1205883118379">
                  <node role="attributeQualifier" type="jetbrains.mps.lang.smodel.structure.NodeAttributeAccessQualifier" id="1205883123427">
                    <link role="annotationLink" targetNodeId="1.1168619445822" resolveInfo="rootTemplateAnnotation" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1169570088021">
    <property name="package" value="rule.consequence" />
    <link role="conceptDeclaration" targetNodeId="1.1169569792945" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1169570092914">
      <property name="vertical" value="true" />
      <property name="gridLayout" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195252240599">
        <property name="vertical" value="false" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195252240600">
          <property name="text" value="foreach" />
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195252327837">
          <property name="text" value=":" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995518">
            <property name="flag" value="false" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.LayoutConstraintStyleClassItem" id="1214318685016">
            <property name="layoutConstraint" value="punctuation" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1195252250461">
          <property name="noTargetText" value="&lt;none&gt;" />
          <link role="relationDeclaration" targetNodeId="1.1169569939267" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995232">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195252271352">
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195252271353">
          <property name="text" value="apply" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996756">
            <property name="flag" value="true" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195252333494">
          <property name="text" value=":" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994231">
            <property name="flag" value="false" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.LayoutConstraintStyleClassItem" id="1214318685054">
            <property name="layoutConstraint" value="punctuation" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1195252271355">
          <property name="noTargetText" value="&lt;choose template&gt;" />
          <link role="relationDeclaration" targetNodeId="1.1169569853122" />
          <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1195252271356">
            <link role="conceptDeclaration" targetNodeId="1.1092059087312" resolveInfo="TemplateDeclaration" />
            <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1195252271357">
              <property name="readOnly" value="true" />
              <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
              <link role="styleClass" targetNodeId="1194566785068" resolveInfo="reference" />
            </node>
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994975">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195252758277">
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995077">
          <property name="flag" value="false" />
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1169670569544">
    <property name="package" value="rule.consequence" />
    <link role="conceptDeclaration" targetNodeId="1.1169670156577" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1169670581344">
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1169670587361">
        <link role="relationDeclaration" targetNodeId="1.1169670356567" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.FontStyleStyleClassItem" id="1214314934314">
          <property name="style" value="BOLD" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678331">
          <property name="color" value="DARK_MAGENTA" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1169670599832">
        <property name="text" value=":" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997791">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1169670607428">
        <property name="noTargetText" value="&lt;no text&gt;" />
        <link role="relationDeclaration" targetNodeId="1.1169670173015" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399677899">
          <property name="color" value="DARK_GREEN" />
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1177093677607">
    <property name="package" value="rule.consequence" />
    <link role="conceptDeclaration" targetNodeId="1.1177093525992" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1177093682624">
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1177093687720">
        <property name="text" value="&lt;T " />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407441882">
          <property name="color" value="pink" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorSelectedStyleClassItem" id="1214407442105">
          <property name="color" value="magenta" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1177093748944">
        <link role="relationDeclaration" targetNodeId="1.1177093586806" />
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1177093729598">
        <property name="text" value=" T&gt;" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407442070">
          <property name="color" value="pink" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorSelectedStyleClassItem" id="1214407442186">
          <property name="color" value="magenta" />
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.EditorComponentDeclaration" id="1184214289430">
    <property name="name" value="CopyScrNodeMacro_inspector" />
    <link role="conceptDeclaration" targetNodeId="1.1114706874351" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1184214419028">
      <property name="vertical" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1184214419029">
        <property name="text" value="copy/reduce node macro" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997439">
          <property name="flag" value="false" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678300">
          <property name="color" value="DARK_BLUE" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407441968">
          <property name="color" value="lightGray" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1184214419030">
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310998016">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1184214419031">
        <property name="vertical" value="true" />
        <property name="gridLayout" value="true" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1200912238248">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200912239094">
            <property name="text" value="mapping label" />
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200912242768">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993738">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1200912246505">
            <property name="noTargetText" value="&lt;no label&gt;" />
            <link role="relationDeclaration" targetNodeId="1.1200912223215" />
            <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1200912246506">
              <link role="conceptDeclaration" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
              <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1200912247570">
                <property name="readOnly" value="true" />
                <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
                <link role="styleClass" targetNodeId="1216755869996" resolveInfo="mappingLabelReference" />
              </node>
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994676">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1184214419057">
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1184214419058">
            <property name="text" value="mapped node" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994559">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1184214419059">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994260">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1184214419060">
            <property name="noTargetText" value="&lt;none&gt;" />
            <property name="attractsFocus" value="2" />
            <link role="relationDeclaration" targetNodeId="1.1168024447342" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994680">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996715">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994664">
        <property name="flag" value="false" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.EditorComponentDeclaration" id="1184864447477">
    <property name="name" value="NodeMacro_postfix" />
    <link role="conceptDeclaration" targetNodeId="1.1087833466690" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1184865301579">
      <property name="vertical" value="false" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1184865302330">
        <property name="vertical" value="false" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1184865302331">
          <property name="text" value="bad role:" />
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_ReadOnlyModelAccessor" id="1226062535455">
          <node role="modelAccessor" type="jetbrains.mps.lang.editor.structure.ReadOnlyModelAccessor" id="1226062535456">
            <node role="getter" type="jetbrains.mps.lang.editor.structure.QueryFunction_ModelAccess_Getter" id="1226062535457">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1226062535458">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1226062535459">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1226062535460">
                    <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1226062535461">
                      <node role="leftExpression" type="jetbrains.mps.lang.editor.structure.ConceptFunctionParameter_node" id="1226062535462" />
                    </node>
                    <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1226062535463">
                      <link role="baseMethodDeclaration" targetNodeId="10.~SNode.getRole_():java.lang.String" resolveInfo="getRole_" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="modelAcessor" type="jetbrains.mps.lang.editor.structure.ModelAccessor" id="1226062535464">
            <node role="getter" type="jetbrains.mps.lang.editor.structure.QueryFunction_ModelAccess_Getter" id="1226062535465">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1226062535466" />
            </node>
            <node role="setter" type="jetbrains.mps.lang.editor.structure.QueryFunction_ModelAccess_Setter" id="1226062535467">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1226062535468" />
            </node>
            <node role="validator" type="jetbrains.mps.lang.editor.structure.QueryFunction_ModelAccess_Validator" id="1226062535469">
              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1226062535470" />
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1226321035334">
            <property name="color" value="red" />
          </node>
        </node>
        <node role="renderingCondition" type="jetbrains.mps.lang.editor.structure.QueryFunction_NodeCondition" id="1184865302346">
          <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184865302347">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1184865302348">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1184865302349">
                <property name="name" value="actualRole" />
                <node role="type" type="jetbrains.mps.baseLanguage.structure.StringType" id="1225191974874" />
                <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204753470777">
                  <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1184865302352">
                    <node role="leftExpression" type="jetbrains.mps.lang.editor.structure.ConceptFunctionParameter_node" id="1184865302353" />
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1204753470778">
                    <link role="baseMethodDeclaration" targetNodeId="10.~SNode.getRole_():java.lang.String" resolveInfo="getRole_" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1184865302354">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1184865302355">
                <property name="name" value="expectedRole" />
                <node role="type" type="jetbrains.mps.baseLanguage.structure.StringType" id="1225191970308" />
                <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1184865302357">
                  <link role="baseMethodDeclaration" targetNodeId="10.~AttributesRolesUtil.childRoleFromAttributeRole(java.lang.String):java.lang.String" resolveInfo="childRoleFromAttributeRole" />
                  <link role="classConcept" targetNodeId="10.~AttributesRolesUtil" resolveInfo="AttributesRolesUtil" />
                  <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.StaticFieldReference" id="1184865302358">
                    <link role="classifier" targetNodeId="76.~NodeMacro_AnnotationLink" resolveInfo="NodeMacro_AnnotationLink" />
                    <link role="variableDeclaration" targetNodeId="76.~NodeMacro_AnnotationLink.NODE_MACRO" resolveInfo="NODE_MACRO" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1184865302359">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="1184865302360">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204753470773">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184865302362">
                    <link role="variableDeclaration" targetNodeId="1184865302349" resolveInfo="actualRole" />
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1204753470774">
                    <link role="baseMethodDeclaration" targetNodeId="65.~String.equals(java.lang.Object):boolean" resolveInfo="equals" />
                    <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184865302363">
                      <link role="variableDeclaration" targetNodeId="1184865302355" resolveInfo="expectedRole" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1200912672389">
        <link role="relationDeclaration" targetNodeId="1.1200912223215" />
        <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1200912672390">
          <link role="conceptDeclaration" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
          <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1200912674689">
            <property name="readOnly" value="true" />
            <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407441973">
              <property name="color" value="orange" />
            </node>
          </node>
        </node>
        <node role="renderingCondition" type="jetbrains.mps.lang.editor.structure.QueryFunction_NodeCondition" id="1200912701981">
          <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1200912701982">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1200912703530">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1200912706443">
                <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1200912708196" />
                <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227921974">
                  <node role="operand" type="jetbrains.mps.lang.editor.structure.ConceptFunctionParameter_node" id="1200912703531" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1200912705926">
                    <link role="link" targetNodeId="1.1200912223215" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_AttributedNodeCell" id="1184865331991">
        <link role="styleClass" targetNodeId="1215514347972" resolveInfo="nodeUnderMacro" />
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993661">
        <property name="flag" value="false" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1194566459517">
    <property name="package" value="macro" />
    <link role="conceptDeclaration" targetNodeId="1.1194565793557" resolveInfo="IncludeMacro" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1194566483566">
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1194566483567">
        <property name="text" value="$INCLUDE$" />
        <property name="attractsFocus" value="1" />
        <link role="actionMap" targetNodeId="1167859493978" resolveInfo="MacroSymbol_Actions" />
        <link role="styleClass" targetNodeId="1215513928924" resolveInfo="macroStart" />
        <node role="menuDescriptor" type="jetbrains.mps.lang.editor.structure.CellMenuDescriptor" id="1194566483568">
          <node role="cellMenuPart" type="jetbrains.mps.lang.editor.structure.CellMenuPart_ReplaceNode_CustomNodeConcept" id="1194566483569">
            <link role="replacementConcept" targetNodeId="1.1087833466690" resolveInfo="NodeMacro" />
          </node>
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Component" id="1194566483585">
        <link role="editorComponent" targetNodeId="1184864447477" resolveInfo="NodeMacro_postfix" />
      </node>
    </node>
    <node role="inspectedCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1194566535681">
      <property name="vertical" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1194566535682">
        <property name="text" value="include-macro" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996743">
          <property name="flag" value="false" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678277">
          <property name="color" value="DARK_BLUE" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407441934">
          <property name="color" value="lightGray" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1194566535683">
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997852">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1194566535684">
        <property name="vertical" value="true" />
        <property name="gridLayout" value="true" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1200912281133">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200912281134">
            <property name="text" value="mapping label" />
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200912281135">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997239">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1200912281136">
            <property name="noTargetText" value="&lt;no label&gt;" />
            <link role="relationDeclaration" targetNodeId="1.1200912223215" />
            <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1200912281137">
              <link role="conceptDeclaration" targetNodeId="1.1200911316486" resolveInfo="MappingLabelDeclaration" />
              <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1200912281138">
                <property name="readOnly" value="true" />
                <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
                <link role="styleClass" targetNodeId="1216755869996" resolveInfo="mappingLabelReference" />
              </node>
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997870">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1194566535726">
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1194566535727">
            <property name="text" value="mapped node" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995865">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1194566535728">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995679">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1194566535729">
            <property name="noTargetText" value="&lt;current source node&gt;" />
            <link role="relationDeclaration" targetNodeId="1.1194565823413" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996472">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1194566535730">
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997996">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1194566535731">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1194566535732">
            <property name="text" value="include template" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995009">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1194566535733">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995202">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1194566535734">
            <property name="noTargetText" value="&lt;choose template&gt;" />
            <link role="relationDeclaration" targetNodeId="1.1194566366375" />
            <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1194566535735">
              <link role="conceptDeclaration" targetNodeId="1.1092059087312" resolveInfo="TemplateDeclaration" />
              <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1194566535736">
                <property name="noTargetText" value="&lt;no name&gt;" />
                <property name="readOnly" value="true" />
                <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
                <link role="styleClass" targetNodeId="1194566785068" resolveInfo="reference" />
              </node>
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997951">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994372">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995751">
        <property name="flag" value="false" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.StyleSheet" id="1194566703393">
    <property name="name" value="Styles" />
    <node role="styleClass" type="jetbrains.mps.lang.editor.structure.StyleSheetClass" id="1224774992290">
      <property name="name" value="GeneratorKeyWord" />
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1224775005191">
        <property name="color" value="darkGray" />
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.FontStyleStyleClassItem" id="1224775024480">
        <property name="style" value="BOLD" />
      </node>
    </node>
    <node role="styleClass" type="jetbrains.mps.lang.editor.structure.StyleSheetClass" id="1194566785068">
      <property name="name" value="reference" />
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1194566983414">
        <property name="color" value="DARK_BLUE" />
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.FontStyleStyleClassItem" id="1194567002745">
        <property name="style" value="ITALIC" />
      </node>
    </node>
    <node role="styleClass" type="jetbrains.mps.lang.editor.structure.StyleSheetClass" id="1195595824868">
      <property name="name" value="constant" />
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1195595847744">
        <property name="color" value="DARK_MAGENTA" />
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.FontStyleStyleClassItem" id="1195595857606">
        <property name="style" value="BOLD" />
      </node>
    </node>
    <node role="styleClass" type="jetbrains.mps.lang.editor.structure.StyleSheetClass" id="1198104170947">
      <property name="name" value="literal" />
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1198104178995">
        <property name="color" value="DARK_BLUE" />
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.FontStyleStyleClassItem" id="1198104178996">
        <property name="style" value="BOLD" />
      </node>
    </node>
    <node role="styleClass" type="jetbrains.mps.lang.editor.structure.StyleSheetClass" id="1215513928924">
      <property name="name" value="macroStart" />
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.FontStyleStyleClassItem" id="1215513943475">
        <property name="style" value="BOLD_ITALIC" />
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1215513961587">
        <property name="color" value="DARK_BLUE" />
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.EditableStyleClassItem" id="1215513963619">
        <property name="flag" value="true" />
      </node>
    </node>
    <node role="styleClass" type="jetbrains.mps.lang.editor.structure.StyleSheetClass" id="1215514347972">
      <property name="name" value="nodeUnderMacro" />
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.DrawBracketsStyleClassItem" id="1215514369126">
        <property name="flag" value="true" />
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.BracketColorStyleClassItem" id="1215516491316">
        <property name="color" value="LIGHT_BLUE" />
      </node>
    </node>
    <node role="styleClass" type="jetbrains.mps.lang.editor.structure.StyleSheetClass" id="1216755869996">
      <property name="name" value="mappingLabelReference" />
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1216755908559">
        <property name="color" value="orange" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1195158756338">
    <property name="package" value="rule.consequence" />
    <link role="conceptDeclaration" targetNodeId="1.1195158388553" resolveInfo="InlineSwitch_Case" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195158790422">
      <property name="vertical" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195158790423">
        <property name="vertical" value="false" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195242493134">
          <property name="text" value="case:" />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995805">
            <property name="flag" value="true" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1195158856240">
          <link role="relationDeclaration" targetNodeId="1.1195158608805" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997519">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195242469583">
        <property name="vertical" value="false" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195243496625">
          <property name="text" value="  " />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997452">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1195242469586">
          <link role="relationDeclaration" targetNodeId="1.1195158637244" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310995028">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195158800051" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1195158926900">
    <property name="package" value="rule.consequence" />
    <link role="conceptDeclaration" targetNodeId="1.1195158154974" resolveInfo="InlineSwitch_RuleConsequence" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195158950699">
      <property name="vertical" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNodeList" id="1195242097517">
        <property name="vertical" value="true" />
        <property name="gridLayout" value="true" />
        <link role="relationDeclaration" targetNodeId="1.1195158408710" />
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195242125115">
        <property name="text" value="default:" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994935">
          <property name="flag" value="true" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195158996813">
        <property name="vertical" value="false" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195242154631">
          <property name="text" value="  " />
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994679">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1195159014565">
          <link role="relationDeclaration" targetNodeId="1.1195158241124" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997335">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.DrawBracketsStyleClassItem" id="1214313021475">
        <property name="flag" value="true" />
      </node>
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.BracketColorStyleClassItem" id="1214330065410">
        <property name="color" value="gray" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1195501142572">
    <property name="package" value="script" />
    <link role="conceptDeclaration" targetNodeId="1.1195499912406" resolveInfo="MappingScript" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195501168018">
      <property name="vertical" value="true" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195501175723">
        <property name="vertical" value="false" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195501190865">
          <property name="text" value="mapping script" />
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1195501209836">
          <property name="noTargetText" value="&lt;no name&gt;" />
          <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310993687">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195501234838">
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996710">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195595700766">
        <property name="vertical" value="true" />
        <property name="gridLayout" value="true" />
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195595713705">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195595730145">
            <property name="text" value="script kind" />
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195595775631">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310997378">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1195595788914">
            <link role="relationDeclaration" targetNodeId="1.1195595592106" resolveInfo="scriptKind" />
            <link role="styleClass" targetNodeId="1195595824868" resolveInfo="constant" />
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994214">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1195595895701">
          <property name="vertical" value="false" />
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195595895702">
            <property name="text" value="modifies model" />
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195595895703">
            <property name="text" value=":" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996883">
              <property name="flag" value="false" />
            </node>
          </node>
          <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1195595895704">
            <link role="styleClass" targetNodeId="1195595824868" resolveInfo="constant" />
            <link role="relationDeclaration" targetNodeId="1.1195595611951" resolveInfo="readOnly" />
          </node>
          <node role="renderingCondition" type="jetbrains.mps.lang.editor.structure.QueryFunction_NodeCondition" id="1195595990346">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1195595990347">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1195595996457">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227916645">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227899583">
                    <node role="operand" type="jetbrains.mps.lang.editor.structure.ConceptFunctionParameter_node" id="1195595996458" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1195596003384">
                      <link role="property" targetNodeId="1.1195595592106" resolveInfo="scriptKind" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Property_HasValue_Enum" id="1195596008888">
                    <node role="value" type="jetbrains.mps.lang.smodel.structure.EnumMemberReference" id="1195596008889">
                      <link role="enumMember" targetNodeId="1.1195595264962" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310998180">
            <property name="flag" value="false" />
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310994737">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1195596617569">
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1214310996887">
          <property name="flag" value="false" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1195501248700">
        <link role="relationDeclaration" targetNodeId="1.1195501105008" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1195502189033">
    <property name="package" value="script" />
    <link role="conceptDeclaration" targetNodeId="1.1195502151594" resolveInfo="MappingScriptReference" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1195502197442">
      <property name="noTargetText" value="choose script" />
      <link role="relationDeclaration" targetNodeId="1.1195502167610" />
      <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1195502197443">
        <link role="conceptDeclaration" targetNodeId="1.1195499912406" resolveInfo="MappingScript" />
        <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1195502206366">
          <property name="readOnly" value="true" />
          <property name="noTargetText" value="&lt;no name&gt;" />
          <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
          <link role="styleClass" targetNodeId="1194566785068" resolveInfo="reference" />
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1200911357797">
    <property name="package" value="label" />
    <link role="conceptDeclaration" targetNodeId="1.1200911316486" resolveInfo="LabelDeclaration" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1200911359877">
      <property name="vertical" value="false" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200911360660">
        <property name="text" value="label" />
        <link role="styleClass" targetNodeId="1224774992290" resolveInfo="GeneratorKeyWord" />
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1200911362725">
        <property name="noTargetText" value="&lt;no name&gt;" />
        <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.TextBackgroundColorStyleClassItem" id="1214407441932">
          <property name="color" value="orange" />
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200913021132">
        <property name="text" value=":" />
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1200911381903">
        <property name="noTargetText" value="&lt;no input concept&gt;" />
        <link role="relationDeclaration" targetNodeId="1.1200911342686" />
        <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1200911381904">
          <link role="conceptDeclaration" targetNodeId="6.1169125787135" resolveInfo="AbstractConceptDeclaration" />
          <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1200911383718">
            <property name="readOnly" value="true" />
            <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399678287">
              <property name="color" value="DARK_MAGENTA" />
            </node>
          </node>
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1200913024009">
        <property name="text" value="-&gt;" />
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1200913026652">
        <property name="noTargetText" value="&lt;no output concept&gt;" />
        <link role="relationDeclaration" targetNodeId="1.1200913004646" />
        <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1200913026653">
          <link role="conceptDeclaration" targetNodeId="6.1169125787135" resolveInfo="AbstractConceptDeclaration" />
          <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1200913029718">
            <property name="readOnly" value="true" />
            <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
            <node role="styleItem" type="jetbrains.mps.lang.editor.structure.ForegroundColorStyleClassItem" id="1214399677931">
              <property name="color" value="DARK_MAGENTA" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1202780999264">
    <property name="package" value="rule.consequence" />
    <link role="conceptDeclaration" targetNodeId="1.1202776937179" resolveInfo="AbandonInput_RuleConsequence" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1202781010672">
      <property name="text" value="&lt;abandon input&gt;" />
      <node role="styleItem" type="jetbrains.mps.lang.editor.structure.FontStyleStyleClassItem" id="1214314934408">
        <property name="style" value="BOLD" />
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.baseLanguage.structure.ClassConcept" id="1205859480204">
    <property name="name" value="QueriesUtil" />
    <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1216153381242">
      <property name="name" value="isNodeMacroApplicable" />
      <node role="returnType" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1216153389306" />
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1216153381244" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216153381245">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216153432872">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalStaticMethodCall" id="1216153436327">
            <link role="baseMethodDeclaration" targetNodeId="1216145916087" resolveInfo="isMacroApplicable" />
            <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216153438781">
              <link role="variableDeclaration" targetNodeId="1216153427979" resolveInfo="node" />
            </node>
          </node>
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1216153427979">
        <property name="name" value="node" />
        <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216153427980" />
      </node>
    </node>
    <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1216153654893">
      <property name="name" value="isPropertyMacroApplicable" />
      <node role="returnType" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1216153654894" />
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1216153654895" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216153654896">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216153674388">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216153674389">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216153733086">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1216153735088">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="1216153716927">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalStaticMethodCall" id="1216153716928">
              <link role="baseMethodDeclaration" targetNodeId="1216145916087" resolveInfo="isAnyMacroApplicable" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216153730038">
                <link role="variableDeclaration" targetNodeId="1216153654900" resolveInfo="node" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1216153772015">
          <property name="value" value="-----" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1216153800534">
          <property name="value" value="it can be 'ref.cell-&gt;{name}'. in this case both are 'applicable'. but link has priority" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216153800535">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216153800536">
            <property name="name" value="linkRole" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.StringType" id="1225191969572" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216153800538">
              <link role="baseMethodDeclaration" targetNodeId="1205879788732" resolveInfo="getEditedLinkRole" />
              <link role="classConcept" targetNodeId="1205859480204" resolveInfo="QueriesUtil" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216153802661">
                <link role="variableDeclaration" targetNodeId="1216153760417" resolveInfo="cell" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216153800540">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216153800541">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216153800542">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1216153800543">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1216153800544">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1216153800545" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216153800546">
              <link role="variableDeclaration" targetNodeId="1216153800536" resolveInfo="linkRole" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216153800547">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216153800548">
            <property name="name" value="propertyName" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.StringType" id="1225191973507" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216153800550">
              <link role="baseMethodDeclaration" targetNodeId="1205880048658" resolveInfo="getEditedPropertyName" />
              <link role="classConcept" targetNodeId="1205859480204" resolveInfo="QueriesUtil" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216153802694">
                <link role="variableDeclaration" targetNodeId="1216153760417" resolveInfo="cell" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216153800552">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216153800553">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216153800554">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1216153800555">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1216153800556">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1216153800557" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216153800558">
              <link role="variableDeclaration" targetNodeId="1216153800548" resolveInfo="propertyName" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216153800559">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1216153800560">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1216153800561" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216153800562">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216153915288">
                <link role="variableDeclaration" targetNodeId="1216153654900" resolveInfo="node" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.AttributeAccessOperation" id="1216153800564">
                <node role="attributeQualifier" type="jetbrains.mps.lang.smodel.structure.PropertyAttributeAccessQualifier" id="1216153800565">
                  <link role="annotationLink" targetNodeId="1.1149694466802" resolveInfo="propertyMacro" />
                  <node role="propertyQualifier" type="jetbrains.mps.lang.smodel.structure.PoundExpression" id="1216153800566">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216153800567">
                      <link role="variableDeclaration" targetNodeId="1216153800548" resolveInfo="propertyName" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1216153654900">
        <property name="name" value="node" />
        <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216153654901" />
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1216153760417">
        <property name="name" value="cell" />
        <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1216153766435">
          <link role="classifier" targetNodeId="70.~EditorCell" resolveInfo="EditorCell" />
        </node>
      </node>
    </node>
    <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1216154022585">
      <property name="name" value="isReferenceMacroApplicable" />
      <node role="returnType" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1216154022586" />
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1216154022587" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216154022588">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216154022589">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216154022590">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216154022591">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1216154022592">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="1216154022593">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalStaticMethodCall" id="1216154022594">
              <link role="baseMethodDeclaration" targetNodeId="1216145916087" resolveInfo="isAnyMacroApplicable" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216154022595">
                <link role="variableDeclaration" targetNodeId="1216154022631" resolveInfo="node" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216154062301">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216154062302">
            <property name="name" value="linkRole" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.StringType" id="1225191971405" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216154062304">
              <link role="baseMethodDeclaration" targetNodeId="1205879788732" resolveInfo="getEditedLinkRole" />
              <link role="classConcept" targetNodeId="1205859480204" resolveInfo="QueriesUtil" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216154070889">
                <link role="variableDeclaration" targetNodeId="1216154022633" resolveInfo="cell" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216154062306">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216154062307">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216154062308">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1216154062309">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1216154062310">
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216154062311">
              <link role="variableDeclaration" targetNodeId="1216154062302" resolveInfo="linkRole" />
            </node>
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1216154062312" />
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216154062313">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216154062314">
            <property name="name" value="referentNode" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216154062315" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216154062316">
              <link role="baseMethodDeclaration" targetNodeId="1205881894854" resolveInfo="getEditedLinkReferentNode" />
              <link role="classConcept" targetNodeId="1205859480204" resolveInfo="QueriesUtil" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216154070890">
                <link role="variableDeclaration" targetNodeId="1216154022633" resolveInfo="cell" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216154062318">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1216154062319">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1216154062320" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216154062321">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216154062322">
                <link role="variableDeclaration" targetNodeId="1216154062314" resolveInfo="referentNode" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.AttributeAccessOperation" id="1216154062323">
                <node role="attributeQualifier" type="jetbrains.mps.lang.smodel.structure.LinkAttributeAccessQualifier" id="1216154062324">
                  <link role="annotationLink" targetNodeId="1.1149694518242" resolveInfo="referenceMacro" />
                  <node role="linkQualifier" type="jetbrains.mps.lang.smodel.structure.PoundExpression" id="1216154062325">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216154062326">
                      <link role="variableDeclaration" targetNodeId="1216154062302" resolveInfo="linkRole" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1216154022631">
        <property name="name" value="node" />
        <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216154022632" />
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1216154022633">
        <property name="name" value="cell" />
        <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1216154022634">
          <link role="classifier" targetNodeId="70.~EditorCell" resolveInfo="EditorCell" />
        </node>
      </node>
    </node>
    <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1216145916087">
      <property name="name" value="isAnyMacroApplicable" />
      <node role="returnType" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1216145929484" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216145916090">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1216666083523">
          <property name="value" value="not inside 'root template annotation'" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216666103697">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216666103698">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216666489310">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1216666492453">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1216666476400">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1216666479247" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216666115280">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216666111544">
                <link role="variableDeclaration" targetNodeId="1216145971156" resolveInfo="node" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1216666118751">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1216666118752">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1216666122848">
                    <link role="conceptDeclaration" targetNodeId="1.1168619357332" resolveInfo="RootTemplateAnnotation" />
                  </node>
                </node>
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Inclusion" id="1216666469790" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1216146082148">
          <property name="value" value=" not inside any kind of macro (code shown in inspector) but OK on a macro node itself" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1225741743296">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1225741743297">
            <property name="name" value="ancestorMacro" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1225741743298" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225741743299">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1225741743300">
                <link role="variableDeclaration" targetNodeId="1216145971156" resolveInfo="node" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1225741743301">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_ConceptList" id="1225741743302">
                  <node role="concept" type="jetbrains.mps.lang.smodel.structure.ConceptReference" id="1225741743303">
                    <link role="concept" targetNodeId="1.1087833466690" resolveInfo="NodeMacro" />
                  </node>
                  <node role="concept" type="jetbrains.mps.lang.smodel.structure.ConceptReference" id="1225741743304">
                    <link role="concept" targetNodeId="1.1087833241328" resolveInfo="PropertyMacro" />
                  </node>
                  <node role="concept" type="jetbrains.mps.lang.smodel.structure.ConceptReference" id="1225741743305">
                    <link role="concept" targetNodeId="1.1088761943574" resolveInfo="ReferenceMacro" />
                  </node>
                  <node role="concept" type="jetbrains.mps.lang.smodel.structure.ConceptReference" id="1225741791251">
                    <link role="concept" targetNodeId="1.1177093525992" resolveInfo="InlineTemplate_RuleConsequence" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216146405923">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216146405924">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1225741844284">
              <property name="value" value=" exception: can be inside 'alternativeConsequence' in IF-macro" />
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1225741908896">
              <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1225741908897">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1225741952218">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1225741954673">
                    <property name="value" value="true" />
                  </node>
                </node>
              </node>
              <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225741922916">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225741920009">
                  <link role="variableDeclaration" targetNodeId="1225741743297" resolveInfo="ancestorMacro" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1225741930560">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1225741943014">
                    <link role="conceptDeclaration" targetNodeId="1.1177093525992" resolveInfo="InlineTemplate_RuleConsequence" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216146428782">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1216146431846">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1216146423949">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1216146425718" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225741743306">
              <link role="variableDeclaration" targetNodeId="1225741743297" resolveInfo="mayBeMacro" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1216146498155">
          <property name="value" value="inside 'root template'" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216146484376">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216146484377">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216146484378">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1216146484379">
                <property name="value" value="true" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1216146484380">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1216146484381" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216146484382">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216146484383">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216146489810">
                  <link role="variableDeclaration" targetNodeId="1216145971156" resolveInfo="node" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetContainingRootOperation" id="1216146484385" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.AttributeAccessOperation" id="1216146484386">
                <node role="attributeQualifier" type="jetbrains.mps.lang.smodel.structure.NodeAttributeAccessQualifier" id="1216146484387">
                  <link role="annotationLink" targetNodeId="1.1168619445822" resolveInfo="rootTemplateAnnotation" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1216145997955">
          <property name="value" value=" inside template declaration " />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216146457206">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216146457207">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216146457208">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1216146457209">
                <property name="value" value="true" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1216146457210">
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216146457211">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216146462405">
                <link role="variableDeclaration" targetNodeId="1216145971156" resolveInfo="node" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1216146457213">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_ConceptList" id="1216147915278">
                  <node role="concept" type="jetbrains.mps.lang.smodel.structure.ConceptReference" id="1216147915279">
                    <link role="concept" targetNodeId="1.1092059087312" resolveInfo="TemplateDeclaration" />
                  </node>
                  <node role="concept" type="jetbrains.mps.lang.smodel.structure.ConceptReference" id="1216147931939">
                    <link role="concept" targetNodeId="1.1177093525992" resolveInfo="InlineTemplate_RuleConsequence" />
                  </node>
                </node>
              </node>
            </node>
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1216146457216" />
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216146522017">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1216146523941">
            <property name="value" value="false" />
          </node>
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1216145971156">
        <property name="name" value="node" />
        <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216145971157" />
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PrivateVisibility" id="1216153476158" />
    </node>
    <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1216154163929">
      <property name="name" value="addNodeMacro" />
      <node role="returnType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216154181089">
        <link role="concept" targetNodeId="1.1087833466690" resolveInfo="NodeMacro" />
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1216154163931" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216154163932">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1216154257830">
          <property name="value" value="do not hang $$ on other attributes" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216154257831">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216154257832">
            <property name="name" value="applyToNode" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216154257833" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216154257834">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216154257835">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216154257836">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216154262728">
                    <link role="variableDeclaration" targetNodeId="1216154233965" resolveInfo="node" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorsOperation" id="1216154257838">
                    <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Inclusion" id="1216154257839" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.WhereOperationNew" id="1227876795346">
                  <node role="closure" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1227876795347">
                    <node role="parameter" type="jetbrains.mps.baseLanguage.collections.structure.SmartClosureParameterDeclaration" id="1227876795348">
                      <property name="name" value="it" />
                      <node role="type" type="jetbrains.mps.baseLanguage.structure.WildCardType" id="1227876795349" />
                    </node>
                    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227876795350">
                      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227876795351">
                        <node role="expression" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="1227876795352">
                          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227876795353">
                            <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227876817394">
                              <link role="variableDeclaration" targetNodeId="1227876795348" resolveInfo="it" />
                            </node>
                            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsAttributeOperation" id="1227876795355" />
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetFirstOperation" id="1216154257849" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1216154257850">
          <property name="value" value="surround with &lt;TF&gt; if necessary" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216154257851">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216154257852">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216154257853">
              <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216154257854">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216154257855">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216154257856">
                    <link role="baseMethodDeclaration" targetNodeId="1205869137520" resolveInfo="createTemplateFragment" />
                    <link role="classConcept" targetNodeId="1205859480204" resolveInfo="QueriesUtil" />
                    <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216154257857">
                      <link role="variableDeclaration" targetNodeId="1216154257832" resolveInfo="applyToNode" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="1216154257858">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216154257859">
                  <link role="classConcept" targetNodeId="1205859480204" resolveInfo="QueriesUtil" />
                  <link role="baseMethodDeclaration" targetNodeId="1205859565509" resolveInfo="isInsideTemplateFragment" />
                  <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216154257860">
                    <link role="variableDeclaration" targetNodeId="1216154257832" resolveInfo="applyToNode" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1216154257861">
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216154257862">
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1216154257863">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1216154257864">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1216154257865">
                    <link role="conceptDeclaration" targetNodeId="1.1092059087312" resolveInfo="TemplateDeclaration" />
                  </node>
                </node>
              </node>
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216154257866">
                <link role="variableDeclaration" targetNodeId="1216154257832" resolveInfo="applyToNode" />
              </node>
            </node>
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1216154257867" />
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216154257868">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216154257869" />
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1216154257870">
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216154257871">
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1216154257872">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1216154257873">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1216154257874">
                    <link role="conceptDeclaration" targetNodeId="1.1092059087312" resolveInfo="TemplateDeclaration" />
                  </node>
                </node>
              </node>
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216154266718">
                <link role="variableDeclaration" targetNodeId="1216154233965" resolveInfo="node" />
              </node>
            </node>
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1216154257876" />
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216154257877">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216154257878">
            <property name="name" value="nodeMacro" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216154257879">
              <link role="concept" targetNodeId="1.1087833466690" resolveInfo="NodeMacro" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1216154257880">
              <node role="creator" type="jetbrains.mps.lang.smodel.structure.SNodeCreator" id="1216154257881">
                <node role="createdType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216154257882">
                  <link role="concept" targetNodeId="1.1087833466690" resolveInfo="NodeMacro" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216154257883">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216154257884">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216154257885">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216154257886">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216154280143">
                  <link role="variableDeclaration" targetNodeId="1216154233965" resolveInfo="node" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_InsertPrevSiblingOperation" id="1216154257888">
                  <node role="insertedNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216154257889">
                    <link role="variableDeclaration" targetNodeId="1216154257878" resolveInfo="nodeMacro" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.AndExpression" id="1216154257890">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216154257891">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216154257892">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216154257893">
                  <link role="variableDeclaration" targetNodeId="1216154257832" resolveInfo="applyToNode" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetChildrenOperation" id="1216154257894" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.ContainsOperation" id="1216154257895">
                <node role="argument" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216154276283">
                  <link role="variableDeclaration" targetNodeId="1216154233965" resolveInfo="node" />
                </node>
              </node>
            </node>
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216154257897">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216154272032">
                <link role="variableDeclaration" targetNodeId="1216154233965" resolveInfo="node" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1216154257899">
                <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1216154257900">
                  <link role="conceptDeclaration" targetNodeId="1.1087833466690" resolveInfo="NodeMacro" />
                </node>
              </node>
            </node>
          </node>
          <node role="ifFalseStatement" type="jetbrains.mps.baseLanguage.structure.BlockStatement" id="1216154257901">
            <node role="statements" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216154257902">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216154257903">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216154257904">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216154257905">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216154257906">
                      <link role="variableDeclaration" targetNodeId="1216154257832" resolveInfo="applyToNode" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.AttributeAccessOperation" id="1216154257907">
                      <node role="attributeQualifier" type="jetbrains.mps.lang.smodel.structure.NodeAttributeAccessQualifier" id="1216154257908">
                        <link role="annotationLink" targetNodeId="1.1149694500506" resolveInfo="nodeMacro" />
                      </node>
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.LinkList_AddChildOperation" id="1216154257909">
                    <node role="childNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216154257910">
                      <link role="variableDeclaration" targetNodeId="1216154257878" resolveInfo="nodeMacro" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216154291145">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216154294679">
            <link role="variableDeclaration" targetNodeId="1216154257878" resolveInfo="nodeMacro" />
          </node>
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1216154233965">
        <property name="name" value="node" />
        <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216154233966" />
      </node>
    </node>
    <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1216154358068">
      <property name="name" value="addPropertyMacro" />
      <node role="returnType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216154363431">
        <link role="concept" targetNodeId="1.1087833241328" resolveInfo="PropertyMacro" />
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1216154358070" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216154358071">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1216154409455">
          <property name="value" value="surround with &lt;TF&gt; if necessary" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216154409456">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216154409457">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216154409458">
              <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216154409459">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216154409460">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216154409461">
                    <link role="baseMethodDeclaration" targetNodeId="1205869137520" resolveInfo="createTemplateFragment" />
                    <link role="classConcept" targetNodeId="1205859480204" resolveInfo="QueriesUtil" />
                    <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216154419090">
                      <link role="variableDeclaration" targetNodeId="1216154377369" resolveInfo="node" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="1216154409463">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216154409464">
                  <link role="classConcept" targetNodeId="1205859480204" resolveInfo="QueriesUtil" />
                  <link role="baseMethodDeclaration" targetNodeId="1205859565509" resolveInfo="isInsideTemplateFragment" />
                  <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216154417417">
                    <link role="variableDeclaration" targetNodeId="1216154377369" resolveInfo="node" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1216154409466">
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216154409467">
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1216154409468">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1216154409469">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1216154409470">
                    <link role="conceptDeclaration" targetNodeId="1.1092059087312" resolveInfo="TemplateDeclaration" />
                  </node>
                </node>
              </node>
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216154413807">
                <link role="variableDeclaration" targetNodeId="1216154377369" resolveInfo="node" />
              </node>
            </node>
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1216154409472" />
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216154409479">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216154409480">
            <property name="name" value="propertyName" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.StringType" id="1225191974324" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216154409482">
              <link role="baseMethodDeclaration" targetNodeId="1205880048658" resolveInfo="getEditedPropertyName" />
              <link role="classConcept" targetNodeId="1205859480204" resolveInfo="QueriesUtil" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216154423232">
                <link role="variableDeclaration" targetNodeId="1216154379778" resolveInfo="cell" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216154409484">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216154409485">
            <property name="name" value="propertyMacro" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216154409486">
              <link role="concept" targetNodeId="1.1087833241328" resolveInfo="PropertyMacro" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216154409487">
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Link_SetNewChildOperation" id="1216154409488" />
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216154409489">
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.AttributeAccessOperation" id="1216154409490">
                  <node role="attributeQualifier" type="jetbrains.mps.lang.smodel.structure.PropertyAttributeAccessQualifier" id="1216154409491">
                    <link role="annotationLink" targetNodeId="1.1149694466802" resolveInfo="propertyMacro" />
                    <node role="propertyQualifier" type="jetbrains.mps.lang.smodel.structure.PoundExpression" id="1216154409492">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216154409493">
                        <link role="variableDeclaration" targetNodeId="1216154409480" resolveInfo="propertyName" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216154436924">
                  <link role="variableDeclaration" targetNodeId="1216154377369" resolveInfo="node" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216154430093">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216154433752">
            <link role="variableDeclaration" targetNodeId="1216154409485" resolveInfo="propertyMacro" />
          </node>
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1216154377369">
        <property name="name" value="node" />
        <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216154377370" />
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1216154379778">
        <property name="name" value="cell" />
        <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1216154386467">
          <link role="classifier" targetNodeId="70.~EditorCell" resolveInfo="EditorCell" />
        </node>
      </node>
    </node>
    <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1216154498760">
      <property name="name" value="addReferenceMacro" />
      <node role="returnType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216154503623">
        <link role="concept" targetNodeId="1.1088761943574" resolveInfo="ReferenceMacro" />
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1216154498762" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216154498763">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216154550413">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216154550414">
            <property name="name" value="linkRole" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.StringType" id="1225191969776" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216154550416">
              <link role="baseMethodDeclaration" targetNodeId="1205879788732" resolveInfo="getEditedLinkRole" />
              <link role="classConcept" targetNodeId="1205859480204" resolveInfo="QueriesUtil" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216154550734">
                <link role="variableDeclaration" targetNodeId="1216154519579" resolveInfo="cell" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216154550418">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216154550419">
            <property name="name" value="referentNode" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216154550420" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216154550421">
              <link role="classConcept" targetNodeId="1205859480204" resolveInfo="QueriesUtil" />
              <link role="baseMethodDeclaration" targetNodeId="1205881894854" resolveInfo="getEditedLinkReferentNode" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1216154550498">
                <link role="variableDeclaration" targetNodeId="1216154519579" resolveInfo="cell" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1216154550423">
          <property name="value" value="surround with &lt;TF&gt; if necessary" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216154550424">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216154550425">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1216154550426">
              <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1216154550427">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1216154550428">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216154550429">
                    <link role="classConcept" targetNodeId="1205859480204" resolveInfo="QueriesUtil" />
                    <link role="baseMethodDeclaration" targetNodeId="1205869137520" resolveInfo="createTemplateFragment" />
                    <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216154550430">
                      <link role="variableDeclaration" targetNodeId="1216154550419" resolveInfo="referentNode" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="1216154550431">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1216154550432">
                  <link role="classConcept" targetNodeId="1205859480204" resolveInfo="QueriesUtil" />
                  <link role="baseMethodDeclaration" targetNodeId="1205859565509" resolveInfo="isInsideTemplateFragment" />
                  <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216154550433">
                    <link role="variableDeclaration" targetNodeId="1216154550419" resolveInfo="referentNode" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1216154550434">
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216154550435">
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1216154550436">
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1216154550437">
                  <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1216154550438">
                    <link role="conceptDeclaration" targetNodeId="1.1092059087312" resolveInfo="TemplateDeclaration" />
                  </node>
                </node>
              </node>
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216154550439">
                <link role="variableDeclaration" targetNodeId="1216154550419" resolveInfo="referentNode" />
              </node>
            </node>
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1216154550440" />
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1216154550441">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1216154550442">
            <property name="name" value="referenceMacro" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216154550443">
              <link role="concept" targetNodeId="1.1088761943574" resolveInfo="ReferenceMacro" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216154550444">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1216154550445">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216154550446">
                  <link role="variableDeclaration" targetNodeId="1216154550419" resolveInfo="referentNode" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.AttributeAccessOperation" id="1216154550447">
                  <node role="attributeQualifier" type="jetbrains.mps.lang.smodel.structure.LinkAttributeAccessQualifier" id="1216154550448">
                    <link role="annotationLink" targetNodeId="1.1149694518242" resolveInfo="referenceMacro" />
                    <node role="linkQualifier" type="jetbrains.mps.lang.smodel.structure.PoundExpression" id="1216154550449">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216154550450">
                        <link role="variableDeclaration" targetNodeId="1216154550414" resolveInfo="linkRole" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Link_SetNewChildOperation" id="1216154550451" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1216154588251">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1216154591019">
            <link role="variableDeclaration" targetNodeId="1216154550442" resolveInfo="referenceMacro" />
          </node>
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1216154517281">
        <property name="name" value="node" />
        <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1216154517282" />
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1216154519579">
        <property name="name" value="cell" />
        <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1216154523550">
          <link role="classifier" targetNodeId="70.~EditorCell" resolveInfo="EditorCell" />
        </node>
      </node>
    </node>
    <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1205859565509">
      <property name="name" value="isInsideTemplateFragment" />
      <node role="returnType" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1205859710913" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205859565512">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1205859679048">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1205859679049">
            <property name="name" value="ancestorTFs" />
            <node role="type" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1205859679050">
              <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1205859679051" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205859679052">
              <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.WhereOperationNew" id="1227876797777">
                <node role="closure" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1227876797778">
                  <node role="parameter" type="jetbrains.mps.baseLanguage.collections.structure.SmartClosureParameterDeclaration" id="1227876797779">
                    <property name="name" value="it" />
                    <node role="type" type="jetbrains.mps.baseLanguage.structure.WildCardType" id="1227876797780" />
                  </node>
                  <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227876797781">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227876797782">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1227876797783">
                        <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227876797784">
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.AttributeAccessOperation" id="1227876797785">
                            <node role="attributeQualifier" type="jetbrains.mps.lang.smodel.structure.NodeAttributeAccessQualifier" id="1227876797786">
                              <link role="annotationLink" targetNodeId="1.1149858605876" resolveInfo="templateFragment" />
                            </node>
                          </node>
                          <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227876816603">
                            <link role="variableDeclaration" targetNodeId="1227876797779" resolveInfo="it" />
                          </node>
                        </node>
                        <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1227876797788" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205859679064">
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorsOperation" id="1205859679065">
                  <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Inclusion" id="1205859679066" />
                </node>
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1205859679067">
                  <link role="variableDeclaration" targetNodeId="1205859602132" resolveInfo="node" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1205859683728">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.GreaterThanExpression" id="1205859699079">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1205859701755">
              <property name="value" value="0" />
            </node>
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205859688559">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1205859687449">
                <link role="variableDeclaration" targetNodeId="1205859679049" resolveInfo="ancestorTFs" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetSizeOperation" id="1205859696077" />
            </node>
          </node>
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1205859602132">
        <property name="name" value="node" />
        <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1205859602133" />
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1207155796928" />
    </node>
    <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1205869137520">
      <property name="name" value="createTemplateFragment" />
      <node role="returnType" type="jetbrains.mps.baseLanguage.structure.VoidType" id="1205869137521" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205869137523">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1205869156671">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205869156672">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205869156673">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1205869164250">
                <link role="variableDeclaration" targetNodeId="1205869152165" resolveInfo="node" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.AttributeAccessOperation" id="1205869156675">
                <node role="attributeQualifier" type="jetbrains.mps.lang.smodel.structure.NodeAttributeAccessQualifier" id="1205869156676">
                  <link role="annotationLink" targetNodeId="1.1149858605876" resolveInfo="templateFragment" />
                </node>
              </node>
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Link_SetNewChildOperation" id="1205869156677" />
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1205869156678">
          <property name="value" value="remove subordinate template fragments" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1205869156679">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1205869156680">
            <property name="name" value="children" />
            <node role="type" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1205869156681">
              <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1205869156682" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205869156683">
              <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.WhereOperationNew" id="1227876799926">
                <node role="closure" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1227876799927">
                  <node role="parameter" type="jetbrains.mps.baseLanguage.collections.structure.SmartClosureParameterDeclaration" id="1227876799928">
                    <property name="name" value="it" />
                    <node role="type" type="jetbrains.mps.baseLanguage.structure.WildCardType" id="1227876799929" />
                  </node>
                  <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227876799930">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227876799931">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="1227876799932">
                        <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227876799933">
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsAttributeOperation" id="1227876799934" />
                          <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227876815047">
                            <link role="variableDeclaration" targetNodeId="1227876799928" resolveInfo="it" />
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205869156693">
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetChildrenOperation" id="1205869156694" />
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1205869169548">
                  <link role="variableDeclaration" targetNodeId="1205869152165" resolveInfo="node" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.collections.structure.ForEachStatement" id="1205869156696">
          <node role="variable" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariable" id="1205869156697">
            <property name="name" value="child" />
          </node>
          <node role="inputSequence" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1205869156698">
            <link role="variableDeclaration" targetNodeId="1205869156680" resolveInfo="children" />
          </node>
          <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205869156699">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1205869156700">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205869156701">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205869156702">
                  <node role="operand" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariableReference" id="1205869156703">
                    <link role="variable" targetNodeId="1205869156697" resolveInfo="child" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetDescendantsOperation" id="1205869156704">
                    <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1205869156705">
                      <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1207675648306">
                        <link role="conceptDeclaration" targetNodeId="1.1095672379244" resolveInfo="TemplateFragment" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.VisitAllOperation" id="1227876791159">
                  <node role="closure" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1227876791160">
                    <node role="parameter" type="jetbrains.mps.baseLanguage.collections.structure.SmartClosureParameterDeclaration" id="1227876791161">
                      <property name="name" value="it" />
                      <node role="type" type="jetbrains.mps.baseLanguage.structure.WildCardType" id="1227876791162" />
                    </node>
                    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227876791163">
                      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227876791164">
                        <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227876791165">
                          <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227876816617">
                            <link role="variableDeclaration" targetNodeId="1227876791161" resolveInfo="it" />
                          </node>
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_DeleteOperation" id="1227876791167" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1205870841001">
          <property name="value" value="re append all macros to make them go 'after' the &lt;TF&gt;" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1205871010867">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205871020498">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205871012228">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1205871010868">
                <link role="variableDeclaration" targetNodeId="1205869152165" resolveInfo="node" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.AttributeAccessOperation" id="1205871013308">
                <node role="attributeQualifier" type="jetbrains.mps.lang.smodel.structure.NodeAttributeAccessQualifier" id="1205871018168">
                  <link role="annotationLink" targetNodeId="1.1149694500506" resolveInfo="nodeMacro" />
                </node>
              </node>
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.VisitAllOperation" id="1227876791387">
              <node role="closure" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1227876791388">
                <node role="parameter" type="jetbrains.mps.baseLanguage.collections.structure.SmartClosureParameterDeclaration" id="1227876791389">
                  <property name="name" value="it" />
                  <node role="type" type="jetbrains.mps.baseLanguage.structure.WildCardType" id="1227876791390" />
                </node>
                <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227876791391">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1227876791392">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227876791393">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227876791394">
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227876791395">
                          <link role="variableDeclaration" targetNodeId="1205869152165" resolveInfo="node" />
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.AttributeAccessOperation" id="1227876791396">
                          <node role="attributeQualifier" type="jetbrains.mps.lang.smodel.structure.NodeAttributeAccessQualifier" id="1227876791397">
                            <link role="annotationLink" targetNodeId="1.1149694500506" resolveInfo="nodeMacro" />
                          </node>
                        </node>
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.LinkList_AddChildOperation" id="1227876791398">
                        <node role="childNode" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227876815751">
                          <link role="variableDeclaration" targetNodeId="1227876791389" resolveInfo="it" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1205869152165">
        <property name="name" value="node" />
        <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1205869152166" />
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1207155794005" />
    </node>
    <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1205880048658">
      <property name="name" value="getEditedPropertyName" />
      <node role="returnType" type="jetbrains.mps.baseLanguage.structure.StringType" id="1225191974669" />
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1205880048660" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205880048661">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1205880088338">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205880088339">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1205880088340">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1205880088341">
                <property name="name" value="modelAccessor" />
                <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1205880088342">
                  <link role="classifier" targetNodeId="70.~ModelAccessor" resolveInfo="ModelAccessor" />
                </node>
                <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205880088343">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParenthesizedExpression" id="1205880088344">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.CastExpression" id="1205880088345">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1205880089766">
                        <link role="variableDeclaration" targetNodeId="1205880064302" resolveInfo="cell" />
                      </node>
                      <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1205880088347">
                        <link role="classifier" targetNodeId="70.~EditorCell_Property" resolveInfo="EditorCell_Property" />
                      </node>
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1205880088348">
                    <link role="baseMethodDeclaration" targetNodeId="70.~EditorCell_Property.getModelAccessor():jetbrains.mps.nodeEditor.cells.ModelAccessor" resolveInfo="getModelAccessor" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1205880088349">
              <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205880088350">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1205880088351">
                  <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1205880088352">
                    <property name="name" value="propertyName" />
                    <node role="type" type="jetbrains.mps.baseLanguage.structure.StringType" id="1225191973931" />
                    <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205880088354">
                      <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1205880088355">
                        <link role="baseMethodDeclaration" targetNodeId="70.~PropertyAccessor.getPropertyName():java.lang.String" resolveInfo="getPropertyName" />
                      </node>
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParenthesizedExpression" id="1205880088356">
                        <node role="expression" type="jetbrains.mps.baseLanguage.structure.CastExpression" id="1205880088357">
                          <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1205880088358">
                            <link role="variableDeclaration" targetNodeId="1205880088341" resolveInfo="modelAccessor" />
                          </node>
                          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1205880088359">
                            <link role="classifier" targetNodeId="70.~PropertyAccessor" resolveInfo="PropertyAccessor" />
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1205880120939">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1205880123535">
                    <link role="variableDeclaration" targetNodeId="1205880088352" resolveInfo="propertyName" />
                  </node>
                </node>
              </node>
              <node role="condition" type="jetbrains.mps.baseLanguage.structure.InstanceOfExpression" id="1205880088369">
                <node role="classType" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1205880088370">
                  <link role="classifier" targetNodeId="70.~PropertyAccessor" resolveInfo="PropertyAccessor" />
                </node>
                <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1205880088371">
                  <link role="variableDeclaration" targetNodeId="1205880088341" resolveInfo="modelAccessor" />
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.InstanceOfExpression" id="1205880088372">
            <node role="classType" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1205880088373">
              <link role="classifier" targetNodeId="70.~EditorCell_Property" resolveInfo="EditorCell_Property" />
            </node>
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1205880089672">
              <link role="variableDeclaration" targetNodeId="1205880064302" resolveInfo="cell" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1205880142663">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1205880144524" />
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1205880064302">
        <property name="name" value="cell" />
        <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1205880064303">
          <link role="classifier" targetNodeId="70.~EditorCell" resolveInfo="EditorCell" />
        </node>
      </node>
    </node>
    <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1205879788732">
      <property name="name" value="getEditedLinkRole" />
      <node role="returnType" type="jetbrains.mps.baseLanguage.structure.StringType" id="1225191973256" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205879788735">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1205879900223">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1205879900224">
            <property name="name" value="linkDeclaration" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1225547045503">
              <link role="classifier" targetNodeId="73.~LinkDeclaration" resolveInfo="LinkDeclaration" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205879900226">
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1225547084888">
                <link role="baseMethodDeclaration" targetNodeId="70.~EditorCell.getLinkDeclaration():jetbrains.mps.lang.structure.structure.LinkDeclaration" resolveInfo="getLinkDeclaration" />
              </node>
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1205879901519">
                <link role="variableDeclaration" targetNodeId="1205879822862" resolveInfo="cell" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1205879900230">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1205879900231">
            <property name="name" value="referentNode" />
            <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1225613546348">
              <link role="classifier" targetNodeId="10.~SNode" resolveInfo="SNode" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205879900233">
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1225613541307">
                <link role="baseMethodDeclaration" targetNodeId="70.~EditorCell.getRefNode():jetbrains.mps.smodel.SNode" resolveInfo="getRefNode" />
              </node>
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1205879901613">
                <link role="variableDeclaration" targetNodeId="1205879822862" resolveInfo="cell" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1205879906709">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205879906710">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1205879930117">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1205879932072" />
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.OrExpression" id="1205879919281">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1205879926456">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1205879928334" />
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1205879923627">
                <link role="variableDeclaration" targetNodeId="1205879900224" resolveInfo="linkDeclaration" />
              </node>
            </node>
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1205879912605">
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1205879910276">
                <link role="variableDeclaration" targetNodeId="1205879900231" resolveInfo="referentNode" />
              </node>
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1205879914826" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1205880021921">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1205880021922">
            <property name="name" value="link" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1205880021923">
              <link role="concept" targetNodeId="6.1071489288298" resolveInfo="LinkDeclaration" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.CastExpression" id="1205880021924">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1225547102545">
                <link role="baseMethodDeclaration" targetNodeId="10.~BaseAdapter.fromAdapter(jetbrains.mps.smodel.INodeAdapter):jetbrains.mps.smodel.SNode" resolveInfo="fromAdapter" />
                <link role="classConcept" targetNodeId="10.~BaseAdapter" resolveInfo="BaseAdapter" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225547103952">
                  <link role="variableDeclaration" targetNodeId="1205879900224" resolveInfo="linkDeclaration" />
                </node>
              </node>
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1205880021931">
                <link role="concept" targetNodeId="6.1071489288298" resolveInfo="LinkDeclaration" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1205880035183">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205880039545">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1205880038498">
              <link role="variableDeclaration" targetNodeId="1205880021922" resolveInfo="link" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1205880043641">
              <link role="baseMethodDeclaration" targetNodeId="69.1213877254542" resolveInfo="getGenuineRole" />
            </node>
          </node>
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1205879822862">
        <property name="name" value="cell" />
        <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1205879822863">
          <link role="classifier" targetNodeId="70.~EditorCell" resolveInfo="EditorCell" />
        </node>
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1207155547149" />
    </node>
    <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1205881894854">
      <property name="name" value="getEditedLinkReferentNode" />
      <node role="returnType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1205881958055" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205881894856">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1225613567380">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225613570446">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1225613568851">
              <link role="variableDeclaration" targetNodeId="1205881894892" resolveInfo="cell" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1225613573762">
              <link role="baseMethodDeclaration" targetNodeId="70.~EditorCell.getRefNode():jetbrains.mps.smodel.SNode" resolveInfo="getRefNode" />
            </node>
          </node>
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1205881894892">
        <property name="name" value="cell" />
        <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1205881894893">
          <link role="classifier" targetNodeId="70.~EditorCell" resolveInfo="EditorCell" />
        </node>
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1207155548978" />
    </node>
    <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1207155541679" />
  </node>
  <node type="jetbrains.mps.lang.editor.structure.ConceptEditorDeclaration" id="1219952444641">
    <property name="package" value="rule" />
    <link role="conceptDeclaration" targetNodeId="1.1219952072943" resolveInfo="DropRootRule" />
    <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Collection" id="1219952449502">
      <property name="vertical" value="false" />
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefCell" id="1219952622803">
        <property name="attractsFocus" value="2" />
        <property name="noTargetText" value="&lt;choose concept&gt;" />
        <link role="styleClass" targetNodeId="72.1203541385314" resolveInfo="ReferenceOnConcept" />
        <link role="relationDeclaration" targetNodeId="1.1219952338328" />
        <node role="editorComponent" type="jetbrains.mps.lang.editor.structure.InlineEditorComponent" id="1219952622804">
          <link role="conceptDeclaration" targetNodeId="6.1169125787135" resolveInfo="AbstractConceptDeclaration" />
          <node role="cellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Property" id="1219952622805">
            <property name="attractsFocus" value="0" />
            <property name="readOnly" value="true" />
            <link role="relationDeclaration" targetNodeId="4.1169194664001" resolveInfo="name" />
          </node>
        </node>
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1219952848465">
        <property name="text" value="condition" />
        <link role="styleClass" targetNodeId="1224774992290" resolveInfo="GeneratorKeyWord" />
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_RefNode" id="1219952862843">
        <property name="noTargetText" value="&lt;none&gt;" />
        <link role="relationDeclaration" targetNodeId="1.1219952317655" />
      </node>
      <node role="childCellModel" type="jetbrains.mps.lang.editor.structure.CellModel_Constant" id="1219953394687">
        <node role="renderingCondition" type="jetbrains.mps.lang.editor.structure.QueryFunction_NodeCondition" id="1219953403750">
          <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1219953403751">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1219953407346">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1219953412571">
                <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1219953413449" />
                <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1219953407489">
                  <node role="operand" type="jetbrains.mps.lang.editor.structure.ConceptFunctionParameter_node" id="1219953407347" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1219953411304">
                    <link role="link" targetNodeId="1.1219952317655" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="styleItem" type="jetbrains.mps.lang.editor.structure.SelectableStyleSheetItem" id="1219953426153">
          <property name="flag" value="true" />
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.editor.structure.CellActionMapDeclaration" id="1231693283891">
    <property name="package" value="macro" />
    <property name="name" value="PropertyMacroActions" />
    <node role="item" type="jetbrains.mps.lang.editor.structure.CellActionMapItem" id="1231693298174">
      <property name="actionId" value="delete_action_id" />
      <node role="executeFunction" type="jetbrains.mps.lang.editor.structure.CellActionMap_ExecuteFunction" id="1231693298175">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1231693298176">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1231693361386">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1231693361387">
              <property name="name" value="attributedNode" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1231693361388">
                <link role="concept" targetNodeId="4.1133920641626" resolveInfo="BaseConcept" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1231693361389">
                <node role="operand" type="jetbrains.mps.lang.editor.structure.CellActionMap_FunctionParm_selectedNode" id="1231693361390" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1231693361391" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1231694235264">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1231694235265">
              <property name="name" value="propertyName" />
              <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1231694235266">
                <link role="classifier" targetNodeId="65.~String" resolveInfo="String" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1231694235267">
                <link role="baseMethodDeclaration" targetNodeId="10.~AttributesRolesUtil.getPropertyNameFromPropertyAttributeRole(java.lang.String):java.lang.String" resolveInfo="getPropertyNameFromPropertyAttributeRole" />
                <link role="classConcept" targetNodeId="10.~AttributesRolesUtil" resolveInfo="AttributesRolesUtil" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1231694235268">
                  <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1231694235269">
                    <node role="leftExpression" type="jetbrains.mps.lang.editor.structure.CellActionMap_FunctionParm_selectedNode" id="1231694235270" />
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1231694235271">
                    <link role="baseMethodDeclaration" targetNodeId="10.~SNode.getRole_():java.lang.String" resolveInfo="getRole_" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1231694249737">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1231694249738">
              <property name="name" value="propertyDeclaration" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1231694249739">
                <link role="concept" targetNodeId="6.1071489288299" resolveInfo="PropertyDeclaration" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1231694249740">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1231694249741">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1231694249742">
                    <link role="variableDeclaration" targetNodeId="1231693361387" resolveInfo="attributedNode" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetConceptOperation" id="1231694249743" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1231694249744">
                  <link role="baseMethodDeclaration" targetNodeId="69.1219835742593" resolveInfo="findPropertyDeclaration" />
                  <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1231694249745">
                    <link role="variableDeclaration" targetNodeId="1231694235265" resolveInfo="propertyName" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1231694378057">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1231694378058">
              <property name="name" value="cell" />
              <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1231694378059">
                <link role="classifier" targetNodeId="70.~EditorCell" resolveInfo="EditorCell" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1231694378060">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1231694378061">
                  <node role="operand" type="jetbrains.mps.lang.editor.structure.ConceptFunctionParameter_editorContext" id="1231694378062" />
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1231694378063">
                    <link role="baseMethodDeclaration" targetNodeId="9.~EditorContext.getNodeEditorComponent():jetbrains.mps.nodeEditor.EditorComponent" resolveInfo="getNodeEditorComponent" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1231694378064">
                  <link role="baseMethodDeclaration" targetNodeId="9.~EditorComponent.findCellWithId(jetbrains.mps.smodel.SNode,java.lang.String):jetbrains.mps.nodeEditor.cells.EditorCell" resolveInfo="findCellWithId" />
                  <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1231694378065">
                    <link role="variableDeclaration" targetNodeId="1231693361387" resolveInfo="attributedNode" />
                  </node>
                  <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1231694378066">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1231694378067">
                      <link role="variableDeclaration" targetNodeId="1231694249738" resolveInfo="propertyDeclaration" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1231694378068">
                      <link role="baseMethodDeclaration" targetNodeId="69.1216822951265" resolveInfo="getCellId" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1231694382085">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1231694394463">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1231694383805">
                <node role="operand" type="jetbrains.mps.lang.editor.structure.ConceptFunctionParameter_editorContext" id="1231694382086" />
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1231694393056">
                  <link role="baseMethodDeclaration" targetNodeId="9.~EditorContext.getNodeEditorComponent():jetbrains.mps.nodeEditor.EditorComponent" resolveInfo="getNodeEditorComponent" />
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1231694398387">
                <link role="baseMethodDeclaration" targetNodeId="9.~EditorComponent.changeSelection(jetbrains.mps.nodeEditor.cells.EditorCell):void" resolveInfo="changeSelection" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1231694400232">
                  <link role="variableDeclaration" targetNodeId="1231694378058" resolveInfo="cell" />
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1231694405061">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1231694405485">
              <node role="operand" type="jetbrains.mps.lang.editor.structure.CellActionMap_FunctionParm_selectedNode" id="1231694405062" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_DeleteOperation" id="1231694406831" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
</model>

