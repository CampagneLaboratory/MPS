package jetbrains.mps.internal.collections.runtime;

/*Generated by MPS */

import java.util.Comparator;

public class SelectComparator<T> implements Comparator<T> {
  private final ISelector<T, Comparable<?>> selector;

  public SelectComparator(ISelector<T, Comparable<?>> selector) {
    this.selector = selector;
  }

  @SuppressWarnings(value = "unchecked")
  public int compare(T a, T b) {
    if (a == b) {
      return 0;
    }
    if (a == null || b == null) {
      return (a == null ?
        -1 :
        1
      );
    }
    Comparable<Object> cmpa = (Comparable<Object>) selector.select(a);
    Comparable<Object> cmpb = (Comparable<Object>) selector.select(b);
    if (cmpa == cmpb) {
      return 0;
    }
    if (cmpa == null || cmpb == null) {
      return (cmpa == null ?
        -1 :
        1
      );
    }
    return cmpa.compareTo(cmpb);
  }
}
