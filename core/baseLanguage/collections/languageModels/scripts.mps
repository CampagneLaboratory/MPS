<?xml version="1.0" encoding="UTF-8"?>
<model modelUID="r:00000000-0000-4000-0000-011c8959032d(jetbrains.mps.baseLanguage.collections.scripts)">
  <persistence version="3" />
  <refactoringHistory />
  <language namespace="0eddeefa-c2d6-4437-bc2c-de50fd4ce470(jetbrains.mps.lang.script)" />
  <language namespace="7866978e-a0f0-4cc7-81bc-4d213d9375e1(jetbrains.mps.lang.smodel)" />
  <language namespace="7a5dda62-9140-4668-ab76-d5ed1746f2b2(jetbrains.mps.lang.typesystem)" />
  <language namespace="f3061a53-9226-4cc5-a443-f952ceaf5816(jetbrains.mps.baseLanguage)" />
  <language namespace="d4615e3b-d671-4ba9-af01-2b78369b0ba7(jetbrains.mps.lang.pattern)" />
  <language namespace="b401a680-8325-4110-8fd3-84331ff25bef(jetbrains.mps.lang.generator)" />
  <language namespace="3a13115c-633c-4c5c-bbcc-75c4219e9555(jetbrains.mps.lang.quotation)" />
  <language namespace="ceab5195-25ea-4f22-9b92-103b95ca8c0c(jetbrains.mps.lang.core)" />
  <language namespace="fd392034-7849-419d-9071-12563d152375(jetbrains.mps.baseLanguage.closures)" />
  <language namespace="83888646-71ce-4f1c-9c53-c54016f6ad4f(jetbrains.mps.baseLanguage.collections)" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959031e(jetbrains.mps.lang.script.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590328(jetbrains.mps.baseLanguage.collections.constraints)" version="6" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959032e(jetbrains.mps.baseLanguage.collections.structure)" version="4" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902fb(jetbrains.mps.lang.smodel.constraints)" version="21" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590301(jetbrains.mps.lang.smodel.structure)" version="16" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902c1(jetbrains.mps.baseLanguage.constraints)" version="83" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ca(jetbrains.mps.baseLanguage.structure)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590283(jetbrains.mps.lang.core.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959028c(jetbrains.mps.lang.structure.constraints)" version="11" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590307(jetbrains.mps.lang.constraints.constraints)" version="9" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959030d(jetbrains.mps.lang.constraints.structure)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959034f(jetbrains.mps.lang.intentions.constraints)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ae(jetbrains.mps.lang.typesystem.constraints)" version="17" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902e8(jetbrains.mps.lang.generator.structure)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590338(jetbrains.mps.baseLanguage.closures.structure)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590340(jetbrains.mps.lang.pattern.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ba(jetbrains.mps.lang.sharedConcepts.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590334(jetbrains.mps.baseLanguage.closures.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902db(jetbrains.mps.baseLanguage.blTypes.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590292(jetbrains.mps.lang.structure.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959033d(jetbrains.mps.lang.annotations.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590345(jetbrains.mps.lang.pattern.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590323(jetbrains.mps.lang.script.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902b4(jetbrains.mps.lang.typesystem.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959034b(jetbrains.mps.lang.quotation.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902e2(jetbrains.mps.lang.generator.constraints)" version="16" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902f3(jetbrains.mps.lang.generator.generationContext.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902bc(jetbrains.mps.lang.sharedConcepts.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895903fe(jetbrains.mps.baseLanguage.strings.constraints)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590402(jetbrains.mps.baseLanguage.strings.structure)" version="9" />
  <maxImportIndex value="22" />
  <import index="1" modelUID="r:00000000-0000-4000-0000-011c8959032e(jetbrains.mps.baseLanguage.collections.structure)" version="4" />
  <import index="11" modelUID="r:00000000-0000-4000-0000-011c895902ca(jetbrains.mps.baseLanguage.structure)" version="1" />
  <import index="15" modelUID="r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)" version="0" />
  <import index="16" modelUID="r:00000000-0000-4000-0000-011c89590338(jetbrains.mps.baseLanguage.closures.structure)" version="2" />
  <import index="18" modelUID="f:java_stub#java.util(java.util@java_stub)" version="-1" />
  <import index="19" modelUID="f:java_stub#java.lang(java.lang@java_stub)" version="-1" />
  <import index="20" modelUID="f:java_stub#java.io(java.io@java_stub)" version="-1" />
  <import index="21" modelUID="f:java_stub#jetbrains.mps.smodel(jetbrains.mps.smodel@java_stub)" version="-1" />
  <import index="22" modelUID="r:00000000-0000-4000-0000-011c89590282(jetbrains.mps.lang.core.behavior)" version="-1" />
  <node type="jetbrains.mps.lang.script.structure.MigrationScript" id="1224177110613">
    <property name="migrationFromBuild" value="1045" />
    <property name="name" value="convert_obsolete_constructs" />
    <property name="category" value="collections" />
    <property name="title" value="Convert obsolete constructs into new ones" />
    <node role="part" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance" id="1224178036954">
      <property name="description" value="replace old closures" />
      <link role="affectedInstanceConcept" targetNodeId="1.1153509719989" resolveInfo="ClosureWithInputElement" />
      <node role="affectedInstanceUpdater" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance_Updater" id="1224178036955">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224178036956">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1224179283287">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1224179283288">
              <property name="name" value="scpd" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1224179283289">
                <link role="concept" targetNodeId="1.1203518072036" resolveInfo="SmartClosureParameterDeclaration" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1224179298383">
                <node role="creator" type="jetbrains.mps.lang.smodel.structure.SNodeCreator" id="1224179298384">
                  <node role="createdType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1224179298385">
                    <link role="concept" targetNodeId="1.1203518072036" resolveInfo="SmartClosureParameterDeclaration" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1224179309955">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224179316383">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224179310574">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1224179309956">
                  <link role="variableDeclaration" targetNodeId="1224179283288" resolveInfo="scpd" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1224179315706">
                  <link role="property" targetNodeId="15.1169194664001" resolveInfo="name" />
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Property_SetOperation" id="1224179317540">
                <node role="value" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224179322946">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224179320098">
                    <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224179320055" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1224179322097">
                      <link role="link" targetNodeId="1.1153511990989" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1224179323799">
                    <link role="property" targetNodeId="15.1169194664001" resolveInfo="name" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1225096105822">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1225096105823">
              <property name="name" value="cl" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1225096105824">
                <link role="concept" targetNodeId="16.1199569711397" resolveInfo="ClosureLiteral" />
              </node>
              <node role="initializer" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225096105825">
                <node role="quotedNode" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1225096105826">
                  <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1225096105827">
                    <node role="type" type="jetbrains.mps.baseLanguage.structure.Type" id="1225096105828" />
                    <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225096105829">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096105830">
                        <link role="variableDeclaration" targetNodeId="1224179283288" resolveInfo="scpd" />
                      </node>
                    </node>
                  </node>
                  <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1225096105831">
                    <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225096105832">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225096105833">
                        <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096105834" />
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225096105835">
                          <link role="link" targetNodeId="11.1137022507850" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1225096113515">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1225096122043">
              <link role="baseMethodDeclaration" targetNodeId="21.~CopyUtil.copyAttributes(jetbrains.mps.smodel.SNode,jetbrains.mps.smodel.SNode):void" resolveInfo="copyAttributes" />
              <link role="classConcept" targetNodeId="21.~CopyUtil" resolveInfo="CopyUtil" />
              <node role="actualArgument" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096124709" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096125840">
                <link role="variableDeclaration" targetNodeId="1225096105823" resolveInfo="cl" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1224179075307">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224179076671">
              <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224179075308" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ReplaceWithAnotherOperation" id="1224179078376">
                <node role="replacementNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096105837">
                  <link role="variableDeclaration" targetNodeId="1225096105823" resolveInfo="cl" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="affectedInstancePredicate" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance_Predicate" id="1225453922936">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1225453922937">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1225454052602">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1225454052603">
              <property name="name" value="cpt" />
              <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1225454052604">
                <link role="classifier" targetNodeId="18.~List" resolveInfo="List" />
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.SConceptType" id="1225454332974" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1225454069186">
                <link role="baseMethodDeclaration" targetNodeId="18.~Arrays.asList(java.lang.Object...):java.util.List" resolveInfo="asList" />
                <link role="classConcept" targetNodeId="18.~Arrays" resolveInfo="Arrays" />
                <node role="actualArgument" type="jetbrains.mps.lang.smodel.structure.ConceptRefExpression" id="1225454073440">
                  <link role="conceptDeclaration" targetNodeId="1.1153513461623" resolveInfo="ForEachBlock" />
                </node>
                <node role="actualArgument" type="jetbrains.mps.lang.smodel.structure.ConceptRefExpression" id="1225454080004">
                  <link role="conceptDeclaration" targetNodeId="1.1152906997013" resolveInfo="MapperBlock" />
                </node>
                <node role="actualArgument" type="jetbrains.mps.lang.smodel.structure.ConceptRefExpression" id="1225454086172">
                  <link role="conceptDeclaration" targetNodeId="1.1153779885165" resolveInfo="SelectorBlock" />
                </node>
                <node role="actualArgument" type="jetbrains.mps.lang.smodel.structure.ConceptRefExpression" id="1225454100451">
                  <link role="conceptDeclaration" targetNodeId="1.1168502774204" resolveInfo="SortBlock" />
                </node>
                <node role="actualArgument" type="jetbrains.mps.lang.smodel.structure.ConceptRefExpression" id="1225454109611">
                  <link role="conceptDeclaration" targetNodeId="1.1153760673252" resolveInfo="WhereBlock" />
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1225454132209">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225454154155">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225454153585">
                <link role="variableDeclaration" targetNodeId="1225454052603" resolveInfo="cpt" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1225454164836">
                <link role="baseMethodDeclaration" targetNodeId="18.~List.contains(java.lang.Object):boolean" resolveInfo="contains" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225454185388">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225454171306">
                    <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225454171184" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1225454184661" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetConceptOperation" id="1225454189329" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="part" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance" id="1224579182474">
      <property name="description" value="replace old closures (forEach)" />
      <link role="affectedInstanceConcept" targetNodeId="1.1153513461623" resolveInfo="ForEachBlock" />
      <node role="affectedInstanceUpdater" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance_Updater" id="1224579182475">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224579182476">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1224579200516">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1224579200517">
              <property name="name" value="scpd" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1224579200518">
                <link role="concept" targetNodeId="1.1203518072036" resolveInfo="SmartClosureParameterDeclaration" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1224579200519">
                <node role="creator" type="jetbrains.mps.lang.smodel.structure.SNodeCreator" id="1224579200520">
                  <node role="createdType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1224579200521">
                    <link role="concept" targetNodeId="1.1203518072036" resolveInfo="SmartClosureParameterDeclaration" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1224579200522">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579200523">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579200524">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1224579200525">
                  <link role="variableDeclaration" targetNodeId="1224579200517" resolveInfo="scpd" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1224579200526">
                  <link role="property" targetNodeId="15.1169194664001" resolveInfo="name" />
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Property_SetOperation" id="1224579200527">
                <node role="value" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579200528">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579200529">
                    <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224579200530" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1224579200531">
                      <link role="link" targetNodeId="1.1153511990989" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1224579200532">
                    <link role="property" targetNodeId="15.1169194664001" resolveInfo="name" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1225096144860">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1225096144861">
              <property name="name" value="cl" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1225096144862">
                <link role="concept" targetNodeId="16.1199569711397" resolveInfo="ClosureLiteral" />
              </node>
              <node role="initializer" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225096144863">
                <node role="quotedNode" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1225096144864">
                  <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1225096144865">
                    <node role="type" type="jetbrains.mps.baseLanguage.structure.Type" id="1225096144866" />
                    <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225096144867">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096144868">
                        <link role="variableDeclaration" targetNodeId="1224579200517" resolveInfo="scpd" />
                      </node>
                    </node>
                  </node>
                  <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1225096144869">
                    <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225096144870">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225096144871">
                        <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096144872" />
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225096144873">
                          <link role="link" targetNodeId="11.1137022507850" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1225096152229">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1225096152230">
              <link role="baseMethodDeclaration" targetNodeId="21.~CopyUtil.copyAttributes(jetbrains.mps.smodel.SNode,jetbrains.mps.smodel.SNode):void" resolveInfo="copyAttributes" />
              <link role="classConcept" targetNodeId="21.~CopyUtil" resolveInfo="CopyUtil" />
              <node role="actualArgument" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096152231" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096152232">
                <link role="variableDeclaration" targetNodeId="1225096144861" resolveInfo="cl" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1224579200533">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579200534">
              <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224579200535" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ReplaceWithAnotherOperation" id="1224579200536">
                <node role="replacementNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096144874">
                  <link role="variableDeclaration" targetNodeId="1225096144861" resolveInfo="cl" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="part" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance" id="1224579209944">
      <property name="description" value="replace old closures (map)" />
      <link role="affectedInstanceConcept" targetNodeId="1.1152906997013" resolveInfo="MapperBlock" />
      <node role="affectedInstanceUpdater" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance_Updater" id="1224579209945">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224579209946">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1224579229940">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1224579229941">
              <property name="name" value="scpd" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1224579229942">
                <link role="concept" targetNodeId="1.1203518072036" resolveInfo="SmartClosureParameterDeclaration" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1224579229943">
                <node role="creator" type="jetbrains.mps.lang.smodel.structure.SNodeCreator" id="1224579229944">
                  <node role="createdType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1224579229945">
                    <link role="concept" targetNodeId="1.1203518072036" resolveInfo="SmartClosureParameterDeclaration" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1224579229946">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579229947">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579229948">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1224579229949">
                  <link role="variableDeclaration" targetNodeId="1224579229941" resolveInfo="scpd" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1224579229950">
                  <link role="property" targetNodeId="15.1169194664001" resolveInfo="name" />
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Property_SetOperation" id="1224579229951">
                <node role="value" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579229952">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579229953">
                    <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224579229954" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1224579229955">
                      <link role="link" targetNodeId="1.1153511990989" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1224579229956">
                    <link role="property" targetNodeId="15.1169194664001" resolveInfo="name" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1225096182509">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1225096182510">
              <property name="name" value="cl" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1225096182511">
                <link role="concept" targetNodeId="16.1199569711397" resolveInfo="ClosureLiteral" />
              </node>
              <node role="initializer" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225096182512">
                <node role="quotedNode" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1225096182513">
                  <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1225096182514">
                    <node role="type" type="jetbrains.mps.baseLanguage.structure.Type" id="1225096182515" />
                    <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225096182516">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096182517">
                        <link role="variableDeclaration" targetNodeId="1224579229941" resolveInfo="scpd" />
                      </node>
                    </node>
                  </node>
                  <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1225096182518">
                    <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225096182519">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225096182520">
                        <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096182521" />
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225096182522">
                          <link role="link" targetNodeId="11.1137022507850" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1225096184294">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1225096184295">
              <link role="baseMethodDeclaration" targetNodeId="21.~CopyUtil.copyAttributes(jetbrains.mps.smodel.SNode,jetbrains.mps.smodel.SNode):void" resolveInfo="copyAttributes" />
              <link role="classConcept" targetNodeId="21.~CopyUtil" resolveInfo="CopyUtil" />
              <node role="actualArgument" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096184296" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096184297">
                <link role="variableDeclaration" targetNodeId="1225096182510" resolveInfo="cl" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1224579229957">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579229958">
              <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224579229959" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ReplaceWithAnotherOperation" id="1224579229960">
                <node role="replacementNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096182524">
                  <link role="variableDeclaration" targetNodeId="1225096182510" resolveInfo="cl" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="part" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance" id="1224579231724">
      <property name="description" value="replace old closures (select)" />
      <link role="affectedInstanceConcept" targetNodeId="1.1153779885165" resolveInfo="SelectorBlock" />
      <node role="affectedInstanceUpdater" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance_Updater" id="1224579231725">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224579231726">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1224579244167">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1224579244168">
              <property name="name" value="scpd" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1224579244169">
                <link role="concept" targetNodeId="1.1203518072036" resolveInfo="SmartClosureParameterDeclaration" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1224579244170">
                <node role="creator" type="jetbrains.mps.lang.smodel.structure.SNodeCreator" id="1224579244171">
                  <node role="createdType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1224579244172">
                    <link role="concept" targetNodeId="1.1203518072036" resolveInfo="SmartClosureParameterDeclaration" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1224579244173">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579244174">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579244175">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1224579244176">
                  <link role="variableDeclaration" targetNodeId="1224579244168" resolveInfo="scpd" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1224579244177">
                  <link role="property" targetNodeId="15.1169194664001" resolveInfo="name" />
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Property_SetOperation" id="1224579244178">
                <node role="value" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579244179">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579244180">
                    <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224579244181" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1224579244182">
                      <link role="link" targetNodeId="1.1153511990989" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1224579244183">
                    <link role="property" targetNodeId="15.1169194664001" resolveInfo="name" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1225096192634">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1225096192635">
              <property name="name" value="cl" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1225096192636">
                <link role="concept" targetNodeId="16.1199569711397" resolveInfo="ClosureLiteral" />
              </node>
              <node role="initializer" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225096192637">
                <node role="quotedNode" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1225096192638">
                  <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1225096192639">
                    <node role="type" type="jetbrains.mps.baseLanguage.structure.Type" id="1225096192640" />
                    <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225096192641">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096192642">
                        <link role="variableDeclaration" targetNodeId="1224579244168" resolveInfo="scpd" />
                      </node>
                    </node>
                  </node>
                  <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1225096192643">
                    <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225096192644">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225096192645">
                        <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096192646" />
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225096192647">
                          <link role="link" targetNodeId="11.1137022507850" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1225096194357">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1225096194358">
              <link role="baseMethodDeclaration" targetNodeId="21.~CopyUtil.copyAttributes(jetbrains.mps.smodel.SNode,jetbrains.mps.smodel.SNode):void" resolveInfo="copyAttributes" />
              <link role="classConcept" targetNodeId="21.~CopyUtil" resolveInfo="CopyUtil" />
              <node role="actualArgument" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096194359" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096194360">
                <link role="variableDeclaration" targetNodeId="1225096192635" resolveInfo="cl" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1224579244184">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579244185">
              <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224579244186" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ReplaceWithAnotherOperation" id="1224579244187">
                <node role="replacementNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096192648">
                  <link role="variableDeclaration" targetNodeId="1225096192635" resolveInfo="cl" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="part" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance" id="1224579246576">
      <property name="description" value="replace old closures (sort)" />
      <link role="affectedInstanceConcept" targetNodeId="1.1168502774204" resolveInfo="SortBlock" />
      <node role="affectedInstanceUpdater" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance_Updater" id="1224579246577">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224579246578">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1224579271948">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1224579271949">
              <property name="name" value="scpd" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1224579271950">
                <link role="concept" targetNodeId="1.1203518072036" resolveInfo="SmartClosureParameterDeclaration" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1224579271951">
                <node role="creator" type="jetbrains.mps.lang.smodel.structure.SNodeCreator" id="1224579271952">
                  <node role="createdType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1224579271953">
                    <link role="concept" targetNodeId="1.1203518072036" resolveInfo="SmartClosureParameterDeclaration" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1224579271954">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579271955">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579271956">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1224579271957">
                  <link role="variableDeclaration" targetNodeId="1224579271949" resolveInfo="scpd" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1224579271958">
                  <link role="property" targetNodeId="15.1169194664001" resolveInfo="name" />
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Property_SetOperation" id="1224579271959">
                <node role="value" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579271960">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579271961">
                    <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224579271962" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1224579271963">
                      <link role="link" targetNodeId="1.1153511990989" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1224579271964">
                    <link role="property" targetNodeId="15.1169194664001" resolveInfo="name" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1225096200054">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1225096200055">
              <property name="name" value="cl" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1225096200056">
                <link role="concept" targetNodeId="16.1199569711397" resolveInfo="ClosureLiteral" />
              </node>
              <node role="initializer" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225096200057">
                <node role="quotedNode" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1225096200058">
                  <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1225096200059">
                    <node role="type" type="jetbrains.mps.baseLanguage.structure.Type" id="1225096200060" />
                    <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225096200061">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096200062">
                        <link role="variableDeclaration" targetNodeId="1224579271949" resolveInfo="scpd" />
                      </node>
                    </node>
                  </node>
                  <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1225096200063">
                    <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225096200064">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225096200065">
                        <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096200066" />
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225096200067">
                          <link role="link" targetNodeId="11.1137022507850" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1225096202223">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1225096202224">
              <link role="baseMethodDeclaration" targetNodeId="21.~CopyUtil.copyAttributes(jetbrains.mps.smodel.SNode,jetbrains.mps.smodel.SNode):void" resolveInfo="copyAttributes" />
              <link role="classConcept" targetNodeId="21.~CopyUtil" resolveInfo="CopyUtil" />
              <node role="actualArgument" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096202225" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096202226">
                <link role="variableDeclaration" targetNodeId="1225096200055" resolveInfo="cl" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1224579271965">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579271966">
              <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224579271967" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ReplaceWithAnotherOperation" id="1224579271968">
                <node role="replacementNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096200068">
                  <link role="variableDeclaration" targetNodeId="1225096200055" resolveInfo="cl" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="part" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance" id="1224579274516">
      <property name="description" value="replace old closures (where)" />
      <link role="affectedInstanceConcept" targetNodeId="1.1153760673252" resolveInfo="WhereBlock" />
      <node role="affectedInstanceUpdater" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance_Updater" id="1224579274517">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224579274518">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1224579300887">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1224579300888">
              <property name="name" value="scpd" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1224579300889">
                <link role="concept" targetNodeId="1.1203518072036" resolveInfo="SmartClosureParameterDeclaration" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1224579300890">
                <node role="creator" type="jetbrains.mps.lang.smodel.structure.SNodeCreator" id="1224579300891">
                  <node role="createdType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1224579300892">
                    <link role="concept" targetNodeId="1.1203518072036" resolveInfo="SmartClosureParameterDeclaration" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1224579300893">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579300894">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579300895">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1224579300896">
                  <link role="variableDeclaration" targetNodeId="1224579300888" resolveInfo="scpd" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1224579300897">
                  <link role="property" targetNodeId="15.1169194664001" resolveInfo="name" />
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Property_SetOperation" id="1224579300898">
                <node role="value" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579300899">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579300900">
                    <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224579300901" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1224579300902">
                      <link role="link" targetNodeId="1.1153511990989" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1224579300903">
                    <link role="property" targetNodeId="15.1169194664001" resolveInfo="name" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1225096207795">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1225096207796">
              <property name="name" value="cl" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1225096207797">
                <link role="concept" targetNodeId="16.1199569711397" resolveInfo="ClosureLiteral" />
              </node>
              <node role="initializer" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225096207798">
                <node role="quotedNode" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1225096207799">
                  <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1225096207800">
                    <node role="type" type="jetbrains.mps.baseLanguage.structure.Type" id="1225096207801" />
                    <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225096207802">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096207803">
                        <link role="variableDeclaration" targetNodeId="1224579300888" resolveInfo="scpd" />
                      </node>
                    </node>
                  </node>
                  <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1225096207804">
                    <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225096207805">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225096207806">
                        <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096207807" />
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225096207808">
                          <link role="link" targetNodeId="11.1137022507850" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1225096209958">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1225096209959">
              <link role="baseMethodDeclaration" targetNodeId="21.~CopyUtil.copyAttributes(jetbrains.mps.smodel.SNode,jetbrains.mps.smodel.SNode):void" resolveInfo="copyAttributes" />
              <link role="classConcept" targetNodeId="21.~CopyUtil" resolveInfo="CopyUtil" />
              <node role="actualArgument" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096209960" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096209961">
                <link role="variableDeclaration" targetNodeId="1225096207796" resolveInfo="cl" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1224579300904">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579300905">
              <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224579300906" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ReplaceWithAnotherOperation" id="1224579300907">
                <node role="replacementNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096207809">
                  <link role="variableDeclaration" targetNodeId="1225096207796" resolveInfo="cl" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="part" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance" id="1224179429139">
      <property name="description" value="replace closure parameters" />
      <link role="affectedInstanceConcept" targetNodeId="11.1153179560115" resolveInfo="ClosureParameterReference" />
      <node role="affectedInstanceUpdater" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance_Updater" id="1224179429140">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224179429141">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1224181136952">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1224181136953">
              <property name="name" value="cls" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1224181136954">
                <link role="concept" targetNodeId="15.1133920641626" resolveInfo="BaseConcept" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224181136955">
                <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224181136956" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1224181136957">
                  <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_ConceptList" id="1224181136958">
                    <node role="concept" type="jetbrains.mps.lang.smodel.structure.ConceptReference" id="1224181136959">
                      <link role="concept" targetNodeId="1.1153509719989" resolveInfo="ClosureWithInputElement" />
                    </node>
                    <node role="concept" type="jetbrains.mps.lang.smodel.structure.ConceptReference" id="1224181136960">
                      <link role="concept" targetNodeId="16.1199569711397" resolveInfo="ClosureLiteral" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1224181933026">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1224181933027">
              <property name="name" value="done" />
              <node role="type" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1224181933028" />
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1224181938568">
                <property name="value" value="false" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1224181139520">
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224181139521">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ForeachStatement" id="1224181260233">
                <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224181260234">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1224181268976">
                    <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224181268977">
                      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1225096400490">
                        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1225096400491">
                          <property name="name" value="pd" />
                          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1225096400492">
                            <link role="concept" targetNodeId="11.1068581242874" resolveInfo="ParameterReference" />
                          </node>
                          <node role="initializer" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225096400493">
                            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1225096400494">
                              <node role="referenceAntiquotation$link_attribute$variableDeclaration" type="jetbrains.mps.lang.quotation.structure.ReferenceAntiquotation" id="1225096400495">
                                <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096400496">
                                  <link role="variableDeclaration" targetNodeId="1224181260237" resolveInfo="p" />
                                </node>
                              </node>
                            </node>
                          </node>
                        </node>
                      </node>
                      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1225096403252">
                        <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1225096403253">
                          <link role="baseMethodDeclaration" targetNodeId="21.~CopyUtil.copyAttributes(jetbrains.mps.smodel.SNode,jetbrains.mps.smodel.SNode):void" resolveInfo="copyAttributes" />
                          <link role="classConcept" targetNodeId="21.~CopyUtil" resolveInfo="CopyUtil" />
                          <node role="actualArgument" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096403254" />
                          <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096403255">
                            <link role="variableDeclaration" targetNodeId="1225096400491" resolveInfo="cl" />
                          </node>
                        </node>
                      </node>
                      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1224181166965">
                        <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224181167025">
                          <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224181166966" />
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ReplaceWithAnotherOperation" id="1224181172970">
                            <node role="replacementNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096400497">
                              <link role="variableDeclaration" targetNodeId="1225096400491" resolveInfo="cl" />
                            </node>
                          </node>
                        </node>
                      </node>
                      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1224181946868">
                        <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1224181947993">
                          <node role="rValue" type="jetbrains.mps.baseLanguage.structure.BooleanConstant" id="1224181949311">
                            <property name="value" value="true" />
                          </node>
                          <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1224181946869">
                            <link role="variableDeclaration" targetNodeId="1224181933027" resolveInfo="done" />
                          </node>
                        </node>
                      </node>
                      <node role="statement" type="jetbrains.mps.baseLanguage.structure.BreakStatement" id="1224181618180" />
                    </node>
                    <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224181553080">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224181551312">
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1224181551250">
                          <link role="variableDeclaration" targetNodeId="1224181260237" resolveInfo="p" />
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1224181552398">
                          <link role="property" targetNodeId="15.1169194664001" resolveInfo="name" />
                        </node>
                      </node>
                      <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1224181554601">
                        <link role="baseMethodDeclaration" targetNodeId="19.~String.equals(java.lang.Object):boolean" resolveInfo="equals" />
                        <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224181563710">
                          <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224181557531">
                            <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224181557484" />
                            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1224181563208">
                              <link role="link" targetNodeId="11.1153179615652" />
                            </node>
                          </node>
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.SPropertyAccess" id="1224181564459">
                            <link role="property" targetNodeId="15.1169194664001" resolveInfo="name" />
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
                <node role="variable" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1224181260237">
                  <property name="name" value="p" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1224181261674">
                    <link role="concept" targetNodeId="11.1068498886292" resolveInfo="ParameterDeclaration" />
                  </node>
                </node>
                <node role="iterable" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224181267084">
                  <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1224181267085">
                    <link role="concept" targetNodeId="16.1199569711397" resolveInfo="ClosureLiteral" />
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1224181267086">
                      <link role="variableDeclaration" targetNodeId="1224181136953" resolveInfo="cls" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkListAccess" id="1224181267087">
                    <link role="link" targetNodeId="16.1199569906740" />
                  </node>
                </node>
              </node>
            </node>
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224181140804">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1224181140285">
                <link role="variableDeclaration" targetNodeId="1224181136953" resolveInfo="cls" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1224181141969">
                <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1224181145202">
                  <link role="conceptDeclaration" targetNodeId="16.1199569711397" resolveInfo="ClosureLiteral" />
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1224181961108">
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224181961109">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1224181997702">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224182000335">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.StaticFieldReference" id="1224181997703">
                    <link role="classifier" targetNodeId="19.~System" resolveInfo="System" />
                    <link role="variableDeclaration" targetNodeId="19.~System.err" resolveInfo="err" />
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1224182004227">
                    <link role="baseMethodDeclaration" targetNodeId="20.~PrintStream.println(java.lang.String):void" resolveInfo="println" />
                    <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.PlusExpression" id="1224182027673">
                      <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.PlusExpression" id="1224182038866">
                        <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.PlusExpression" id="1224182044660">
                          <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224182053905">
                            <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1224182053166">
                              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224182045652">
                                <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224182045606" />
                                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetModelOperation" id="1224182049996" />
                              </node>
                            </node>
                            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1224182076961">
                              <link role="baseMethodDeclaration" targetNodeId="21.~SModel.getSModelFqName():jetbrains.mps.smodel.SModelFqName" resolveInfo="getSModelFqName" />
                            </node>
                          </node>
                          <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1224182039398">
                            <property name="value" value=" in model " />
                          </node>
                        </node>
                        <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224182028668">
                          <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224182028620" />
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1224182030126">
                            <link role="baseMethodDeclaration" targetNodeId="22.1213877396640" resolveInfo="getPresentation" />
                          </node>
                        </node>
                      </node>
                      <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1224182005704">
                        <property name="value" value="*** Couldn't convert ClosureParameterReference " />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotExpression" id="1224181964327">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1224181965137">
                <link role="variableDeclaration" targetNodeId="1224181933027" resolveInfo="done" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="part" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance" id="1224427778716">
      <property name="description" value="replace sequence creator" />
      <link role="affectedInstanceConcept" targetNodeId="1.1152141311721" resolveInfo="SequenceCreatorWithSupplier" />
      <node role="affectedInstanceUpdater" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance_Updater" id="1224427778717">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224427778718">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1224427845356">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1224427845357">
              <property name="name" value="elementType" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1224427845358">
                <link role="concept" targetNodeId="11.1068431790189" resolveInfo="Type" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224427845359">
                <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224427845360" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1224427845361">
                  <link role="link" targetNodeId="1.1207756918186" />
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1224579953788">
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224579953789">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1224579974132">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1224579974133">
                  <property name="name" value="st" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1224579974134">
                    <link role="concept" targetNodeId="1.1151689724996" resolveInfo="SequenceType" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.lang.typesystem.structure.CoerceExpression" id="1224579974135">
                    <node role="pattern" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1224579974136">
                      <property name="name" value="ignored" />
                      <link role="concept" targetNodeId="1.1151689724996" resolveInfo="SequenceType" />
                    </node>
                    <node role="nodeToCoerce" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579974137">
                      <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224579974138" />
                      <node role="operation" type="jetbrains.mps.lang.typesystem.structure.Node_TypeOperation" id="1224579974139" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1224579974140">
                <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224579974141">
                  <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1224579994640">
                    <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1224579996610">
                      <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579999961">
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579998308">
                          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1224579998050">
                            <link role="variableDeclaration" targetNodeId="1224579974133" resolveInfo="st" />
                          </node>
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1224579999409">
                            <link role="link" targetNodeId="1.1151689745422" />
                          </node>
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_CopyOperation" id="1224580000949" />
                      </node>
                      <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1224579994641">
                        <link role="variableDeclaration" targetNodeId="1224427845357" resolveInfo="elementType" />
                      </node>
                    </node>
                  </node>
                </node>
                <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579974153">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1224579974154">
                    <link role="variableDeclaration" targetNodeId="1224579974133" resolveInfo="st" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsNotNullOperation" id="1224579974155" />
                </node>
              </node>
            </node>
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579956226">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1224579955255">
                <link role="variableDeclaration" targetNodeId="1224427845357" resolveInfo="elementType" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsNullOperation" id="1224579957481" />
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1224427850929">
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224427850930">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1225096420192">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1225096420193">
                  <property name="name" value="sc" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1225096420194">
                    <link role="concept" targetNodeId="1.1224414427926" resolveInfo="SequenceCreator" />
                  </node>
                  <node role="initializer" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225096420195">
                    <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceCreator" id="1225096420196">
                      <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1225096420197">
                        <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225096420198">
                          <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096420199">
                            <link role="variableDeclaration" targetNodeId="1224427845357" resolveInfo="elementType" />
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1225096421763">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1225096421764">
                  <link role="baseMethodDeclaration" targetNodeId="21.~CopyUtil.copyAttributes(jetbrains.mps.smodel.SNode,jetbrains.mps.smodel.SNode):void" resolveInfo="copyAttributes" />
                  <link role="classConcept" targetNodeId="21.~CopyUtil" resolveInfo="CopyUtil" />
                  <node role="actualArgument" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096421765" />
                  <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096421766">
                    <link role="variableDeclaration" targetNodeId="1225096420193" resolveInfo="cl" />
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1224427797639">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224427797813">
                  <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224427797640" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ReplaceWithAnotherOperation" id="1224427804295">
                    <node role="replacementNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096420200">
                      <link role="variableDeclaration" targetNodeId="1225096420193" resolveInfo="cl" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1224427884665">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1224427884836">
                <property name="value" value="0" />
              </node>
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224427873188">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224427870338">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224427868038">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224427852109">
                      <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224427852052" />
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1224427866975">
                        <link role="link" targetNodeId="1.1152141373004" />
                      </node>
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1224427869347">
                      <link role="link" targetNodeId="11.1137022507850" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkListAccess" id="1224427870983">
                    <link role="link" targetNodeId="11.1068581517665" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.LinkList_GetCountOperation" id="1224427883316" />
              </node>
            </node>
            <node role="ifFalseStatement" type="jetbrains.mps.baseLanguage.structure.BlockStatement" id="1224427922613">
              <node role="statements" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224427922614">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1225096432326">
                  <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1225096432327">
                    <property name="name" value="sc" />
                    <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1225096432328">
                      <link role="concept" targetNodeId="1.1224414427926" resolveInfo="SequenceCreator" />
                    </node>
                    <node role="initializer" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225096432329">
                      <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceCreator" id="1225096432330">
                        <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1225096432331">
                          <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225096432332">
                            <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096432333">
                              <link role="variableDeclaration" targetNodeId="1224427845357" resolveInfo="elementType" />
                            </node>
                          </node>
                        </node>
                        <node role="initializer" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1225096432334">
                          <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1225096432335">
                            <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225096432336">
                              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225096432337">
                                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225096432338">
                                  <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096432339" />
                                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225096432340">
                                    <link role="link" targetNodeId="1.1152141373004" />
                                  </node>
                                </node>
                                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225096432341">
                                  <link role="link" targetNodeId="11.1137022507850" />
                                </node>
                              </node>
                            </node>
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1225096434049">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1225096434050">
                    <link role="baseMethodDeclaration" targetNodeId="21.~CopyUtil.copyAttributes(jetbrains.mps.smodel.SNode,jetbrains.mps.smodel.SNode):void" resolveInfo="copyAttributes" />
                    <link role="classConcept" targetNodeId="21.~CopyUtil" resolveInfo="CopyUtil" />
                    <node role="actualArgument" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096434051" />
                    <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096434052">
                      <link role="variableDeclaration" targetNodeId="1225096432327" resolveInfo="cl" />
                    </node>
                  </node>
                </node>
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1224427927422">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224427927423">
                    <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224427927424" />
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ReplaceWithAnotherOperation" id="1224427927425">
                      <node role="replacementNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096432343">
                        <link role="variableDeclaration" targetNodeId="1225096432327" resolveInfo="cl" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="part" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance" id="1224579020395">
      <property name="description" value="replace forEach with visitAll" />
      <link role="affectedInstanceConcept" targetNodeId="1.1153513495343" resolveInfo="ForEachOperation" />
      <node role="affectedInstanceUpdater" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance_Updater" id="1224579020396">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224579020397">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1225096451797">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1225096451798">
              <property name="name" value="op" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1225096451799">
                <link role="concept" targetNodeId="1.1204980550705" resolveInfo="VisitAllOperation" />
              </node>
              <node role="initializer" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225096451800">
                <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.VisitAllOperation" id="1225096451801">
                  <node role="closure" type="jetbrains.mps.baseLanguage.structure.Expression" id="1225096451802">
                    <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225096451803">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225096451804">
                        <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096451805" />
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225096451806">
                          <link role="link" targetNodeId="1.1153513533813" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1225096455702">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1225096455703">
              <link role="baseMethodDeclaration" targetNodeId="21.~CopyUtil.copyAttributes(jetbrains.mps.smodel.SNode,jetbrains.mps.smodel.SNode):void" resolveInfo="copyAttributes" />
              <link role="classConcept" targetNodeId="21.~CopyUtil" resolveInfo="CopyUtil" />
              <node role="actualArgument" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096455704" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096455705">
                <link role="variableDeclaration" targetNodeId="1225096451798" resolveInfo="cl" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1224579040006">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579040062">
              <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224579040007" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ReplaceWithAnotherOperation" id="1224579042643">
                <node role="replacementNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096451808">
                  <link role="variableDeclaration" targetNodeId="1225096451798" resolveInfo="cl" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="part" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance" id="1224579471219">
      <property name="description" value="replace map with translate" />
      <link role="affectedInstanceConcept" targetNodeId="1.1152906680026" resolveInfo="MappingOperation" />
      <node role="affectedInstanceUpdater" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance_Updater" id="1224579471220">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224579471221">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1225096488163">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1225096488164">
              <property name="name" value="op" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1225096488165">
                <link role="concept" targetNodeId="1.1201792049884" resolveInfo="TranslateOperation" />
              </node>
              <node role="initializer" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225096488166">
                <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.TranslateOperation" id="1225096488167">
                  <node role="closure" type="jetbrains.mps.baseLanguage.structure.Expression" id="1225096488168">
                    <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225096488169">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225096488170">
                        <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096488171" />
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225096488172">
                          <link role="link" targetNodeId="1.1152907136217" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1225096496995">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1225096496996">
              <link role="baseMethodDeclaration" targetNodeId="21.~CopyUtil.copyAttributes(jetbrains.mps.smodel.SNode,jetbrains.mps.smodel.SNode):void" resolveInfo="copyAttributes" />
              <link role="classConcept" targetNodeId="21.~CopyUtil" resolveInfo="CopyUtil" />
              <node role="actualArgument" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096496997" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096496998">
                <link role="variableDeclaration" targetNodeId="1225096488164" resolveInfo="op" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1224579500211">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579500277">
              <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224579500212" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ReplaceWithAnotherOperation" id="1224579502500">
                <node role="replacementNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096488173">
                  <link role="variableDeclaration" targetNodeId="1225096488164" resolveInfo="op" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="part" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance" id="1224579570240">
      <property name="description" value="replace select with new select" />
      <link role="affectedInstanceConcept" targetNodeId="1.1153779905654" resolveInfo="SelectOperation" />
      <node role="affectedInstanceUpdater" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance_Updater" id="1224579570241">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224579570242">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1225096503358">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1225096503359">
              <property name="name" value="op" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1225096503360">
                <link role="concept" targetNodeId="1.1202128969694" resolveInfo="SelectOperationNew" />
              </node>
              <node role="initializer" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225096503361">
                <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SelectOperationNew" id="1225096503362">
                  <node role="closure" type="jetbrains.mps.baseLanguage.structure.Expression" id="1225096503363">
                    <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225096503364">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225096503365">
                        <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096503366" />
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225096503367">
                          <link role="link" targetNodeId="1.1153779905655" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1225096505038">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1225096505039">
              <link role="baseMethodDeclaration" targetNodeId="21.~CopyUtil.copyAttributes(jetbrains.mps.smodel.SNode,jetbrains.mps.smodel.SNode):void" resolveInfo="copyAttributes" />
              <link role="classConcept" targetNodeId="21.~CopyUtil" resolveInfo="CopyUtil" />
              <node role="actualArgument" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096505040" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096505041">
                <link role="variableDeclaration" targetNodeId="1225096503359" resolveInfo="op" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1224579611817">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579611883">
              <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224579611818" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ReplaceWithAnotherOperation" id="1224579613611">
                <node role="replacementNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096503369">
                  <link role="variableDeclaration" targetNodeId="1225096503359" resolveInfo="op" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="part" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance" id="1224579629844">
      <property name="description" value="replace sort with sortBy" />
      <link role="affectedInstanceConcept" targetNodeId="1.1168502632000" resolveInfo="SortOperation" />
      <node role="affectedInstanceUpdater" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance_Updater" id="1224579629845">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224579629846">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1225096512553">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1225096512554">
              <property name="name" value="op" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1225096512555">
                <link role="concept" targetNodeId="1.1205679737078" resolveInfo="SortOperationNew" />
              </node>
              <node role="initializer" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225096512556">
                <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SortOperationNew" id="1225096512557">
                  <node role="ascending" type="jetbrains.mps.baseLanguage.structure.Expression" id="1225096512558">
                    <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225096512559">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225096512560">
                        <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096512561" />
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225096512562">
                          <link role="link" targetNodeId="1.1171960857530" />
                        </node>
                      </node>
                    </node>
                  </node>
                  <node role="closure" type="jetbrains.mps.baseLanguage.structure.Expression" id="1225096512563">
                    <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225096512564">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225096512565">
                        <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096512566" />
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225096512567">
                          <link role="link" targetNodeId="1.1168502800721" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1225096513814">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1225096513815">
              <link role="baseMethodDeclaration" targetNodeId="21.~CopyUtil.copyAttributes(jetbrains.mps.smodel.SNode,jetbrains.mps.smodel.SNode):void" resolveInfo="copyAttributes" />
              <link role="classConcept" targetNodeId="21.~CopyUtil" resolveInfo="CopyUtil" />
              <node role="actualArgument" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096513816" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096513817">
                <link role="variableDeclaration" targetNodeId="1225096512554" resolveInfo="op" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1224579660132">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579660206">
              <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224579660133" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ReplaceWithAnotherOperation" id="1224579662197">
                <node role="replacementNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096512568">
                  <link role="variableDeclaration" targetNodeId="1225096512554" resolveInfo="op" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="part" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance" id="1224579762029">
      <property name="description" value="replace where with new where" />
      <link role="affectedInstanceConcept" targetNodeId="1.1153760737019" resolveInfo="WhereOperation" />
      <node role="affectedInstanceUpdater" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance_Updater" id="1224579762030">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224579762031">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1225096521577">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1225096521578">
              <property name="name" value="op" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1225096521579">
                <link role="concept" targetNodeId="1.1202120902084" resolveInfo="WhereOperationNew" />
              </node>
              <node role="initializer" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225096521580">
                <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.WhereOperationNew" id="1225096521581">
                  <node role="closure" type="jetbrains.mps.baseLanguage.structure.Expression" id="1225096521582">
                    <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225096521583">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225096521584">
                        <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096521585" />
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225096521586">
                          <link role="link" targetNodeId="1.1153760925150" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1225096523121">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1225096523122">
              <link role="baseMethodDeclaration" targetNodeId="21.~CopyUtil.copyAttributes(jetbrains.mps.smodel.SNode,jetbrains.mps.smodel.SNode):void" resolveInfo="copyAttributes" />
              <link role="classConcept" targetNodeId="21.~CopyUtil" resolveInfo="CopyUtil" />
              <node role="actualArgument" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096523123" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096523124">
                <link role="variableDeclaration" targetNodeId="1225096521578" resolveInfo="op" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1224579774245">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224579774314">
              <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224579774246" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ReplaceWithAnotherOperation" id="1224579777133">
                <node role="replacementNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096521588">
                  <link role="variableDeclaration" targetNodeId="1225096521578" resolveInfo="op" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="part" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance" id="1224429619918">
      <property name="description" value="replace traversal yield statement" />
      <link role="affectedInstanceConcept" targetNodeId="1.1152141063573" resolveInfo="TraversalYieldStatement" />
      <node role="affectedInstanceUpdater" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance_Updater" id="1224429619919">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224429619920">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1225096528341">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1225096528342">
              <property name="name" value="op" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1225096528343">
                <link role="concept" targetNodeId="16.1200830824066" resolveInfo="YieldStatement" />
              </node>
              <node role="initializer" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225096528344">
                <node role="quotedNode" type="jetbrains.mps.baseLanguage.closures.structure.YieldStatement" id="1225096528345">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.Expression" id="1225096528346">
                    <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225096528347">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225096528348">
                        <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096528349" />
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225096528350">
                          <link role="link" targetNodeId="1.1152141234220" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1225096529706">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1225096529707">
              <link role="baseMethodDeclaration" targetNodeId="21.~CopyUtil.copyAttributes(jetbrains.mps.smodel.SNode,jetbrains.mps.smodel.SNode):void" resolveInfo="copyAttributes" />
              <link role="classConcept" targetNodeId="21.~CopyUtil" resolveInfo="CopyUtil" />
              <node role="actualArgument" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096529708" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096529709">
                <link role="variableDeclaration" targetNodeId="1225096528342" resolveInfo="op" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1224429641238">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224429641385">
              <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1224429641239" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ReplaceWithAnotherOperation" id="1224429643570">
                <node role="replacementNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096528351">
                  <link role="variableDeclaration" targetNodeId="1225096528342" resolveInfo="op" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="part" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance" id="1224578600483">
      <property name="description" value="replace traversal skip statement" />
      <link role="affectedInstanceConcept" targetNodeId="1.1152141160639" resolveInfo="TraversalSkipStatement" />
      <node role="affectedInstanceUpdater" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance_Updater" id="1224578600484">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224578600485">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1225096640553">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1225096640554">
              <property name="name" value="ss" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1225096640555">
                <link role="concept" targetNodeId="1.1224446583770" resolveInfo="SkipStatement" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225096640556">
                <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096640557" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ReplaceWithNewOperation" id="1225096640558">
                  <link role="concept" targetNodeId="1.1224446583770" resolveInfo="SkipStatement" />
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1225096661171">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1225096664773">
              <link role="baseMethodDeclaration" targetNodeId="21.~CopyUtil.copyAttributes(jetbrains.mps.smodel.SNode,jetbrains.mps.smodel.SNode):void" resolveInfo="copyAttributes" />
              <link role="classConcept" targetNodeId="21.~CopyUtil" resolveInfo="CopyUtil" />
              <node role="actualArgument" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096669182" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096670406">
                <link role="variableDeclaration" targetNodeId="1225096640554" resolveInfo="ss" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="part" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance" id="1224578628650">
      <property name="description" value="replace traversal stop statement" />
      <link role="affectedInstanceConcept" targetNodeId="1.1152141130888" resolveInfo="TraversalStopStatement" />
      <node role="affectedInstanceUpdater" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance_Updater" id="1224578628651">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224578628652">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1225096677463">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1225096677464">
              <property name="name" value="ss" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1225096677465">
                <link role="concept" targetNodeId="1.1224451845108" resolveInfo="StopStatement" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225096677466">
                <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096677467" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ReplaceWithNewOperation" id="1225096677468">
                  <link role="concept" targetNodeId="1.1224451845108" resolveInfo="StopStatement" />
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1225096684272">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1225096684273">
              <link role="classConcept" targetNodeId="21.~CopyUtil" resolveInfo="CopyUtil" />
              <link role="baseMethodDeclaration" targetNodeId="21.~CopyUtil.copyAttributes(jetbrains.mps.smodel.SNode,jetbrains.mps.smodel.SNode):void" resolveInfo="copyAttributes" />
              <node role="actualArgument" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096684274" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096684275">
                <link role="variableDeclaration" targetNodeId="1225096677464" resolveInfo="ss" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="part" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance" id="1224753913842">
      <property name="description" value="replace count with size" />
      <link role="affectedInstanceConcept" targetNodeId="1.1195127791705" resolveInfo="CountOperation" />
      <node role="affectedInstanceUpdater" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_Instance_Updater" id="1224753913843">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224753913844">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1225096691851">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1225096691852">
              <property name="name" value="op" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1225096691853">
                <link role="concept" targetNodeId="1.1162935959151" resolveInfo="GetSizeOperation" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225096691854">
                <node role="operand" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096691855" />
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ReplaceWithNewOperation" id="1225096691856">
                  <link role="concept" targetNodeId="1.1162935959151" resolveInfo="GetSizeOperation" />
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1225096695372">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1225096695373">
              <link role="classConcept" targetNodeId="21.~CopyUtil" resolveInfo="CopyUtil" />
              <link role="baseMethodDeclaration" targetNodeId="21.~CopyUtil.copyAttributes(jetbrains.mps.smodel.SNode,jetbrains.mps.smodel.SNode):void" resolveInfo="copyAttributes" />
              <node role="actualArgument" type="jetbrains.mps.lang.script.structure.MigrationScriptPart_node" id="1225096695374" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225096695375">
                <link role="variableDeclaration" targetNodeId="1225096691852" resolveInfo="ss" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
</model>

