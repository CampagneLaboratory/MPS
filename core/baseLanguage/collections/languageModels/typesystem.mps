<?xml version="1.0" encoding="UTF-8"?>
<model modelUID="r:00000000-0000-4000-0000-011c8959032b(jetbrains.mps.baseLanguage.collections.typesystem)">
  <persistence version="3" />
  <refactoringHistory />
  <language namespace="f3061a53-9226-4cc5-a443-f952ceaf5816(jetbrains.mps.baseLanguage)" />
  <language namespace="7866978e-a0f0-4cc7-81bc-4d213d9375e1(jetbrains.mps.lang.smodel)" />
  <language namespace="7a5dda62-9140-4668-ab76-d5ed1746f2b2(jetbrains.mps.lang.typesystem)" />
  <language namespace="83888646-71ce-4f1c-9c53-c54016f6ad4f(jetbrains.mps.baseLanguage.collections)" />
  <language namespace="3a13115c-633c-4c5c-bbcc-75c4219e9555(jetbrains.mps.lang.quotation)" />
  <language namespace="fd392034-7849-419d-9071-12563d152375(jetbrains.mps.baseLanguage.closures)" />
  <language namespace="d4615e3b-d671-4ba9-af01-2b78369b0ba7(jetbrains.mps.lang.pattern)" />
  <language namespace="ceab5195-25ea-4f22-9b92-103b95ca8c0c(jetbrains.mps.lang.core)" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902c1(jetbrains.mps.baseLanguage.constraints)" version="83" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ca(jetbrains.mps.baseLanguage.structure)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902fb(jetbrains.mps.lang.smodel.constraints)" version="21" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590301(jetbrains.mps.lang.smodel.structure)" version="16" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902ae(jetbrains.mps.lang.typesystem.constraints)" version="17" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590328(jetbrains.mps.baseLanguage.collections.constraints)" version="6" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959032e(jetbrains.mps.baseLanguage.collections.structure)" version="4" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590340(jetbrains.mps.lang.pattern.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590283(jetbrains.mps.lang.core.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590334(jetbrains.mps.baseLanguage.closures.constraints)" version="2" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590338(jetbrains.mps.baseLanguage.closures.structure)" version="3" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959030d(jetbrains.mps.lang.constraints.structure)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959028c(jetbrains.mps.lang.structure.constraints)" version="11" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902db(jetbrains.mps.baseLanguage.blTypes.constraints)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590288(jetbrains.mps.lang.core.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590292(jetbrains.mps.lang.structure.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959034b(jetbrains.mps.lang.quotation.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c8959033d(jetbrains.mps.lang.annotations.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895902b4(jetbrains.mps.lang.typesystem.structure)" version="0" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c895903fe(jetbrains.mps.baseLanguage.strings.constraints)" version="1" />
  <languageAspect modelUID="r:00000000-0000-4000-0000-011c89590402(jetbrains.mps.baseLanguage.strings.structure)" version="9" />
  <maxImportIndex value="21" />
  <import index="1" modelUID="f:java_stub#java.lang(java.lang@java_stub)" version="-1" />
  <import index="2" modelUID="r:00000000-0000-4000-0000-011c89590334(jetbrains.mps.baseLanguage.closures.constraints)" version="2" />
  <import index="3" modelUID="r:00000000-0000-4000-0000-011c8959032e(jetbrains.mps.baseLanguage.collections.structure)" version="4" />
  <import index="4" modelUID="r:00000000-0000-4000-0000-011c89590328(jetbrains.mps.baseLanguage.collections.constraints)" version="6" />
  <import index="6" modelUID="f:java_stub#jetbrains.mps.internal.collections.runtime(jetbrains.mps.internal.collections.runtime@java_stub)" version="-1" />
  <import index="7" modelUID="r:00000000-0000-4000-0000-011c895902ca(jetbrains.mps.baseLanguage.structure)" version="1" />
  <import index="8" modelUID="f:java_stub#java.util(java.util@java_stub)" version="-1" />
  <import index="9" modelUID="f:java_stub#java.lang(java.lang@java_stub)" version="-1" />
  <import index="11" modelUID="r:00000000-0000-4000-0000-011c895902c5(jetbrains.mps.baseLanguage.typesystem)" version="-1" />
  <import index="12" modelUID="f:java_stub#jetbrains.mps.smodel(jetbrains.mps.smodel@java_stub)" version="-1" />
  <import index="13" modelUID="f:java_stub#jetbrains.mps.project(jetbrains.mps.project@java_stub)" version="-1" />
  <import index="14" modelUID="f:java_stub#jetbrains.mps.typesystem.inference(jetbrains.mps.typesystem.inference@java_stub)" version="-1" />
  <import index="15" modelUID="f:java_stub#jetbrains.mps.baseLanguage.structure(jetbrains.mps.baseLanguage.structure@java_stub)" version="-1" />
  <import index="18" modelUID="r:00000000-0000-4000-0000-011c895902c0(jetbrains.mps.baseLanguage.behavior)" version="-1" />
  <import index="19" modelUID="r:00000000-0000-4000-0000-011c895902b5(jetbrains.mps.lang.typesystem.dependencies)" version="-1" />
  <import index="21" modelUID="r:2c4d9270-b6d6-44af-aecd-e01a223680db(jetbrains.mps.kernel.model)" version="-1" />
  <node type="jetbrains.mps.baseLanguage.structure.ClassConcept" id="1178725704623">
    <property name="name" value="RulesFunctions_Collections" />
    <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1184783863841">
      <property name="name" value="getInput" />
      <node role="returnType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1184783890234">
        <link role="concept" targetNodeId="7.1068431790191" />
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1184783863843" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184783863844">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1184784036890">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1184784036891">
            <property name="name" value="input" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1184784036892">
              <link role="concept" targetNodeId="7.1068431790191" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1184784047183" />
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1184783946972">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1184783946973">
            <property name="name" value="parent" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1184783946974" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227850810">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1184783939540">
                <link role="variableDeclaration" targetNodeId="1184783914166" resolveInfo="op" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1184783941642" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1184783938550">
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227900127">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184783946975">
              <link role="variableDeclaration" targetNodeId="1184783946973" resolveInfo="parent" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1184783952884">
              <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1205249492946">
                <link role="conceptDeclaration" targetNodeId="7.1197027756228" resolveInfo="DotExpression" />
              </node>
            </node>
          </node>
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184783938552">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1184784054654">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1184784055490">
                <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184784054655">
                  <link role="variableDeclaration" targetNodeId="1184784036891" resolveInfo="input" />
                </node>
                <node role="rValue" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205249499130">
                  <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1184784057409">
                    <link role="concept" targetNodeId="7.1197027756228" resolveInfo="DotExpression" />
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184784057410">
                      <link role="variableDeclaration" targetNodeId="1184783946973" resolveInfo="parent" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1205249502554">
                    <link role="link" targetNodeId="7.1197027771414" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="ifFalseStatement" type="jetbrains.mps.baseLanguage.structure.BlockStatement" id="1184783960981">
            <node role="statements" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184783960983">
              <node role="statement" type="jetbrains.mps.lang.typesystem.structure.ReportErrorStatement" id="1184783963366">
                <node role="errorString" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1184783981374">
                  <property name="value" value="not expected here" />
                </node>
                <node role="nodeToReport" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1184783976431">
                  <link role="variableDeclaration" targetNodeId="1184783914166" resolveInfo="op" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1184784063235">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184784065741">
            <link role="variableDeclaration" targetNodeId="1184784036891" resolveInfo="input" />
          </node>
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1184783914166">
        <property name="name" value="op" />
        <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1184783914167">
          <link role="concept" targetNodeId="3.1151701983961" />
        </node>
      </node>
      <node role="annotation" type="jetbrains.mps.baseLanguage.structure.AnnotationInstance" id="1223648195555">
        <link role="annotation" targetNodeId="19.1223644778913" resolveInfo="CheckingMethod" />
      </node>
    </node>
    <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1193827288868">
      <property name="name" value="getOutput" />
      <node role="returnType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1193827288869">
        <link role="concept" targetNodeId="3.1151701983961" resolveInfo="SequenceOperation" />
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1193827288870" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1193827288871">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1193827288872">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1193827288873">
            <property name="name" value="output" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1193827288874">
              <link role="concept" targetNodeId="3.1151701983961" resolveInfo="SequenceOperation" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1193827288875" />
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1193827288876">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1193827288877">
            <property name="name" value="parent" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1193827288878" />
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227867980">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1193827288881">
                <link role="variableDeclaration" targetNodeId="1193827288902" resolveInfo="op" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1193827288880" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1193827288882">
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227818153">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1193827288886">
              <link role="variableDeclaration" targetNodeId="1193827288877" resolveInfo="parent" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1193827288884">
              <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1205249469754">
                <link role="conceptDeclaration" targetNodeId="7.1197027756228" resolveInfo="DotExpression" />
              </node>
            </node>
          </node>
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1193827288887">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1193827288888">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1193827288889">
                <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1193827288890">
                  <link role="variableDeclaration" targetNodeId="1193827288873" resolveInfo="input" />
                </node>
                <node role="rValue" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1203973679487">
                  <property name="asCast" value="true" />
                  <link role="concept" targetNodeId="3.1151701983961" resolveInfo="SequenceOperation" />
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227845282">
                    <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1193827288893">
                      <link role="concept" targetNodeId="7.1197027756228" resolveInfo="DotExpression" />
                      <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1193827288894">
                        <link role="variableDeclaration" targetNodeId="1193827288877" resolveInfo="parent" />
                      </node>
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1205249476686">
                      <link role="link" targetNodeId="7.1197027833540" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1193827548623">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1193827548624">
                <link role="variableDeclaration" targetNodeId="1193827288873" resolveInfo="output" />
              </node>
            </node>
          </node>
          <node role="ifFalseStatement" type="jetbrains.mps.baseLanguage.structure.BlockStatement" id="1193827288895">
            <node role="statements" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1193827288896">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1193827502478">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1193827503996" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1193827288902">
        <property name="name" value="op" />
        <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1193827288903">
          <link role="concept" targetNodeId="7.1068431790191" resolveInfo="Expression" />
        </node>
      </node>
    </node>
    <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1184784519774">
      <property name="name" value="setInputSequenceType" />
      <node role="returnType" type="jetbrains.mps.baseLanguage.structure.VoidType" id="1184785136941" />
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1184784519776" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184784519777">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1184785302311">
          <property name="value" value="1. Take input expression" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1184785326324">
          <property name="value" value="2. Assert that it is coerceable to sequence" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1184785340253">
          <property name="value" value="3. Assign the sequence type to the target" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1184784590140">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1184784590141">
            <property name="name" value="input" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1184784590142">
              <link role="concept" targetNodeId="7.1068431790191" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.LocalStaticMethodCall" id="1184784583912">
              <link role="baseMethodDeclaration" targetNodeId="1184783863841" resolveInfo="getInput" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1184784585761">
                <link role="variableDeclaration" targetNodeId="1184784536658" resolveInfo="op" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1184784597647">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184784597648">
            <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1184784638219">
              <property name="name" value="elementType" />
            </node>
            <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184843140648">
              <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553927">
                <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777965861">
                  <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1196777965862">
                    <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777965863">
                      <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777965882">
                        <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1196777965883">
                          <link role="typeVarDeclaration" targetNodeId="1184784638219" resolveInfo="elementType" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553926">
                <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184843134901">
                  <node role="term" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184843136912">
                    <link role="variableDeclaration" targetNodeId="1184784590141" resolveInfo="input" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1184844101686">
              <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553929">
                <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777965884">
                  <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1196777965885">
                    <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777965886">
                      <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777965889">
                        <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1196777965890">
                          <link role="typeVarDeclaration" targetNodeId="1184784638219" resolveInfo="elementType" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553928">
                <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184844094867">
                  <node role="term" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1184844099573">
                    <link role="variableDeclaration" targetNodeId="1184785107413" resolveInfo="target" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227958271">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184784600433">
              <link role="variableDeclaration" targetNodeId="1184784590141" resolveInfo="input" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsNotNullOperation" id="1184784603018" />
          </node>
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1184784536658">
        <property name="name" value="op" />
        <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1184784536659">
          <link role="concept" targetNodeId="3.1151701983961" />
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1184785107413">
        <property name="name" value="target" />
        <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1184785118403" />
      </node>
      <node role="annotation" type="jetbrains.mps.baseLanguage.structure.AnnotationInstance" id="1198082256524">
        <link role="annotation" targetNodeId="19.1196177069451" resolveInfo="InferenceMethod" />
      </node>
    </node>
    <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1184844804647">
      <property name="name" value="setInputElementType" />
      <node role="returnType" type="jetbrains.mps.baseLanguage.structure.VoidType" id="1184844804649" />
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1184844804650" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184844804651">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1184844804652">
          <property name="value" value="1. Take input expression" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1184844804653">
          <property name="value" value="2. Assert that it is coerceable to sequence" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1184844804654">
          <property name="value" value="3. Assign the sequence element type to the target" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1184844804655">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1184844804656">
            <property name="name" value="input" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1184844804657">
              <link role="concept" targetNodeId="7.1068431790191" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.LocalStaticMethodCall" id="1184844804658">
              <link role="baseMethodDeclaration" targetNodeId="1184783863841" resolveInfo="getInput" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1184844804659">
                <link role="variableDeclaration" targetNodeId="1184844804682" resolveInfo="op" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1184844804660">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184844804661">
            <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1184844804662">
              <property name="name" value="elementType" />
            </node>
            <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184844804663">
              <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553931">
                <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777965891">
                  <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1196777965892">
                    <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777965893">
                      <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777965896">
                        <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1196777965897">
                          <link role="typeVarDeclaration" targetNodeId="1184844804662" resolveInfo="elementType" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553930">
                <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184844804669">
                  <node role="term" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184844804670">
                    <link role="variableDeclaration" targetNodeId="1184844804656" resolveInfo="input" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1184844804671">
              <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553933">
                <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1184844875502">
                  <link role="typeVarDeclaration" targetNodeId="1184844804662" resolveInfo="elementType" />
                </node>
              </node>
              <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553932">
                <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184844804677">
                  <node role="term" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1184844804678">
                    <link role="variableDeclaration" targetNodeId="1184844804684" resolveInfo="target" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227892517">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184844804681">
              <link role="variableDeclaration" targetNodeId="1184844804656" resolveInfo="input" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsNotNullOperation" id="1184844804680" />
          </node>
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1184844804682">
        <property name="name" value="op" />
        <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1184844804683">
          <link role="concept" targetNodeId="3.1151701983961" />
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1184844804684">
        <property name="name" value="target" />
        <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1184844804685" />
      </node>
      <node role="annotation" type="jetbrains.mps.baseLanguage.structure.AnnotationInstance" id="1198082235944">
        <link role="annotation" targetNodeId="19.1196177069451" resolveInfo="InferenceMethod" />
      </node>
    </node>
    <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1184850380050">
      <property name="name" value="isInputElementType" />
      <node role="returnType" type="jetbrains.mps.baseLanguage.structure.VoidType" id="1184850380051" />
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1184850380052" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184850380053">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1184850451252">
          <property name="value" value="1. Take input expression" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1184850451255">
          <property name="value" value="2. Assert that it is coerceable to sequence" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1184850451256">
          <property name="value" value="3. Assert that target has sequence element type" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1184850451257">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1184850451258">
            <property name="name" value="input" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1184850451259">
              <link role="concept" targetNodeId="7.1068431790191" />
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.LocalStaticMethodCall" id="1184850451260">
              <link role="baseMethodDeclaration" targetNodeId="1184783863841" resolveInfo="getInput" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1184850451261">
                <link role="variableDeclaration" targetNodeId="1184850425412" resolveInfo="op" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1184850451262">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184850451263">
            <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1184850451264">
              <property name="name" value="elementType" />
            </node>
            <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184850451265">
              <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553936">
                <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777965898">
                  <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1196777965899">
                    <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777965900">
                      <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777965903">
                        <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1196777965904">
                          <link role="typeVarDeclaration" targetNodeId="1184850451264" resolveInfo="elementType" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553935">
                <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184850451271">
                  <node role="term" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184850451272">
                    <link role="variableDeclaration" targetNodeId="1184850451258" resolveInfo="input" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184850492036">
              <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553937">
                <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184850492037">
                  <node role="term" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1184850492038">
                    <link role="variableDeclaration" targetNodeId="1184850432548" resolveInfo="target" />
                  </node>
                </node>
              </node>
              <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553938">
                <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1184850492039">
                  <link role="typeVarDeclaration" targetNodeId="1184850451264" resolveInfo="elementType" />
                </node>
              </node>
              <node role="nodeToCheck" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1239805856853">
                <link role="variableDeclaration" targetNodeId="1184850432548" resolveInfo="target" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227893692">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184850451279">
              <link role="variableDeclaration" targetNodeId="1184850451258" resolveInfo="input" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsNotNullOperation" id="1184850451278" />
          </node>
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1184850425412">
        <property name="name" value="op" />
        <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1184850425413">
          <link role="concept" targetNodeId="3.1151701983961" />
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1184850432548">
        <property name="name" value="target" />
        <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1184850435896" />
      </node>
      <node role="annotation" type="jetbrains.mps.baseLanguage.structure.AnnotationInstance" id="1198082304791">
        <link role="annotation" targetNodeId="19.1196177069451" resolveInfo="InferenceMethod" />
      </node>
    </node>
    <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1178747595705">
      <property name="name" value="collectYieldStatements" />
      <node role="returnType" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1178747595706">
        <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1178747595707">
          <link role="concept" targetNodeId="3.1152141063573" />
        </node>
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1178747595708" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178747595709">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1178747595710">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1178747595711">
            <property name="name" value="yieldStatements" />
            <node role="type" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1178747595712">
              <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1178747595713">
                <link role="concept" targetNodeId="3.1152141063573" />
              </node>
            </node>
            <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207844116113">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227916617">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1178747595716">
                  <link role="variableDeclaration" targetNodeId="1178747595750" resolveInfo="node" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetChildrenOperation" id="1178747595717" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.TranslateOperation" id="1227876792829">
                <node role="closure" type="jetbrains.mps.baseLanguage.closures.structure.ClosureLiteral" id="1227876792830">
                  <node role="parameter" type="jetbrains.mps.baseLanguage.collections.structure.SmartClosureParameterDeclaration" id="1227876792831">
                    <property name="name" value="it" />
                    <node role="type" type="jetbrains.mps.baseLanguage.structure.WildCardType" id="1227876792832" />
                  </node>
                  <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227876792833">
                    <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227876792834">
                      <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227876792835">
                        <node role="statement" type="jetbrains.mps.baseLanguage.closures.structure.YieldStatement" id="1227876819219">
                          <node role="expression" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1227876819220">
                            <link role="concept" targetNodeId="3.1152141063573" resolveInfo="TraversalYieldStatement" />
                            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227876819221">
                              <link role="variableDeclaration" targetNodeId="1227876792831" resolveInfo="it" />
                            </node>
                          </node>
                        </node>
                      </node>
                      <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227876792839">
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227876816858">
                          <link role="variableDeclaration" targetNodeId="1227876792831" resolveInfo="it" />
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1227876792841">
                          <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1227876792842">
                            <link role="conceptDeclaration" targetNodeId="3.1152141063573" resolveInfo="TraversalYieldStatement" />
                          </node>
                        </node>
                      </node>
                      <node role="ifFalseStatement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1227876792843">
                        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227876792844">
                          <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227876792845">
                            <property name="value" value="don't look inside closures and other code-blocks" />
                          </node>
                          <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1227876792846">
                            <property name="value" value="don't look inside commented statements" />
                          </node>
                          <node role="statement" type="jetbrains.mps.baseLanguage.collections.structure.SkipStatement" id="1227876819302" />
                        </node>
                        <node role="condition" type="jetbrains.mps.baseLanguage.structure.OrExpression" id="1227876792848">
                          <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227876792849">
                            <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227876817177">
                              <link role="variableDeclaration" targetNodeId="1227876792831" resolveInfo="it" />
                            </node>
                            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1227876792851">
                              <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1227876792852">
                                <link role="conceptDeclaration" targetNodeId="7.1177326519037" resolveInfo="CommentedStatementsBlock" />
                              </node>
                            </node>
                          </node>
                          <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227876792853">
                            <node role="operand" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227876817964">
                              <link role="variableDeclaration" targetNodeId="1227876792831" resolveInfo="it" />
                            </node>
                            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1227876792855">
                              <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1227876792856">
                                <link role="conceptDeclaration" targetNodeId="7.1137021947720" resolveInfo="ConceptFunction" />
                              </node>
                            </node>
                          </node>
                        </node>
                        <node role="ifFalseStatement" type="jetbrains.mps.baseLanguage.structure.BlockStatement" id="1227876792857">
                          <node role="statements" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227876792858">
                            <node role="statement" type="jetbrains.mps.baseLanguage.collections.structure.ForEachStatement" id="1227876792859">
                              <node role="variable" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariable" id="1227876792860">
                                <property name="name" value="yieldStmt" />
                              </node>
                              <node role="inputSequence" type="jetbrains.mps.baseLanguage.structure.LocalStaticMethodCall" id="1227876792861">
                                <link role="baseMethodDeclaration" targetNodeId="1178747595705" resolveInfo="collectYieldStatements" />
                                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1227876818449">
                                  <link role="variableDeclaration" targetNodeId="1227876792831" resolveInfo="it" />
                                </node>
                              </node>
                              <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227876792863">
                                <node role="statement" type="jetbrains.mps.baseLanguage.closures.structure.YieldStatement" id="1227876819161">
                                  <node role="expression" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariableReference" id="1227876819162">
                                    <link role="variable" targetNodeId="1227876792860" resolveInfo="yieldStmt" />
                                  </node>
                                </node>
                              </node>
                            </node>
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1178747595748">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1178747595749">
            <link role="variableDeclaration" targetNodeId="1178747595711" resolveInfo="yieldStatements" />
          </node>
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1178747595750">
        <property name="name" value="node" />
        <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1178747595751" />
      </node>
    </node>
    <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1178725704909" />
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725704910">
    <property name="name" value="typeof_SequenceCreatorWithSupplier" />
    <node role="dependency" type="jetbrains.mps.lang.typesystem.structure.Dependency" id="1193846232061">
      <link role="targetConcept" targetNodeId="3.1152125346253" resolveInfo="ValueSupplierBlock" />
      <node role="findSourceBlock" type="jetbrains.mps.lang.typesystem.structure.FindSourceBlock" id="1193846232062">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1193846232063">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1193846269567">
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207843575411">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207843575391">
                <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1193846280699">
                  <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.FindSourceBlockParameter" id="1193846274961" />
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1207843575392">
                  <link role="baseMethodDeclaration" targetNodeId="12.~SNode.getRole_():java.lang.String" resolveInfo="getRole_" />
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1207843575412">
                <link role="baseMethodDeclaration" targetNodeId="1.~String.equals(java.lang.Object):boolean" resolveInfo="equals" />
                <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1193846305791">
                  <property name="value" value="supplier" />
                </node>
              </node>
            </node>
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1193846269569">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1193846320561">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227956258">
                  <node role="operand" type="jetbrains.mps.lang.typesystem.structure.FindSourceBlockParameter" id="1193846324173" />
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1193846331505" />
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1193846314386">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1193846317451" />
          </node>
        </node>
      </node>
    </node>
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725704911">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1184915188877">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1184915203070">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553940">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184915216454">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227879163">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184915216457">
                <link role="applicableNode" targetNodeId="1178725704644" resolveInfo="creator" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1184915216456">
                <link role="link" targetNodeId="3.1152141373004" />
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553939">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1184915220371">
            <link role="typeVarDeclaration" targetNodeId="1184915188877" resolveInfo="elementType" />
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1207757294370">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1207757294371">
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1207757311438">
            <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1207757315987">
              <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1207757315988">
                <link role="typeVarDeclaration" targetNodeId="1184915188877" resolveInfo="elementType" />
              </node>
            </node>
            <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1207757311443">
              <node role="normalType" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207757308484">
                <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1207757306505">
                  <link role="applicableNode" targetNodeId="1178725704644" resolveInfo="creator" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1207757309679">
                  <link role="link" targetNodeId="3.1207756918186" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207757299433">
          <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207757296729">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1207757296004">
              <link role="applicableNode" targetNodeId="1178725704644" resolveInfo="creator" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1207757297745">
              <link role="link" targetNodeId="3.1207756918186" />
            </node>
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsNotNullOperation" id="1207757300842" />
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1184915166597">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553942">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777965905">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1196777965906">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777965907">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777965910">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1196777965911">
                    <link role="typeVarDeclaration" targetNodeId="1184915188877" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553941">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184915159926">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184915163096">
              <link role="applicableNode" targetNodeId="1178725704644" resolveInfo="creator" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704644">
      <property name="name" value="creator" />
      <link role="concept" targetNodeId="3.1152141311721" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725704927">
    <property name="overrides" value="true" />
    <property name="name" value="typeof_ValueSupplierBlock" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725704928">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1178749147464">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178749147465">
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.ReportErrorStatement" id="1178749163145">
            <node role="errorString" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1178749165599">
              <property name="value" value="no body" />
            </node>
            <node role="nodeToReport" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178749171613">
              <link role="applicableNode" targetNodeId="1178725704646" resolveInfo="supplier" />
            </node>
          </node>
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1178749157693">
          <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1178749159662" />
          <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227888369">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178749151214">
              <link role="applicableNode" targetNodeId="1178725704646" resolveInfo="supplier" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1178749155927">
              <link role="link" targetNodeId="7.1137022507850" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1178747080587">
        <property name="value" value="==========" />
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1178747518047">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1178747518048">
          <property name="name" value="returnStatements" />
          <node role="type" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1178747518049">
            <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1178747518050">
              <link role="concept" targetNodeId="7.1068581242878" />
            </node>
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1178747491771">
            <link role="classConcept" targetNodeId="11.1176897069499" />
            <link role="baseMethodDeclaration" targetNodeId="11.1178588381110" />
            <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227945569">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178747495152">
                <link role="applicableNode" targetNodeId="1178725704646" resolveInfo="supplier" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1178747500868">
                <link role="link" targetNodeId="7.1137022507850" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.collections.structure.ForEachStatement" id="1178747532191">
        <node role="variable" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariable" id="1178747532192">
          <property name="name" value="returnStatement" />
        </node>
        <node role="inputSequence" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1178747546874">
          <link role="variableDeclaration" targetNodeId="1178747518048" resolveInfo="returnStatements" />
        </node>
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178747532194">
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.ReportErrorStatement" id="1178747553976">
            <node role="errorString" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1178747565174">
              <property name="value" value="return statement is not expected here" />
            </node>
            <node role="nodeToReport" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariableReference" id="1178747573916">
              <link role="variable" targetNodeId="1178747532192" resolveInfo="returnStatement" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1178747090440">
        <property name="value" value="==========" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1186139392874">
        <property name="name" value="LCS" />
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1178747894037">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1178747894038">
          <property name="name" value="yieldStatements" />
          <node role="type" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1178747894039">
            <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1178747894040">
              <link role="concept" targetNodeId="3.1152141063573" />
            </node>
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1178747874160">
            <link role="baseMethodDeclaration" targetNodeId="1178747595705" resolveInfo="collectYieldStatements" />
            <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
            <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227909498">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178747877058">
                <link role="applicableNode" targetNodeId="1178725704646" resolveInfo="supplier" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1178747884715">
                <link role="link" targetNodeId="7.1137022507850" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.collections.structure.ForEachStatement" id="1178747903514">
        <node role="variable" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariable" id="1178747903515">
          <property name="name" value="yieldStatement" />
        </node>
        <node role="inputSequence" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1178747919292">
          <link role="variableDeclaration" targetNodeId="1178747894038" resolveInfo="yieldStatements" />
        </node>
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178747903517">
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1186139453565">
            <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1186139462443">
              <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1186139462444">
                <link role="typeVarDeclaration" targetNodeId="1186139392874" resolveInfo="LCS" />
              </node>
            </node>
            <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1186139453567">
              <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1186139439886">
                <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227846852">
                  <node role="operand" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariableReference" id="1186139447748">
                    <link role="variable" targetNodeId="1178747903515" resolveInfo="yieldStatement" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1186139450017">
                    <link role="link" targetNodeId="3.1152141234220" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1186139404938">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1186139407207">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1186139407208">
            <link role="typeVarDeclaration" targetNodeId="1186139392874" resolveInfo="LCS" />
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1186139411068">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777965912">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1196777965913">
              <link role="classifier" targetNodeId="1.~Object" resolveInfo="Object" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1223982218672">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1223982218675">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1223982218677">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178748905456">
              <link role="applicableNode" targetNodeId="1178725704646" resolveInfo="supplier" />
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1223982218679">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1186139421869">
            <link role="typeVarDeclaration" targetNodeId="1186139392874" resolveInfo="LCS" />
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704646">
      <property name="name" value="supplier" />
      <link role="concept" targetNodeId="3.1152125346253" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725704935">
    <property name="name" value="typeof_SkipOperation" />
    <node role="dependency" type="jetbrains.mps.lang.typesystem.structure.Dependency" id="1193828208994">
      <link role="targetConcept" targetNodeId="7.1068431790191" resolveInfo="Expression" />
      <node role="findSourceBlock" type="jetbrains.mps.lang.typesystem.structure.FindSourceBlock" id="1193828208995">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1193828208996">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1193828208997">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1193828208998">
              <link role="baseMethodDeclaration" targetNodeId="1193827288868" resolveInfo="getOutput" />
              <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
              <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.FindSourceBlockParameter" id="1193828208999" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725704936">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184847107857">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553944">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777965914">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.IntegerType" id="1196777965915" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553943">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184847100456">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227847745">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184847102717">
                <link role="applicableNode" targetNodeId="1178725704648" resolveInfo="op" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1184847104993">
                <link role="link" targetNodeId="3.1172658456740" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1184847124916">
        <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1184847129676">
          <link role="baseMethodDeclaration" targetNodeId="1184784519774" resolveInfo="setInputSequenceType" />
          <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
          <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184847133066">
            <link role="applicableNode" targetNodeId="1178725704648" resolveInfo="op" />
          </node>
          <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184847134364">
            <link role="applicableNode" targetNodeId="1178725704648" resolveInfo="op" />
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704648">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1172650591544" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725704956">
    <property name="name" value="typeof_TakeOperation" />
    <node role="dependency" type="jetbrains.mps.lang.typesystem.structure.Dependency" id="1193828223193">
      <link role="targetConcept" targetNodeId="7.1068431790191" resolveInfo="Expression" />
      <node role="findSourceBlock" type="jetbrains.mps.lang.typesystem.structure.FindSourceBlock" id="1193828223194">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1193828223195">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1193828223196">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1193828223197">
              <link role="baseMethodDeclaration" targetNodeId="1193827288868" resolveInfo="getOutput" />
              <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
              <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.FindSourceBlockParameter" id="1193828223198" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725704957">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1184847297562">
        <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1184847303189">
          <link role="baseMethodDeclaration" targetNodeId="1184784519774" resolveInfo="setInputSequenceType" />
          <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
          <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184847307568">
            <link role="applicableNode" targetNodeId="1178725704650" resolveInfo="op" />
          </node>
          <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184847309685">
            <link role="applicableNode" targetNodeId="1178725704650" resolveInfo="op" />
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184847269142">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553947">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777965916">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.IntegerType" id="1196777965917" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553945">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184847262796">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227909577">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184847263941">
                <link role="applicableNode" targetNodeId="1178725704650" resolveInfo="op" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1184847266807">
                <link role="link" targetNodeId="3.1172664372046" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704650">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1172664342967" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725704977">
    <property name="name" value="typeof_PageOperation" />
    <node role="dependency" type="jetbrains.mps.lang.typesystem.structure.Dependency" id="1193828214765">
      <link role="targetConcept" targetNodeId="7.1068431790191" resolveInfo="Expression" />
      <node role="findSourceBlock" type="jetbrains.mps.lang.typesystem.structure.FindSourceBlock" id="1193828214766">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1193828214767">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1193828214768">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1193828214769">
              <link role="baseMethodDeclaration" targetNodeId="1193827288868" resolveInfo="getOutput" />
              <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
              <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.FindSourceBlockParameter" id="1193828214770" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725704978">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1184785262748">
        <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1184785265637">
          <link role="baseMethodDeclaration" targetNodeId="1184784519774" resolveInfo="setInputSequenceType" />
          <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
          <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184785269732">
            <link role="applicableNode" targetNodeId="1178725704652" resolveInfo="op" />
          </node>
          <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184785278262">
            <link role="applicableNode" targetNodeId="1178725704652" resolveInfo="op" />
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184784238570">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553949">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777965918">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.IntegerType" id="1196777965919" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553948">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184784251266">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227833650">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184784251269">
                <link role="applicableNode" targetNodeId="1178725704652" resolveInfo="op" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1184784251268">
                <link role="link" targetNodeId="3.1172667737868" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184784267337">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553951">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777965920">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.IntegerType" id="1196777965921" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553950">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184784257962">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227832546">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184784261994">
                <link role="applicableNode" targetNodeId="1178725704652" resolveInfo="op" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1184784264526">
                <link role="link" targetNodeId="3.1172667748353" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704652">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1172667724288" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705067">
    <property name="name" value="check_TraversalYieldStatement" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705068">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1178756717191">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1178756717192">
          <property name="name" value="ancestor" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1178756717193">
            <link role="concept" targetNodeId="7.1137021947720" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227924662">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178756689536">
              <link role="applicableNode" targetNodeId="1178725704673" resolveInfo="yield_stmt" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1178756696911">
              <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1178756700232">
                <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1207854191486">
                  <link role="conceptDeclaration" targetNodeId="7.1137021947720" resolveInfo="ConceptFunction" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1178756722865">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178756722866">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1178756738536" />
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227846818">
          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1178756726017">
            <link role="variableDeclaration" targetNodeId="1178756717192" resolveInfo="ancestor" />
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1178756730566">
            <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1178756735388">
              <link role="conceptDeclaration" targetNodeId="3.1152125346253" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1178756741652">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178756741653">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1178756741654" />
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227908913">
          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1178756741656">
            <link role="variableDeclaration" targetNodeId="1178756717192" resolveInfo="ancestor" />
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1178756741657">
            <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1178756749559">
              <link role="conceptDeclaration" targetNodeId="3.1152906997013" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.ReportErrorStatement" id="1178756787809">
        <node role="errorString" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1178756790616">
          <property name="value" value="yield statement is not expected here" />
        </node>
        <node role="nodeToReport" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178756797421">
          <link role="applicableNode" targetNodeId="1178725704673" resolveInfo="yield_stmt" />
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704673">
      <property name="name" value="yield_stmt" />
      <link role="concept" targetNodeId="3.1152141063573" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705086">
    <property name="name" value="check_TraversalStopStatement" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705087">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1178756917094">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1178756917095">
          <property name="name" value="ancestor" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1178756917096">
            <link role="concept" targetNodeId="7.1137021947720" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227886663">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178756922841">
              <link role="applicableNode" targetNodeId="1178725704674" resolveInfo="stop_stmt" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1178756917099">
              <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1178756917100">
                <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1207854191491">
                  <link role="conceptDeclaration" targetNodeId="7.1137021947720" resolveInfo="ConceptFunction" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1178756917101">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178756917102">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1178756917103" />
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227941567">
          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1178756917105">
            <link role="variableDeclaration" targetNodeId="1178756917095" resolveInfo="ancestor" />
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1178756917106">
            <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1178756917107">
              <link role="conceptDeclaration" targetNodeId="3.1152125346253" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1178756957988">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178756957989">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1178756957990" />
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227945863">
          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1178756957992">
            <link role="variableDeclaration" targetNodeId="1178756917095" resolveInfo="ancestor" />
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1178756957993">
            <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1178756957994">
              <link role="conceptDeclaration" targetNodeId="3.1152906997013" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1178756917108">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178756917109">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1178756917110" />
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227910415">
          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1178756917112">
            <link role="variableDeclaration" targetNodeId="1178756917095" resolveInfo="ancestor" />
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1178756917113">
            <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1178756967438">
              <link role="conceptDeclaration" targetNodeId="3.1153513461623" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.ReportErrorStatement" id="1178756917115">
        <node role="errorString" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1178756917116">
          <property name="value" value="stop statement is not expected here" />
        </node>
        <node role="nodeToReport" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178756936533">
          <link role="applicableNode" targetNodeId="1178725704674" resolveInfo="stop_stmt" />
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704674">
      <property name="name" value="stop_stmt" />
      <link role="concept" targetNodeId="3.1152141130888" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705094">
    <property name="name" value="check_TraversalSkipStatement" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705095">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1178756857699">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1178756857700">
          <property name="name" value="ancestor" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1178756857701">
            <link role="concept" targetNodeId="7.1137021947720" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227894585">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178756863808">
              <link role="applicableNode" targetNodeId="1178725704675" resolveInfo="skip_stmt" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetAncestorOperation" id="1178756857704">
              <node role="parameter" type="jetbrains.mps.lang.smodel.structure.OperationParm_Concept" id="1178756857705">
                <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1207854191492">
                  <link role="conceptDeclaration" targetNodeId="7.1137021947720" resolveInfo="ConceptFunction" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1178756857706">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178756857707">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1178756857708" />
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227904729">
          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1178756857710">
            <link role="variableDeclaration" targetNodeId="1178756857700" resolveInfo="ancestor" />
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1178756857711">
            <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1178756905144">
              <link role="conceptDeclaration" targetNodeId="3.1153513461623" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1178756857713">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178756857714">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1178756857715" />
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227943726">
          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1178756857717">
            <link role="variableDeclaration" targetNodeId="1178756857700" resolveInfo="ancestor" />
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1178756857718">
            <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1178756857719">
              <link role="conceptDeclaration" targetNodeId="3.1152906997013" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.ReportErrorStatement" id="1178756857720">
        <node role="errorString" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1178756857721">
          <property name="value" value="skip statement is not expected here" />
        </node>
        <node role="nodeToReport" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178756869921">
          <link role="applicableNode" targetNodeId="1178725704675" resolveInfo="skip_stmt" />
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704675">
      <property name="name" value="skip_stmt" />
      <link role="concept" targetNodeId="3.1152141160639" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705102">
    <property name="name" value="typeof_ToListOperation" />
    <node role="dependency" type="jetbrains.mps.lang.typesystem.structure.Dependency" id="1193827557954">
      <link role="targetConcept" targetNodeId="7.1068431790191" resolveInfo="Expression" />
      <node role="findSourceBlock" type="jetbrains.mps.lang.typesystem.structure.FindSourceBlock" id="1193827557955">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1193827557956">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1193827622269">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1193827624083">
              <link role="baseMethodDeclaration" targetNodeId="1193827288868" resolveInfo="getOutput" />
              <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
              <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.FindSourceBlockParameter" id="1193827627022" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705103">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1184850918625">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1184850918626">
          <property name="name" value="input" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1184850918627">
            <link role="concept" targetNodeId="7.1068431790191" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1184850911851">
            <link role="baseMethodDeclaration" targetNodeId="1184783863841" resolveInfo="getInput" />
            <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
            <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184850913587">
              <link role="applicableNode" targetNodeId="1178725704677" resolveInfo="op" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1184850887615">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184850943303">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553953">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777965933">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1196777965934">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777965935">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777965954">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1196777965955">
                    <link role="typeVarDeclaration" targetNodeId="1184850887615" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553952">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184850938813">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184850940881">
              <link role="variableDeclaration" targetNodeId="1184850918626" resolveInfo="input" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1184850973959">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553955">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777965956">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1196777965957">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777965958">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777965961">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1196777965962">
                    <link role="typeVarDeclaration" targetNodeId="1184850887615" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553954">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184850970648">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184850971868">
              <link role="applicableNode" targetNodeId="1178725704677" resolveInfo="op" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704677">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1151702311717" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705123">
    <property name="name" value="typeof_GetFirstOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705124">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1184850841121">
        <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1184850846688">
          <link role="baseMethodDeclaration" targetNodeId="1184844804647" resolveInfo="setInputElementType" />
          <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
          <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184850849545">
            <link role="applicableNode" targetNodeId="1178725704680" resolveInfo="op" />
          </node>
          <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184850852027">
            <link role="applicableNode" targetNodeId="1178725704680" resolveInfo="op" />
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704680">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1165525191778" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705132">
    <property name="name" value="typeof_GetLastOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705133">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1184850815135">
        <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1184850819125">
          <link role="baseMethodDeclaration" targetNodeId="1184844804647" resolveInfo="setInputElementType" />
          <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
          <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184850820707">
            <link role="applicableNode" targetNodeId="1178725704682" resolveInfo="op" />
          </node>
          <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184850822111">
            <link role="applicableNode" targetNodeId="1178725704682" resolveInfo="op" />
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704682">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1165595910856" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705141">
    <property name="name" value="typeof_IsEmptyOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705142">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1178725705143">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1178725704685">
          <property name="name" value="parent" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1178725705144" />
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227897238">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178725705146">
              <link role="applicableNode" targetNodeId="1178725704684" resolveInfo="op" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1178725705147" />
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.MatchStatement" id="1178725705148">
        <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1178725705149">
          <link role="variableDeclaration" targetNodeId="1178725704685" resolveInfo="parent" />
        </node>
        <node role="item" type="jetbrains.mps.lang.typesystem.structure.MatchStatementItem" id="1178725705150">
          <node role="condition" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725705151">
            <property name="name" value="dotExpression" />
            <link role="concept" targetNodeId="7.1197027756228" resolveInfo="DotExpression" />
          </node>
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705152">
            <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1219443376597">
              <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1219443376598">
                <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1219443376599">
                  <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178725705156">
                    <link role="applicableNode" targetNodeId="1178725704684" resolveInfo="op" />
                  </node>
                </node>
              </node>
              <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1219443376600">
                <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777965963">
                  <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1196777965964" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="ifFalseStatement" type="jetbrains.mps.baseLanguage.structure.BlockStatement" id="1178725705157">
          <node role="statements" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705158">
            <node role="statement" type="jetbrains.mps.lang.typesystem.structure.ReportErrorStatement" id="1178725705159">
              <node role="errorString" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1178725705160">
                <property name="value" value="not expected here" />
              </node>
              <node role="nodeToReport" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178725705161">
                <link role="applicableNode" targetNodeId="1178725704684" resolveInfo="op" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704684">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1165530316231" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705162">
    <property name="name" value="typeof_ContainsOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705163">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1178725705164">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1178725704687">
          <property name="name" value="parent" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1178725705165" />
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227833625">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178725705167">
              <link role="applicableNode" targetNodeId="1178725704686" resolveInfo="op" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1178725705168" />
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.MatchStatement" id="1178725705169">
        <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1178725705170">
          <link role="variableDeclaration" targetNodeId="1178725704687" resolveInfo="parent" />
        </node>
        <node role="item" type="jetbrains.mps.lang.typesystem.structure.MatchStatementItem" id="1178725705171">
          <node role="condition" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725705172">
            <property name="name" value="dotExpression" />
            <link role="concept" targetNodeId="7.1197027756228" resolveInfo="DotExpression" />
          </node>
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705173">
            <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1219443386085">
              <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1219443386086">
                <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1219443386087">
                  <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178725705177">
                    <link role="applicableNode" targetNodeId="1178725704686" resolveInfo="op" />
                  </node>
                </node>
              </node>
              <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1219443386088">
                <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777965965">
                  <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1196777965966" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="ifFalseStatement" type="jetbrains.mps.baseLanguage.structure.BlockStatement" id="1178725705178">
          <node role="statements" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705179">
            <node role="statement" type="jetbrains.mps.lang.typesystem.structure.ReportErrorStatement" id="1178725705180">
              <node role="errorString" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1178725705181">
                <property name="value" value="not expected here" />
              </node>
              <node role="nodeToReport" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178725705182">
                <link role="applicableNode" targetNodeId="1178725704686" resolveInfo="op" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704686">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1172254888721" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705183">
    <property name="name" value="typeof_MapOperation" />
    <node role="dependency" type="jetbrains.mps.lang.typesystem.structure.Dependency" id="1193828834305">
      <link role="targetConcept" targetNodeId="3.1152906997013" resolveInfo="MapperBlock" />
      <node role="findSourceBlock" type="jetbrains.mps.lang.typesystem.structure.FindSourceBlock" id="1193828834306">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1193828834307">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1193828876416">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227882938">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.FindSourceBlockParameter" id="1193828876417" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1193828883921" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705184">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1178725705185">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1178725704689">
          <property name="name" value="mapper" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1178725705186" />
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227956203">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178725705188">
              <link role="applicableNode" targetNodeId="1178725704688" resolveInfo="op" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1178725705189">
              <link role="link" targetNodeId="3.1152907136217" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1206049261646">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1206049261647">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1206049261648">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1206049261649">
              <link role="applicableNode" targetNodeId="1178725704688" resolveInfo="op" />
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1206049261650">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1206049261651">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1206049261652">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1206049261653">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1206049261654">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1206049441225">
                    <node role="term" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1206049467664">
                      <link role="variableDeclaration" targetNodeId="1178725704689" resolveInfo="mapper" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704688">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1152906680026" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705200">
    <property name="overrides" value="true" />
    <property name="name" value="typeof_MapperBlock" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705201">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1178761181332">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178761181333">
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.ReportErrorStatement" id="1178761181334">
            <node role="errorString" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1178761181335">
              <property name="value" value="no body" />
            </node>
            <node role="nodeToReport" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178761203014">
              <link role="applicableNode" targetNodeId="1178725704690" resolveInfo="mapper" />
            </node>
          </node>
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1178761181337">
          <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1178761181338" />
          <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227837270">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178761195967">
              <link role="applicableNode" targetNodeId="1178725704690" resolveInfo="mapper" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1178761181341">
              <link role="link" targetNodeId="7.1137022507850" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1178761181347">
        <property name="value" value="==========" />
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1178761181348">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1178761181349">
          <property name="name" value="returnStatements" />
          <node role="type" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1178761181350">
            <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1178761181351">
              <link role="concept" targetNodeId="7.1068581242878" />
            </node>
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1178761181352">
            <link role="classConcept" targetNodeId="11.1176897069499" />
            <link role="baseMethodDeclaration" targetNodeId="11.1178588381110" />
            <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227919621">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178761228907">
                <link role="applicableNode" targetNodeId="1178725704690" resolveInfo="mapper" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1178761181355">
                <link role="link" targetNodeId="7.1137022507850" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.collections.structure.ForEachStatement" id="1178761181356">
        <node role="variable" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariable" id="1178761181357">
          <property name="name" value="returnStatement" />
        </node>
        <node role="inputSequence" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1178761181358">
          <link role="variableDeclaration" targetNodeId="1178761181349" resolveInfo="returnStatements" />
        </node>
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178761181359">
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.ReportErrorStatement" id="1178761181360">
            <node role="errorString" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1178761181361">
              <property name="value" value="return statement is not expected here" />
            </node>
            <node role="nodeToReport" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariableReference" id="1178761181362">
              <link role="variable" targetNodeId="1178761181357" resolveInfo="returnStatement" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1178761181363">
        <property name="value" value="==========" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1186139187800">
        <property name="name" value="LCS" />
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1178761181368">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1178761181369">
          <property name="name" value="yieldStatements" />
          <node role="type" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1178761181370">
            <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1178761181371">
              <link role="concept" targetNodeId="3.1152141063573" />
            </node>
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1178761181372">
            <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
            <link role="baseMethodDeclaration" targetNodeId="1178747595705" resolveInfo="collectYieldStatements" />
            <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227926413">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178761263964">
                <link role="applicableNode" targetNodeId="1178725704690" resolveInfo="mapper" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1178761181375">
                <link role="link" targetNodeId="7.1137022507850" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.collections.structure.ForEachStatement" id="1178761181376">
        <node role="variable" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariable" id="1178761181377">
          <property name="name" value="yieldStatement" />
        </node>
        <node role="inputSequence" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1178761181378">
          <link role="variableDeclaration" targetNodeId="1178761181369" resolveInfo="yieldStatements" />
        </node>
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178761181379">
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1186139365165">
            <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1186139367340">
              <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1186139367341">
                <link role="typeVarDeclaration" targetNodeId="1186139187800" resolveInfo="LCS" />
              </node>
            </node>
            <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1186139365167">
              <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1186139306250">
                <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227838725">
                  <node role="operand" type="jetbrains.mps.baseLanguage.collections.structure.ForEachVariableReference" id="1186139339144">
                    <link role="variable" targetNodeId="1178761181377" resolveInfo="yieldStatement" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1186139347367">
                    <link role="link" targetNodeId="3.1152141234220" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1186139259318">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1186139262446">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1186139262447">
            <link role="typeVarDeclaration" targetNodeId="1186139187800" resolveInfo="LCS" />
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1186139264823">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777965976">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1196777965977">
              <link role="classifier" targetNodeId="1.~Object" resolveInfo="Object" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1223982218648">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1223982218651">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1223982218653">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178761310295">
              <link role="applicableNode" targetNodeId="1178725704690" resolveInfo="mapper" />
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1223982218655">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1186139242035">
            <link role="typeVarDeclaration" targetNodeId="1186139187800" resolveInfo="LCS" />
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704690">
      <property name="name" value="mapper" />
      <link role="concept" targetNodeId="3.1152906997013" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705208">
    <property name="name" value="typeof_DefaultInputElement" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705209">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1178733573822">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1178733573823">
          <property name="name" value="closure" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1178733573824" />
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227937472">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178733566969">
              <link role="applicableNode" targetNodeId="1178725704691" resolveInfo="closureParameter" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1178733571381" />
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.AssertStatement" id="1178733654671">
        <node role="nodeToReport" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178733682864">
          <link role="applicableNode" targetNodeId="1178725704691" resolveInfo="closureParameter" />
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227885734">
          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1178733661960">
            <link role="variableDeclaration" targetNodeId="1178733573823" resolveInfo="closure" />
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1178733661961">
            <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1178733661962">
              <link role="conceptDeclaration" targetNodeId="3.1153509719989" />
            </node>
          </node>
        </node>
        <node role="errorString" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1178733673314">
          <property name="value" value="not expected here" />
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1178733734461">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1178733734462">
          <property name="name" value="op" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1178733734463" />
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227916199">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1178733714671">
              <link role="variableDeclaration" targetNodeId="1178733573823" resolveInfo="closure" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1178733721037" />
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.AssertStatement" id="1178733751867">
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227960113">
          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1178733756764">
            <link role="variableDeclaration" targetNodeId="1178733734462" resolveInfo="op" />
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1178733762694">
            <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1178733768010">
              <link role="conceptDeclaration" targetNodeId="3.1151701983961" />
            </node>
          </node>
        </node>
        <node role="nodeToReport" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178733781520">
          <link role="applicableNode" targetNodeId="1178725704691" resolveInfo="closureParameter" />
        </node>
        <node role="errorString" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1178733775611">
          <property name="value" value="couldn't compute input sequence type" />
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1184851118585">
        <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1184851121761">
          <link role="baseMethodDeclaration" targetNodeId="1184844804647" resolveInfo="setInputElementType" />
          <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
          <node role="actualArgument" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1184851128110">
            <link role="concept" targetNodeId="3.1151701983961" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184851124347">
              <link role="variableDeclaration" targetNodeId="1178733734462" resolveInfo="op" />
            </node>
          </node>
          <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184851146405">
            <link role="applicableNode" targetNodeId="1178725704691" resolveInfo="closureParameter" />
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704691">
      <property name="name" value="closureParameter" />
      <link role="concept" targetNodeId="3.1153248196026" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705250">
    <property name="name" value="typeof_WhereOperation" />
    <node role="dependency" type="jetbrains.mps.lang.typesystem.structure.Dependency" id="1193828237683">
      <link role="targetConcept" targetNodeId="7.1068431790191" resolveInfo="Expression" />
      <node role="findSourceBlock" type="jetbrains.mps.lang.typesystem.structure.FindSourceBlock" id="1193828237684">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1193828237685">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1193828237686">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1193828237687">
              <link role="baseMethodDeclaration" targetNodeId="1193827288868" resolveInfo="getOutput" />
              <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
              <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.FindSourceBlockParameter" id="1193828237688" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705251">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1184846901953">
        <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1184846908541">
          <link role="baseMethodDeclaration" targetNodeId="1184784519774" resolveInfo="setInputSequenceType" />
          <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
          <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184846911084">
            <link role="applicableNode" targetNodeId="1178725704695" resolveInfo="op" />
          </node>
          <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184846919317">
            <link role="applicableNode" targetNodeId="1178725704695" resolveInfo="op" />
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704695">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1153760737019" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705269">
    <property name="name" value="typeof_SortOperation" />
    <node role="dependency" type="jetbrains.mps.lang.typesystem.structure.Dependency" id="1193828184722">
      <link role="targetConcept" targetNodeId="7.1068431790191" resolveInfo="Expression" />
      <node role="findSourceBlock" type="jetbrains.mps.lang.typesystem.structure.FindSourceBlock" id="1193828184723">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1193828184724">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1193828184725">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1193828184726">
              <link role="baseMethodDeclaration" targetNodeId="1193827288868" resolveInfo="getOutput" />
              <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
              <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.FindSourceBlockParameter" id="1193828184727" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705270">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1184847625165">
        <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1184847629381">
          <link role="baseMethodDeclaration" targetNodeId="1184784519774" resolveInfo="setInputSequenceType" />
          <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
          <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184847633117">
            <link role="applicableNode" targetNodeId="1178725704697" resolveInfo="op" />
          </node>
          <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184847634568">
            <link role="applicableNode" targetNodeId="1178725704697" resolveInfo="op" />
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1184847658462">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184847658464">
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184847682985">
            <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553960">
              <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777965978">
                <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1196777965979" />
              </node>
            </node>
            <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553959">
              <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184847674368">
                <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227889104">
                  <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184847677176">
                    <link role="applicableNode" targetNodeId="1178725704697" resolveInfo="op" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1184847679514">
                    <link role="link" targetNodeId="3.1171960857530" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227882774">
          <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227882224">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184847662027">
              <link role="applicableNode" targetNodeId="1178725704697" resolveInfo="op" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1184847665016">
              <link role="link" targetNodeId="3.1171960857530" />
            </node>
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsNotNullOperation" id="1184847668436" />
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1184847728158">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184847728159">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1184847885432">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1184847885433">
              <property name="name" value="statements" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeListType" id="1184847885434">
                <link role="elementConcept" targetNodeId="7.1068580123157" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227909323">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227899642">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227921996">
                    <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184847752783">
                      <link role="applicableNode" targetNodeId="1178725704697" resolveInfo="op" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1184847754811">
                      <link role="link" targetNodeId="3.1168502800721" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1184847757759">
                    <link role="link" targetNodeId="7.1137022507850" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkListAccess" id="1184847762526">
                  <link role="link" targetNodeId="7.1068581517665" />
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1184847787222">
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184847787223">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1184848009212">
                <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184848009213">
                  <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184848057004">
                    <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553962">
                      <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777965980">
                        <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1196777965981">
                          <link role="classifier" targetNodeId="1.~Comparable" resolveInfo="Comparable" />
                        </node>
                      </node>
                    </node>
                    <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553961">
                      <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184848039093">
                        <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227883797">
                          <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1184848039096">
                            <link role="concept" targetNodeId="7.1068580123155" />
                            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207844116167">
                              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184848039098">
                                <link role="variableDeclaration" targetNodeId="1184847885433" resolveInfo="statements" />
                              </node>
                              <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetFirstOperation" id="1184848039099" />
                            </node>
                          </node>
                          <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1184848053189">
                            <link role="link" targetNodeId="7.1068580123156" />
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
                <node role="condition" type="jetbrains.mps.baseLanguage.structure.AndExpression" id="1184848016809">
                  <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227925842">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207844116133">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184848016814">
                        <link role="variableDeclaration" targetNodeId="1184847885433" resolveInfo="statements" />
                      </node>
                      <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetFirstOperation" id="1184848016815" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1184848016811">
                      <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1184848016812">
                        <link role="conceptDeclaration" targetNodeId="7.1068580123155" />
                      </node>
                    </node>
                  </node>
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1184848016816">
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207844116159">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184848093711">
                        <link role="variableDeclaration" targetNodeId="1184847885433" resolveInfo="statements" />
                      </node>
                      <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.GetSizeOperation" id="1184848096959" />
                    </node>
                    <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1184848016818">
                      <property name="value" value="1" />
                    </node>
                  </node>
                </node>
                <node role="ifFalseStatement" type="jetbrains.mps.baseLanguage.structure.BlockStatement" id="1184848021452">
                  <node role="statements" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184848021453">
                    <node role="statement" type="jetbrains.mps.lang.typesystem.structure.ReportErrorStatement" id="1184848030451">
                      <node role="errorString" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1184848030452">
                        <property name="value" value="exactly one expression statement is expected" />
                      </node>
                      <node role="nodeToReport" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227881517">
                        <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184848030454">
                          <link role="applicableNode" targetNodeId="1178725704697" resolveInfo="op" />
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1184848030455">
                          <link role="link" targetNodeId="3.1168502800721" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207844116161">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184848085044">
                <link role="variableDeclaration" targetNodeId="1184847885433" resolveInfo="statements" />
              </node>
              <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.IsNotEmptyOperation" id="1184848087380" />
            </node>
          </node>
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227889746">
          <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227882808">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227902325">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184847732334">
                <link role="applicableNode" targetNodeId="1178725704697" resolveInfo="op" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1184847734642">
                <link role="link" targetNodeId="3.1168502800721" />
              </node>
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1184847736654">
              <link role="link" targetNodeId="7.1137022507850" />
            </node>
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsNotNullOperation" id="1184847738816" />
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704697">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1168502632000" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705370">
    <property name="name" value="typeof_SelectOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705371">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1178725705372">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1178725704702">
          <property name="name" value="selector" />
          <property name="isFinal" value="false" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1178725705373" />
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227878526">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178725705375">
              <link role="applicableNode" targetNodeId="1178725704701" resolveInfo="op" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1178725705376">
              <link role="link" targetNodeId="3.1153779905655" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1184914814670">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553964">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777965982">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1196777965983">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777965984">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777965987">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225471436486">
                    <node role="term" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1225471436487">
                      <link role="variableDeclaration" targetNodeId="1178725704702" resolveInfo="selector" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553963">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184914810840">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184914812077">
              <link role="applicableNode" targetNodeId="1178725704701" resolveInfo="op" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704701">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1153779905654" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705395">
    <property name="name" value="typeof_ForEachStatement" />
    <node role="dependency" type="jetbrains.mps.lang.typesystem.structure.Dependency" id="1193737368335">
      <link role="targetConcept" targetNodeId="3.1153944193378" resolveInfo="ForEachVariable" />
      <node role="findSourceBlock" type="jetbrains.mps.lang.typesystem.structure.FindSourceBlock" id="1193737368336">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1193737368337">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1193738075893">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227932185">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.FindSourceBlockParameter" id="1193738075894" />
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1193738093101" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705396">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1184772038549">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1184772038550">
          <property name="name" value="variable" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1184772038551">
            <link role="concept" targetNodeId="3.1153944193378" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227915883">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184772030967">
              <link role="applicableNode" targetNodeId="1178725704704" resolveInfo="forEachStatement" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1184772034922">
              <link role="link" targetNodeId="3.1153944400369" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1178732218188">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1178732218189">
          <property name="name" value="inputSequence" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1178732218190">
            <link role="concept" targetNodeId="7.1068431790191" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227924271">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178732136776">
              <link role="applicableNode" targetNodeId="1178725704704" resolveInfo="forEachStatement" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1178732144469">
              <link role="link" targetNodeId="3.1153944424730" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1178732133842">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178732133843">
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1184771826645">
            <property name="name" value="elementType" />
          </node>
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateGreaterThanInequationStatement" id="1184772149777">
            <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553965">
              <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777965989">
                <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1196777965990">
                  <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777965991">
                    <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777965994">
                      <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1196777965995">
                        <link role="typeVarDeclaration" targetNodeId="1184771826645" resolveInfo="elementType" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553966">
              <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184772149783">
                <node role="term" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184772149784">
                  <link role="variableDeclaration" targetNodeId="1178732218189" resolveInfo="inputSequence" />
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1184772002733">
            <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553968">
              <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1184772005307">
                <link role="typeVarDeclaration" targetNodeId="1184771826645" resolveInfo="elementType" />
              </node>
            </node>
            <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553967">
              <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184771942551">
                <node role="term" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184772047934">
                  <link role="variableDeclaration" targetNodeId="1184772038550" resolveInfo="variable" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.AndExpression" id="1184771976054">
          <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227959944">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184772053175">
              <link role="variableDeclaration" targetNodeId="1184772038550" resolveInfo="variable" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsNotNullOperation" id="1184771988437" />
          </node>
          <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227912564">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1178732218191">
              <link role="variableDeclaration" targetNodeId="1178732218189" resolveInfo="inputSequence" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsNotNullOperation" id="1184771774864" />
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704704">
      <property name="name" value="forEachStatement" />
      <link role="concept" targetNodeId="3.1153943597977" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705451">
    <property name="name" value="typeof_ForEachVariableReference" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705452">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1223982218681">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1223982218684">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1223982218686">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178725705458">
              <link role="applicableNode" targetNodeId="1178725704707" resolveInfo="var" />
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1223982218688">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1178725705454">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227945571">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178725705456">
                <link role="applicableNode" targetNodeId="1178725704707" resolveInfo="var" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1178725705457">
                <link role="link" targetNodeId="3.1153944258490" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704707">
      <property name="name" value="var" />
      <link role="concept" targetNodeId="3.1153944233411" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705459">
    <property name="name" value="typeof_AddElementOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705460">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1184856382201">
        <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1184856385392">
          <link role="baseMethodDeclaration" targetNodeId="1184850380050" resolveInfo="isInputElementType" />
          <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
          <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184856405972">
            <link role="applicableNode" targetNodeId="1178725704709" resolveInfo="op" />
          </node>
          <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227846842">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184856416205">
              <link role="applicableNode" targetNodeId="1178725704709" resolveInfo="op" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1184856419074">
              <link role="link" targetNodeId="3.1160612519549" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704709">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1160612413312" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705477">
    <property name="name" value="typeof_AddAllElementsOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705478">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1184856504407">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1184856504408">
          <property name="name" value="input" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1184856504409">
            <link role="concept" targetNodeId="7.1068431790191" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1184856504410">
            <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
            <link role="baseMethodDeclaration" targetNodeId="1184783863841" resolveInfo="getInput" />
            <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184856504411">
              <link role="applicableNode" targetNodeId="1178725704712" resolveInfo="op" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1184856504412">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1184856504413">
        <property name="name" value="expectedElementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184856504414">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553971">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777965996">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1196777965997">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777965998">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777966016">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1196777966017">
                    <link role="typeVarDeclaration" targetNodeId="1184856504412" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553970">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184856504420">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184856504421">
              <link role="variableDeclaration" targetNodeId="1184856504408" resolveInfo="input" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184856504422">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553973">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966018">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1196777966019">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777966020">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777966023">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1196777966024">
                    <link role="typeVarDeclaration" targetNodeId="1184856504413" resolveInfo="expectedElementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553972">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184856504428">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227844836">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184856504431">
                <link role="applicableNode" targetNodeId="1178725704712" resolveInfo="op" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1184856513251">
                <link role="link" targetNodeId="3.1160666822012" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184856504432">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553975">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1184856504433">
            <link role="typeVarDeclaration" targetNodeId="1184856504412" resolveInfo="elementType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553974">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1184856504435">
            <link role="typeVarDeclaration" targetNodeId="1184856504413" resolveInfo="expectedElementType" />
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1184856504436">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553977">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1237738327204">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1237738327205">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1237738327206">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1237738327207">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1237738327208">
                    <link role="typeVarDeclaration" targetNodeId="1184856504412" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553976">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184856504439">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184856504440">
              <link role="applicableNode" targetNodeId="1178725704712" resolveInfo="op" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704712">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1160666733551" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705520">
    <property name="name" value="typeof_RemoveElementOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705521">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1184857034479">
        <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1184857034480">
          <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
          <link role="baseMethodDeclaration" targetNodeId="1184850380050" resolveInfo="isInputElementType" />
          <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184857034481">
            <link role="applicableNode" targetNodeId="1178725704716" resolveInfo="op" />
          </node>
          <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227927395">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184857034484">
              <link role="applicableNode" targetNodeId="1178725704716" resolveInfo="op" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1184857036723">
              <link role="link" targetNodeId="3.1167380149910" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704716">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1167380149909" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705538">
    <property name="name" value="typeof_GetElementOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705539">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1184856438398">
        <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1184856441466">
          <link role="baseMethodDeclaration" targetNodeId="1184844804647" resolveInfo="setInputElementType" />
          <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
          <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184856443040">
            <link role="applicableNode" targetNodeId="1178725704734" resolveInfo="op" />
          </node>
          <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184856449697">
            <link role="applicableNode" targetNodeId="1178725704734" resolveInfo="op" />
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184856469305">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553979">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966027">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.IntegerType" id="1196777966028" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553978">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184856462630">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227841822">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184856463798">
                <link role="applicableNode" targetNodeId="1178725704734" resolveInfo="op" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1184856466025">
                <link role="link" targetNodeId="3.1162934736511" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704734">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1162934736510" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705560">
    <property name="name" value="typeof_GetSizeOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705561">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1184847408619">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1184847408620">
          <property name="name" value="input" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1184847408621">
            <link role="concept" targetNodeId="7.1068431790191" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1184847403176">
            <link role="baseMethodDeclaration" targetNodeId="1184783863841" resolveInfo="getInput" />
            <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
            <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184847404464">
              <link role="applicableNode" targetNodeId="1178725704737" resolveInfo="op" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1184847379888">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184847420828">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553981">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966029">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1196777966030">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777966031">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777966034">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1196777966035">
                    <link role="typeVarDeclaration" targetNodeId="1184847379888" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553980">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184847389619">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184847417901">
              <link role="variableDeclaration" targetNodeId="1184847408620" resolveInfo="input" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1184847367971">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553984">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966036">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.IntegerType" id="1196777966037" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553982">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184847365040">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184847366240">
              <link role="applicableNode" targetNodeId="1178725704737" resolveInfo="op" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704737">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1162935959151" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705571">
    <property name="name" value="typeof_GetIndexOfOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705572">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1184856753969">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1184856753970">
          <property name="name" value="input" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1184856753971">
            <link role="concept" targetNodeId="7.1068431790191" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1184856750110">
            <link role="baseMethodDeclaration" targetNodeId="1184783863841" resolveInfo="getInput" />
            <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
            <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184856751222">
              <link role="applicableNode" targetNodeId="1178725704738" resolveInfo="op" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1184856779488">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184856768419">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553986">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966038">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1196777966039">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777966040">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777966043">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1196777966044">
                    <link role="typeVarDeclaration" targetNodeId="1184856779488" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553985">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184856761975">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184856765541">
              <link role="variableDeclaration" targetNodeId="1184856753970" resolveInfo="input" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184856809408">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553988">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1184856811603">
            <link role="typeVarDeclaration" targetNodeId="1184856779488" resolveInfo="elementType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553987">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184856800100">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227945546">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184856804924">
                <link role="applicableNode" targetNodeId="1178725704738" resolveInfo="op" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1184856807271">
                <link role="link" targetNodeId="3.1171391518575" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1184856713865">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553992">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966045">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.IntegerType" id="1196777966046" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553990">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184856710777">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184856712250">
              <link role="applicableNode" targetNodeId="1178725704738" resolveInfo="op" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704738">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1171391069720" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705593">
    <property name="name" value="typeof_RemoveAllElementsOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705594">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1184856319392">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1184856319393">
          <property name="name" value="input" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1184856319394">
            <link role="concept" targetNodeId="7.1068431790191" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1184856319395">
            <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
            <link role="baseMethodDeclaration" targetNodeId="1184783863841" resolveInfo="getInput" />
            <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184856326405">
              <link role="applicableNode" targetNodeId="1178725704741" resolveInfo="op" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1184856319398">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1184856319399">
        <property name="name" value="expectedElementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184856319401">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553994">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966047">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1196777966048">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777966049">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777966052">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1196777966053">
                    <link role="typeVarDeclaration" targetNodeId="1184856319398" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553993">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184856319407">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184856319408">
              <link role="variableDeclaration" targetNodeId="1184856319393" resolveInfo="input" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184856319409">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553996">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966054">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1196777966055">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777966056">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777966059">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1196777966060">
                    <link role="typeVarDeclaration" targetNodeId="1184856319399" resolveInfo="expectedElementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553995">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184856319415">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227892799">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184856330412">
                <link role="applicableNode" targetNodeId="1178725704741" resolveInfo="op" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1184856332441">
                <link role="link" targetNodeId="3.1173946412756" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184856319417">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553998">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1184856319418">
            <link role="typeVarDeclaration" targetNodeId="1184856319398" resolveInfo="elementType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553997">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1184856319419">
            <link role="typeVarDeclaration" targetNodeId="1184856319399" resolveInfo="expectedElementType" />
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1184851898840">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805554000">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966061">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.VoidType" id="1196777966062" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805553999">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184851894367">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184851895671">
              <link role="applicableNode" targetNodeId="1178725704741" resolveInfo="op" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704741">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1173946412755" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705652">
    <property name="name" value="typeof_ReverseOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705653">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1184856571984">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1184856603232">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1184856603233">
          <property name="name" value="input" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1184856603234">
            <link role="concept" targetNodeId="7.1068431790191" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1184856592216">
            <link role="baseMethodDeclaration" targetNodeId="1184783863841" resolveInfo="getInput" />
            <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
            <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184856594192">
              <link role="applicableNode" targetNodeId="1178725704745" resolveInfo="op" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184856612680">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805554002">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966063">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1196777966064">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777966065">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777966084">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1196777966085">
                    <link role="typeVarDeclaration" targetNodeId="1184856571984" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805554001">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184856579804">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184856608014">
              <link role="variableDeclaration" targetNodeId="1184856603233" resolveInfo="input" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1184856636291">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805554004">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966086">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1196777966087">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777966088">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777966091">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1196777966092">
                    <link role="typeVarDeclaration" targetNodeId="1184856571984" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805554003">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184856630356">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184856633579">
              <link role="applicableNode" targetNodeId="1178725704745" resolveInfo="op" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704745">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1175845471038" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705665">
    <property name="name" value="typeof_IsNotEmptyOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705666">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.MatchStatement" id="1178725705667">
        <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227930330">
          <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178725705669">
            <link role="applicableNode" targetNodeId="1178725704747" resolveInfo="op" />
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1178725705670" />
        </node>
        <node role="item" type="jetbrains.mps.lang.typesystem.structure.MatchStatementItem" id="1178725705671">
          <node role="condition" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725705672">
            <property name="name" value="dotExpression" />
            <link role="concept" targetNodeId="7.1197027756228" resolveInfo="DotExpression" />
          </node>
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705673">
            <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1219443359859">
              <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1219443359860">
                <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1219443359861">
                  <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178725705677">
                    <link role="applicableNode" targetNodeId="1178725704747" resolveInfo="op" />
                  </node>
                </node>
              </node>
              <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1219443359862">
                <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966093">
                  <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1196777966094" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="ifFalseStatement" type="jetbrains.mps.baseLanguage.structure.BlockStatement" id="1178725705678">
          <node role="statements" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705679">
            <node role="statement" type="jetbrains.mps.lang.typesystem.structure.ReportErrorStatement" id="1178725705680">
              <node role="errorString" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1178725705681">
                <property name="value" value="not expected here" />
              </node>
              <node role="nodeToReport" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1178725705682">
                <link role="applicableNode" targetNodeId="1178725704747" resolveInfo="op" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704747">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1176501494711" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178725705683">
    <property name="name" value="typeof_BinaryOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705684">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1184848490632">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1184848490633">
          <property name="name" value="lValue" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1184848490634">
            <link role="concept" targetNodeId="7.1068431790191" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1184848484857">
            <link role="baseMethodDeclaration" targetNodeId="1184783863841" resolveInfo="getInput" />
            <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
            <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184848486087">
              <link role="applicableNode" targetNodeId="1178725704748" resolveInfo="op" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1184848495525">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1184848495526">
          <property name="name" value="rValue" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1184848495527">
            <link role="concept" targetNodeId="7.1068431790191" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227924502">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184848510880">
              <link role="applicableNode" targetNodeId="1178725704748" resolveInfo="op" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1184848513911">
              <link role="link" targetNodeId="3.1176906787974" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1184848397564">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1184848409899">
        <property name="name" value="sequenceType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1184848442457">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805554007">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966095">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1196777966096">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777966097">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777966100">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1196777966101">
                    <link role="typeVarDeclaration" targetNodeId="1184848397564" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805554006">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1184848445003">
            <link role="typeVarDeclaration" targetNodeId="1184848409899" resolveInfo="sequenceType" />
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184848544308">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805554009">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1184848546793">
            <link role="typeVarDeclaration" targetNodeId="1184848409899" resolveInfo="sequenceType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805554008">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184848533289">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184848541830">
              <link role="variableDeclaration" targetNodeId="1184848490633" resolveInfo="lValue" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184848553704">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805554011">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1184848556928">
            <link role="typeVarDeclaration" targetNodeId="1184848409899" resolveInfo="sequenceType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805554010">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184848549565">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184848551390">
              <link role="variableDeclaration" targetNodeId="1184848495526" resolveInfo="rValue" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1184848565182">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805554013">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1184848566816">
            <link role="typeVarDeclaration" targetNodeId="1184848409899" resolveInfo="sequenceType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805554012">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184848561861">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184848563109">
              <link role="applicableNode" targetNodeId="1178725704748" resolveInfo="op" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704748">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1176906603202" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.SubtypingRule" id="1178725705699">
    <property name="name" value="supertypesOf_ListType_SequenceType" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705700">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1178725705701">
        <node role="expression" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966102">
          <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1196777966103">
            <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777966104">
              <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777966109">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227899001">
                  <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1196777966111">
                    <link role="applicableNode" targetNodeId="1178725704750" resolveInfo="type" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1196777966112">
                    <link role="link" targetNodeId="3.1151688676805" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704750">
      <property name="name" value="type" />
      <link role="concept" targetNodeId="3.1151688443754" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.SubtypingRule" id="1178725705709">
    <property name="isWeak" value="true" />
    <property name="name" value="supertypesOf_ListType_ClassifierTypeList" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705710">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1178725705711">
        <node role="expression" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966113">
          <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1196777966114">
            <link role="classifier" targetNodeId="8.~List" resolveInfo="List" />
            <node role="parameter" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777966115">
              <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777966135">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227883038">
                  <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1196777966137">
                    <link role="applicableNode" targetNodeId="1178725704751" resolveInfo="type" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1196777966138">
                    <link role="link" targetNodeId="3.1151688676805" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178725704751">
      <property name="name" value="type" />
      <link role="concept" targetNodeId="3.1151688443754" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.SubtypingRule" id="1178725705719">
    <property name="isWeak" value="true" />
    <property name="name" value="supertypesOf_ClassifierTypeList_ListType" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178725705720">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1178725705721">
        <node role="expression" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966139">
          <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1196777966140">
            <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777966141">
              <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777966144">
                <node role="expression" type="jetbrains.mps.lang.typesystem.structure.PatternVariableReference" id="1196777966145">
                  <link role="patternVarDecl" targetNodeId="1178725705731" resolveInfo="#elemType" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.PatternCondition" id="1178725705727">
      <property name="name" value="node" />
      <node role="pattern" type="jetbrains.mps.lang.pattern.structure.PatternExpression" id="1178725705728">
        <node role="patternNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1178725705729">
          <link role="classifier" targetNodeId="8.~List" resolveInfo="List" />
          <node role="parameter" type="jetbrains.mps.baseLanguage.structure.Type" id="1178725705730">
            <node role="_attr_$attribute" type="jetbrains.mps.lang.pattern.structure.PatternVariableDeclaration" id="1178725705731">
              <property name="varName" value="elemType" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.SubtypingRule" id="1178881531250">
    <property name="isWeak" value="true" />
    <property name="name" value="supertypesOf_ClassifierTypeIterable_SequenceType" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178881531251">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1178881599082">
        <node role="expression" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966146">
          <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1196777966147">
            <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777966148">
              <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777966151">
                <node role="expression" type="jetbrains.mps.lang.typesystem.structure.PatternVariableReference" id="1196777966152">
                  <link role="patternVarDecl" targetNodeId="1178881565958" resolveInfo="#p" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.PatternCondition" id="1178881555814">
      <property name="name" value="iterableClassifierType" />
      <node role="pattern" type="jetbrains.mps.lang.pattern.structure.PatternExpression" id="1178881555815">
        <node role="patternNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1178881561378">
          <link role="classifier" targetNodeId="1.~Iterable" resolveInfo="Iterable" />
          <node role="parameter" type="jetbrains.mps.baseLanguage.structure.Type" id="1178881563394">
            <node role="_attr_$attribute" type="jetbrains.mps.lang.pattern.structure.PatternVariableDeclaration" id="1178881565958">
              <property name="varName" value="p" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1178899814661">
    <property name="name" value="typeof_DistinctOperation" />
    <node role="dependency" type="jetbrains.mps.lang.typesystem.structure.Dependency" id="1193828244814">
      <link role="targetConcept" targetNodeId="7.1068431790191" resolveInfo="Expression" />
      <node role="findSourceBlock" type="jetbrains.mps.lang.typesystem.structure.FindSourceBlock" id="1193828244815">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1193828244816">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1193828244817">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1193828244818">
              <link role="baseMethodDeclaration" targetNodeId="1193827288868" resolveInfo="getOutput" />
              <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
              <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.FindSourceBlockParameter" id="1193828244819" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1178899814662">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1184785386681">
        <node role="expression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1184785389201">
          <link role="baseMethodDeclaration" targetNodeId="1184784519774" resolveInfo="setInputSequenceType" />
          <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
          <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184785390761">
            <link role="applicableNode" targetNodeId="1178899814695" resolveInfo="op" />
          </node>
          <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184785391987">
            <link role="applicableNode" targetNodeId="1178899814695" resolveInfo="op" />
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1178899814695">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1178894719932" />
    </node>
  </node>
  <node type="jetbrains.mps.baseLanguage.structure.ClassConcept" id="1179160244196">
    <property name="name" value="TypeUtil_Collections" />
    <node role="staticMethod" type="jetbrains.mps.baseLanguage.structure.StaticMethodDeclaration" id="1179160336886">
      <property name="name" value="coerceTo_SequenceType" />
      <node role="returnType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1179160449631">
        <link role="concept" targetNodeId="3.1151689724996" />
      </node>
      <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1179160336888" />
      <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1179160336889">
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1179160424192">
          <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1179160424193">
            <property name="name" value="sequenceType" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1179160424194">
              <link role="concept" targetNodeId="3.1151689724996" />
            </node>
            <node role="initializer" type="jetbrains.mps.lang.typesystem.structure.CoerceExpression" id="1179160402702">
              <node role="pattern" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1179160410972">
                <property name="name" value="notused" />
                <link role="concept" targetNodeId="3.1151689724996" />
              </node>
              <node role="nodeToCoerce" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1179160407971">
                <link role="variableDeclaration" targetNodeId="1179160363852" resolveInfo="type" />
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1179160433086">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1179160433087">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1179160441722">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1179160461522">
                <link role="variableDeclaration" targetNodeId="1179160424193" resolveInfo="sequenceType" />
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1179160437125">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1179160439565" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1179160435262">
              <link role="variableDeclaration" targetNodeId="1179160424193" resolveInfo="sequenceType" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1179955110728">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1179955110729">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1179955122483">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1179955124727" />
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1179955116942">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1179955119697" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1179955113437">
              <link role="variableDeclaration" targetNodeId="1179160424193" resolveInfo="sequenceType" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1179955128736">
          <property name="value" value="the following code is not reachable " />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1179160694849">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1179160694850">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1179160705344">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1179160707331" />
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1179160701637">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1179160703640" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1179160698197">
              <link role="variableDeclaration" targetNodeId="1179160363852" resolveInfo="type" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1179160662402">
          <property name="value" value="==========" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1179160662403">
          <property name="value" value="TEMP FIX FOR DNQ 1" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1179160721395">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1179160721396">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1179160837004">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1179160837005">
                <property name="name" value="classifierType" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1179160842727">
                  <link role="concept" targetNodeId="7.1107535904670" />
                </node>
                <node role="initializer" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1207843655185">
                  <link role="concept" targetNodeId="7.1107535904670" resolveInfo="ClassifierType" />
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207843575444">
                    <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1179160807920">
                      <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1179160805778">
                        <link role="variableDeclaration" targetNodeId="1179160363852" resolveInfo="type" />
                      </node>
                    </node>
                    <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1207843575445">
                      <link role="baseMethodDeclaration" targetNodeId="12.~SNode.getChild(java.lang.String):jetbrains.mps.smodel.SNode" resolveInfo="getChild" />
                      <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1179160821877">
                        <property name="value" value="classifierType" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1179160876911">
              <node role="expression" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966153">
                <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1196777966154">
                  <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777966155">
                    <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777966160">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227907046">
                        <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1196777966162">
                          <link role="variableDeclaration" targetNodeId="1179160837005" resolveInfo="classifierType" />
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_CopyOperation" id="1196777966163" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207843575393">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1179160723118">
              <property name="value" value="jetbrains.teamsys.dnq.structure.PListType" />
            </node>
            <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1207843575394">
              <link role="baseMethodDeclaration" targetNodeId="1.~String.equals(java.lang.Object):boolean" resolveInfo="equals" />
              <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207843575446">
                <node role="operand" type="jetbrains.mps.lang.smodel.structure.SemanticDowncastExpression" id="1179160748598">
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1179160746392">
                    <link role="variableDeclaration" targetNodeId="1179160363852" resolveInfo="type" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1207843575447">
                  <link role="baseMethodDeclaration" targetNodeId="12.~SNode.getConceptFqName():java.lang.String" resolveInfo="getConceptFqName" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1179160671612">
          <property name="value" value="END TEMP FIX" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1179160671611">
          <property name="value" value="==========" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1179161049677">
          <property name="value" value="==========" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1179161049678">
          <property name="value" value="TEMP FIX FOR DNQ" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1179161049679">
          <property name="value" value="TODO: extract generics information" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1179161049680">
          <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1179161049681">
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1179161049682">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1179161049683">
                <property name="name" value="model" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SModelType" id="1179161049684" />
                <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207843575448">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1179161307919">
                    <link role="baseMethodDeclaration" targetNodeId="14.~TypeChecker.getInstance():jetbrains.mps.typesystem.inference.TypeChecker" resolveInfo="getInstance" />
                    <link role="classConcept" targetNodeId="14.~TypeChecker" resolveInfo="TypeChecker" />
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1207843575449">
                    <link role="baseMethodDeclaration" targetNodeId="14.~TypeChecker.getRuntimeTypesModel():jetbrains.mps.smodel.SModel" resolveInfo="getRuntimeTypesModel" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1179161332949">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1179161332950">
                <property name="name" value="scope" />
                <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1179161332951">
                  <link role="classifier" targetNodeId="13.~GlobalScope" resolveInfo="GlobalScope" />
                </node>
                <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1179161178336">
                  <link role="baseMethodDeclaration" targetNodeId="13.~GlobalScope.getInstance():jetbrains.mps.project.GlobalScope" resolveInfo="getInstance" />
                  <link role="classConcept" targetNodeId="13.~GlobalScope" resolveInfo="GlobalScope" />
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1179161049687">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1179161049688">
                <property name="name" value="entity" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1179161049689">
                  <link role="concept" targetNodeId="7.1107461130800" />
                </node>
                <node role="initializer" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1238270597442">
                  <link role="concept" targetNodeId="7.1107461130800" resolveInfo="Classifier" />
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1238270587982">
                    <link role="classConcept" targetNodeId="21.1237995590703" resolveInfo="SModelUtil" />
                    <link role="baseMethodDeclaration" targetNodeId="21.1238267513315" resolveInfo="findNodeByFQName" />
                    <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1238270587983">
                      <property name="value" value="com.jetbrains.teamsys.database.Entity" />
                    </node>
                    <node role="actualArgument" type="jetbrains.mps.lang.smodel.structure.ConceptRefExpression" id="1238270587984">
                      <link role="conceptDeclaration" targetNodeId="7.1107461130800" resolveInfo="Classifier" />
                    </node>
                    <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1238270587985">
                      <link role="variableDeclaration" targetNodeId="1179161332950" resolveInfo="scope" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1179255439739">
              <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1179255439740">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1179255447717">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1179255449882" />
                </node>
              </node>
              <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1179255443466">
                <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1179255445663" />
                <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1179255442031">
                  <link role="variableDeclaration" targetNodeId="1179161049688" resolveInfo="entity" />
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1179161049696">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1179161049697">
                <property name="name" value="entityType" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1179161049698">
                  <link role="concept" targetNodeId="7.1107535904670" />
                </node>
                <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227926255">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1179161049700">
                    <link role="variableDeclaration" targetNodeId="1179161049683" resolveInfo="model" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewNodeOperation" id="1179161049701">
                    <link role="concept" targetNodeId="7.1107535904670" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1179161049702">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227936750">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227883381">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1179161049705">
                    <link role="variableDeclaration" targetNodeId="1179161049697" resolveInfo="entityType" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1179161049706">
                    <link role="link" targetNodeId="7.1107535924139" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Link_SetTargetOperation" id="1179161049707">
                  <node role="linkTarget" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1179161049708">
                    <link role="variableDeclaration" targetNodeId="1179161049688" resolveInfo="entity" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1179161049709">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1179161049710">
                <property name="name" value="javaIterable" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1179161049711">
                  <link role="concept" targetNodeId="7.1107461130800" />
                </node>
                <node role="initializer" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1238270753387">
                  <link role="concept" targetNodeId="7.1107461130800" resolveInfo="Classifier" />
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1238270739220">
                    <link role="baseMethodDeclaration" targetNodeId="21.1238267513315" resolveInfo="findNodeByFQName" />
                    <link role="classConcept" targetNodeId="21.1237995590703" resolveInfo="SModelUtil" />
                    <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1238270739221">
                      <property name="value" value="java.lang.Iterable" />
                    </node>
                    <node role="actualArgument" type="jetbrains.mps.lang.smodel.structure.ConceptRefExpression" id="1238270745040">
                      <link role="conceptDeclaration" targetNodeId="7.1107461130800" resolveInfo="Classifier" />
                    </node>
                    <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1238270739223">
                      <link role="variableDeclaration" targetNodeId="1179161332950" resolveInfo="scope" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1179161049718">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1179161049719">
                <property name="name" value="javaIterableType" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1179161049720">
                  <link role="concept" targetNodeId="7.1107535904670" />
                </node>
                <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227959205">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1179161049722">
                    <link role="variableDeclaration" targetNodeId="1179161049683" resolveInfo="model" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewNodeOperation" id="1179161049723">
                    <link role="concept" targetNodeId="7.1107535904670" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1179161049724">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227926823">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227926723">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1179161049727">
                    <link role="variableDeclaration" targetNodeId="1179161049719" resolveInfo="javaIterableType" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1179161049728">
                    <link role="link" targetNodeId="7.1107535924139" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Link_SetTargetOperation" id="1179161049729">
                  <node role="linkTarget" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1179161049730">
                    <link role="variableDeclaration" targetNodeId="1179161049710" resolveInfo="javaIterable" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1179161049731">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227845292">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227909681">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1179161049734">
                    <link role="variableDeclaration" targetNodeId="1179161049719" resolveInfo="javaIterableType" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkListAccess" id="1179161049735">
                    <link role="link" targetNodeId="7.1109201940907" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.LinkList_AddChildOperation" id="1179161049736">
                  <node role="childNode" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1179161049737">
                    <link role="variableDeclaration" targetNodeId="1179161049697" resolveInfo="entityType" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1179161049738">
              <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1179161049739">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1179161049740">
                  <node role="expression" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966164">
                    <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1196777966165">
                      <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777966166">
                        <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777966171">
                          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227932369">
                            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1196777966173">
                              <link role="variableDeclaration" targetNodeId="1179161049688" resolveInfo="entity" />
                            </node>
                            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_CopyOperation" id="1196777966174" />
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="condition" type="jetbrains.mps.lang.typesystem.structure.IsSubtypeExpression" id="1179161049744">
                <node role="subtypeExpression" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1179161903654">
                  <link role="variableDeclaration" targetNodeId="1179160363852" resolveInfo="type" />
                </node>
                <node role="supertypeExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1179161049746">
                  <link role="variableDeclaration" targetNodeId="1179161049719" resolveInfo="javaIterableType" />
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1179161049747">
              <property name="value" value="==========" />
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1179161049748">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1179161049749">
                <property name="name" value="entityIterable" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1179161049750">
                  <link role="concept" targetNodeId="7.1107461130800" />
                </node>
                <node role="initializer" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1238270781864">
                  <link role="concept" targetNodeId="7.1107461130800" resolveInfo="Classifier" />
                  <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1238270770697">
                    <link role="baseMethodDeclaration" targetNodeId="21.1238267513315" resolveInfo="findNodeByFQName" />
                    <link role="classConcept" targetNodeId="21.1237995590703" resolveInfo="SModelUtil" />
                    <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1238270770698">
                      <property name="value" value="com.jetbrains.teamsys.database.EntityIterable" />
                    </node>
                    <node role="actualArgument" type="jetbrains.mps.lang.smodel.structure.ConceptRefExpression" id="1238270776423">
                      <link role="conceptDeclaration" targetNodeId="7.1107461130800" resolveInfo="Classifier" />
                    </node>
                    <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1238270770700">
                      <link role="variableDeclaration" targetNodeId="1179161332950" resolveInfo="scope" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1179161049757">
              <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1179161049758">
                <property name="name" value="entityIterableType" />
                <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1179161049759">
                  <link role="concept" targetNodeId="7.1107535904670" />
                </node>
                <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227920827">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1179161049761">
                    <link role="variableDeclaration" targetNodeId="1179161049683" resolveInfo="model" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Model_CreateNewNodeOperation" id="1179161049762">
                    <link role="concept" targetNodeId="7.1107535904670" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1179161049763">
              <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227957526">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227928294">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1179161049766">
                    <link role="variableDeclaration" targetNodeId="1179161049758" resolveInfo="entityIterableType" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1179161049767">
                    <link role="link" targetNodeId="7.1107535924139" />
                  </node>
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Link_SetTargetOperation" id="1179161049768">
                  <node role="linkTarget" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1179161049769">
                    <link role="variableDeclaration" targetNodeId="1179161049749" resolveInfo="entityIterable" />
                  </node>
                </node>
              </node>
            </node>
            <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1179161049770">
              <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1179161049771">
                <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1179161049772">
                  <node role="expression" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966175">
                    <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1196777966176">
                      <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777966177">
                        <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777966182">
                          <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227945883">
                            <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1196777966184">
                              <link role="variableDeclaration" targetNodeId="1179161049688" resolveInfo="entity" />
                            </node>
                            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_CopyOperation" id="1196777966185" />
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="condition" type="jetbrains.mps.lang.typesystem.structure.IsSubtypeExpression" id="1179161049776">
                <node role="subtypeExpression" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1179161907177">
                  <link role="variableDeclaration" targetNodeId="1179160363852" resolveInfo="type" />
                </node>
                <node role="supertypeExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1179161049778">
                  <link role="variableDeclaration" targetNodeId="1179161049758" resolveInfo="entityIterableType" />
                </node>
              </node>
            </node>
          </node>
          <node role="condition" type="jetbrains.mps.baseLanguage.structure.NotEqualsExpression" id="1179161049779">
            <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1179161049780" />
            <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.ParameterReference" id="1179161898209">
              <link role="variableDeclaration" targetNodeId="1179160363852" resolveInfo="type" />
            </node>
          </node>
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1179161049782">
          <property name="value" value="END FIX" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1179161049783">
          <property name="value" value="==========" />
        </node>
        <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1179161450845">
          <node role="expression" type="jetbrains.mps.baseLanguage.structure.NullLiteral" id="1179161452885" />
        </node>
      </node>
      <node role="parameter" type="jetbrains.mps.baseLanguage.structure.ParameterDeclaration" id="1179160363852">
        <property name="name" value="type" />
        <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1179160363853" />
      </node>
    </node>
    <node role="visibility" type="jetbrains.mps.baseLanguage.structure.PublicVisibility" id="1179160244197" />
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.SubtypingRule" id="1179262299939">
    <property name="isWeak" value="true" />
    <property name="name" value="supertypesOf_SequenceType_ClassifierTypeIterable" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1179262299940">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1179262412845">
        <node role="expression" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966186">
          <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1196777966187">
            <link role="classifier" targetNodeId="1.~Iterable" resolveInfo="Iterable" />
            <node role="parameter" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777966188">
              <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777966193">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227923049">
                  <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1196777966195">
                    <link role="applicableNode" targetNodeId="1179262360692" resolveInfo="type" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1196777966196">
                    <link role="link" targetNodeId="3.1151689745422" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1179262360692">
      <property name="name" value="type" />
      <link role="concept" targetNodeId="3.1151689724996" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.SubtypingRule" id="1179272327821">
    <property name="name" value="supertypesOf_ListType_ListType_withWildcard" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1179272327822">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1179272408184">
        <node role="expression" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966197">
          <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1196777966198">
            <node role="elementType" type="jetbrains.mps.baseLanguage.structure.WildCardType" id="1196777966199" />
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1179272391887">
      <property name="name" value="type" />
      <link role="concept" targetNodeId="3.1151688443754" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1184970373516">
    <property name="name" value="typeof_ToArrayOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1184970373517">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1184970400755">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1184970400756">
          <property name="name" value="input" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1184970400757">
            <link role="concept" targetNodeId="7.1068431790191" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1184970400758">
            <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
            <link role="baseMethodDeclaration" targetNodeId="1184783863841" resolveInfo="getInput" />
            <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184970405324">
              <link role="applicableNode" targetNodeId="1184970382910" resolveInfo="toArrayOperation" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1184970400760">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1184970400761">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805554015">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966216">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1196777966217">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777966218">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777966221">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1196777966222">
                    <link role="typeVarDeclaration" targetNodeId="1184970400760" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1185805554014">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1184970400767">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1184970400768">
              <link role="variableDeclaration" targetNodeId="1184970400756" resolveInfo="input" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1215607319884">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1215607319885">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1215607319886">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1184970549623">
              <link role="applicableNode" targetNodeId="1184970382910" resolveInfo="toArrayOperation" />
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1215607319887">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966223">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ArrayType" id="1196777966224">
              <node role="componentType" type="jetbrains.mps.baseLanguage.structure.IntegerType" id="1196777966225">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777966228">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1196777966229">
                    <link role="typeVarDeclaration" targetNodeId="1184970400760" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1184970382910">
      <property name="name" value="toArrayOperation" />
      <link role="concept" targetNodeId="3.1184963466173" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1192414690314">
    <property name="name" value="typeof_ToSetListOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1192414690315">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1192414739085">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1192414739086">
          <property name="name" value="input" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1192414739087">
            <link role="concept" targetNodeId="7.1068431790191" resolveInfo="Expression" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1192414739088">
            <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
            <link role="baseMethodDeclaration" targetNodeId="1184783863841" resolveInfo="getInput" />
            <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1192414744205">
              <link role="applicableNode" targetNodeId="1192414704332" resolveInfo="toSetListOperation" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1192414739106">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1192414739107">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1192414739108">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966230">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1196777966231">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777966232">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777966235">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1196777966236">
                    <link role="typeVarDeclaration" targetNodeId="1192414739106" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1192414739114">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1192414739115">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1192414739116">
              <link role="variableDeclaration" targetNodeId="1192414739086" resolveInfo="input" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1192414739117">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1192414739118">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966237">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1196777966238">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777966239">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777966242">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1196777966243">
                    <link role="typeVarDeclaration" targetNodeId="1192414739106" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1192414739124">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1192414739125">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1192414749081">
              <link role="applicableNode" targetNodeId="1192414704332" resolveInfo="toSetListOperation" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1192414704332">
      <property name="name" value="toSetListOperation" />
      <link role="concept" targetNodeId="3.1192413483650" resolveInfo="ToSetListOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1195127925116">
    <property name="name" value="typeof_CountOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1195127925117">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1195127925118">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1195127925119">
          <property name="name" value="input" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1195127925120">
            <link role="concept" targetNodeId="7.1068431790191" resolveInfo="Expression" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1195127925121">
            <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
            <link role="baseMethodDeclaration" targetNodeId="1184783863841" resolveInfo="getInput" />
            <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1195127925122">
              <link role="applicableNode" targetNodeId="1195127925141" resolveInfo="op" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1195127925123">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1195127925124">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1195127925125">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966244">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1196777966245">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1196777966246">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1196777966249">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1196777966250">
                    <link role="typeVarDeclaration" targetNodeId="1195127925123" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1195127925131">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1195127925132">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1195127925133">
              <link role="variableDeclaration" targetNodeId="1195127925119" resolveInfo="input" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1195127925134">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1195127925135">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1196777966251">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.IntegerType" id="1196777966252" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1195127925138">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1195127925139">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1195127925140">
              <link role="applicableNode" targetNodeId="1195127925141" resolveInfo="op" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1195127925141">
      <property name="name" value="co" />
      <link role="concept" targetNodeId="3.1195127791705" resolveInfo="CountOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.SubtypingRule" id="1197809781229">
    <property name="name" value="supertypesOf_ListType_ListType" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1197809781230">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1197809828308">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1197809828309">
          <property name="name" value="result" />
          <node role="type" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1197809828310">
            <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1197809831077" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1197809836908">
            <node role="creator" type="jetbrains.mps.baseLanguage.collections.structure.ListCreatorWithInit" id="1197809836909">
              <node role="elementType" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1197809836910" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1197809855565">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1197809855566">
          <property name="name" value="elementType" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1197809855567">
            <link role="concept" targetNodeId="7.1068431790189" resolveInfo="Type" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227912964">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1197809841947">
              <link role="applicableNode" targetNodeId="1197809793451" resolveInfo="listType" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1197809845123">
              <link role="link" targetNodeId="3.1151688676805" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1197809840833">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1197809840834">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1197809896390">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1197809896391">
              <property name="name" value="elemSuperTypes" />
              <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1197809896392">
                <link role="classifier" targetNodeId="8.~Set" resolveInfo="Set" />
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1197809946545" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.CastExpression" id="1197809974705">
                <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1197809974706">
                  <link role="classifier" targetNodeId="8.~Set" resolveInfo="Set" />
                  <node role="parameter" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1197809974707" />
                </node>
                <node role="expression" type="jetbrains.mps.lang.typesystem.structure.ImmediateSupertypesExpression" id="1197809974708">
                  <node role="subtypeExpression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1197809974709">
                    <link role="variableDeclaration" targetNodeId="1197809855566" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ForeachStatement" id="1197809931099">
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1197809931100">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1197810039711">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207844116135">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1197810039712">
                    <link role="variableDeclaration" targetNodeId="1197809828309" resolveInfo="result" />
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.collections.structure.AddElementOperation" id="1197810041776">
                    <node role="argument" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1197810044716">
                      <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1197810051858">
                        <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1197810051859">
                          <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1197810054266">
                            <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1197810071206">
                              <link role="variableDeclaration" targetNodeId="1197809931103" resolveInfo="elemSuperType" />
                            </node>
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="iterable" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1197809990381">
              <link role="variableDeclaration" targetNodeId="1197809896391" resolveInfo="elemSuperTypes" />
            </node>
            <node role="variable" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1197809931103">
              <property name="name" value="elemSuperType" />
              <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1197809935636" />
            </node>
          </node>
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227916429">
          <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1197809855568">
            <link role="variableDeclaration" targetNodeId="1197809855566" resolveInfo="elementType" />
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsNotNullOperation" id="1197809850752" />
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1197810078145">
        <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1197810079616">
          <link role="variableDeclaration" targetNodeId="1197809828309" resolveInfo="result" />
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1197809793451">
      <property name="name" value="listType" />
      <link role="concept" targetNodeId="3.1151688443754" resolveInfo="ListType" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1197927831004">
    <property name="name" value="typeof_HashMapCreator" />
    <property name="package" value="mapType" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1197927831005">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1198082330971">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1198082334505">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1198082334506">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.MapType" id="1198082345196">
              <node role="keyType" type="jetbrains.mps.baseLanguage.structure.Type" id="1198082345197">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1198082347995">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227921511">
                    <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1198082349951">
                      <link role="applicableNode" targetNodeId="1197927835819" resolveInfo="mapCreator" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1198082353626">
                      <link role="link" targetNodeId="3.1197687026896" />
                    </node>
                  </node>
                </node>
              </node>
              <node role="valueType" type="jetbrains.mps.baseLanguage.structure.Type" id="1198082345198">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1198082366190">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227897125">
                    <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1198082368458">
                      <link role="applicableNode" targetNodeId="1197927835819" resolveInfo="mapCreator" />
                    </node>
                    <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1198082370743">
                      <link role="link" targetNodeId="3.1197687035757" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1198082330973">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1198082325421">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1198082327454">
              <link role="applicableNode" targetNodeId="1197927835819" resolveInfo="mapCreator" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1197927835819">
      <property name="name" value="hashMapCreator" />
      <link role="concept" targetNodeId="3.1197686869805" resolveInfo="MapCreator" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1198083415474">
    <property name="package" value="mapType" />
    <property name="name" value="typeof_MapElement" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1198083415475">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1198083488673">
        <property name="name" value="keyType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1198083495346">
        <property name="name" value="valueType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1198083568591">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1198083576828">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1198083576829">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.MapType" id="1198083586112">
              <node role="keyType" type="jetbrains.mps.baseLanguage.structure.Type" id="1198083586113">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1198083589631">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1198083598352">
                    <link role="typeVarDeclaration" targetNodeId="1198083488673" resolveInfo="keyType" />
                  </node>
                </node>
              </node>
              <node role="valueType" type="jetbrains.mps.baseLanguage.structure.Type" id="1198083586114">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1198083601462">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1198083603667">
                    <link role="typeVarDeclaration" targetNodeId="1198083495346" resolveInfo="valueType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1198083568593">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1198083507709">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227866686">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1198083520430">
                <link role="applicableNode" targetNodeId="1198083420680" resolveInfo="mapOperation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1198083549371">
                <link role="link" targetNodeId="3.1197932505799" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1198083621785">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1198083626835">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1198089188743">
            <link role="typeVarDeclaration" targetNodeId="1198083495346" resolveInfo="valueType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1198083621787">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1198083609561">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1198083613719">
              <link role="applicableNode" targetNodeId="1198083420680" resolveInfo="mapElement" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1198084142390">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1198084142391">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1198084142392">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227918537">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1198084142394">
                <link role="applicableNode" targetNodeId="1198083420680" resolveInfo="mapElement" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1198084142395">
                <link role="link" targetNodeId="3.1197932525128" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1198084142396">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1198089191994">
            <link role="typeVarDeclaration" targetNodeId="1198083488673" resolveInfo="keyType" />
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1198083420680">
      <property name="name" value="mapElement" />
      <link role="concept" targetNodeId="3.1197932370469" resolveInfo="MapElement" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.SubtypingRule" id="1198165935901">
    <property name="package" value="mapType" />
    <property name="name" value="map_extends_java_util_Map" />
    <property name="isWeak" value="true" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1198165935902">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1198165982252">
        <node role="expression" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1198165984719">
          <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1198165987753">
            <link role="classifier" targetNodeId="8.~Map" resolveInfo="Map" />
            <node role="parameter" type="jetbrains.mps.baseLanguage.structure.Type" id="1198165988750">
              <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1198165993673">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227831205">
                  <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1198166001613">
                    <link role="applicableNode" targetNodeId="1198165969388" resolveInfo="mapType" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1198166004917">
                    <link role="link" targetNodeId="3.1197683466920" />
                  </node>
                </node>
              </node>
            </node>
            <node role="parameter" type="jetbrains.mps.baseLanguage.structure.Type" id="1198165995862">
              <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1198165997709">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227846603">
                  <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1198166008009">
                    <link role="applicableNode" targetNodeId="1198165969388" resolveInfo="mapType" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1198166010694">
                    <link role="link" targetNodeId="3.1197683475734" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1198165969388">
      <property name="name" value="mapType" />
      <link role="concept" targetNodeId="3.1197683403723" resolveInfo="MapType" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.SubtypingRule" id="1198166032007">
    <property name="package" value="mapType" />
    <property name="name" value="java_util_Map_extends_map" />
    <property name="isWeak" value="true" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1198166032008">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1198166091720">
        <node role="expression" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1198166093115">
          <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.MapType" id="1198166104933">
            <node role="keyType" type="jetbrains.mps.baseLanguage.structure.Type" id="1198166104934">
              <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1198166108437">
                <node role="expression" type="jetbrains.mps.lang.typesystem.structure.PatternVariableReference" id="1198166113233">
                  <link role="patternVarDecl" targetNodeId="1198166055780" resolveInfo="#keyType" />
                </node>
              </node>
            </node>
            <node role="valueType" type="jetbrains.mps.baseLanguage.structure.Type" id="1198166104935">
              <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1198166127704">
                <node role="expression" type="jetbrains.mps.lang.typesystem.structure.PatternVariableReference" id="1198166129875">
                  <link role="patternVarDecl" targetNodeId="1198166059852" resolveInfo="#valueType" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.PatternCondition" id="1198166046124">
      <property name="name" value="mapType" />
      <node role="pattern" type="jetbrains.mps.lang.pattern.structure.PatternExpression" id="1198166046125">
        <node role="patternNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1198166051123">
          <link role="classifier" targetNodeId="8.~Map" resolveInfo="Map" />
          <node role="parameter" type="jetbrains.mps.baseLanguage.structure.Type" id="1198166052627">
            <node role="_attr_$attribute" type="jetbrains.mps.lang.pattern.structure.PatternVariableDeclaration" id="1198166055780">
              <property name="varName" value="keyType" />
            </node>
          </node>
          <node role="parameter" type="jetbrains.mps.baseLanguage.structure.Type" id="1198166057985">
            <node role="_attr_$attribute" type="jetbrains.mps.lang.pattern.structure.PatternVariableDeclaration" id="1198166059852">
              <property name="varName" value="valueType" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1201872573502">
    <property name="name" value="typeof_ContainsKeyOperation" />
    <property name="package" value="mapType" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1201872573503">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1201873006966">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1201873013764">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1201873013765">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1201873015961" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1201873006971">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1201873003944">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1201873003945">
              <link role="applicableNode" targetNodeId="1201872573504" resolveInfo="containsKeyOperation" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1201873088202">
        <property name="name" value="KEY" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1201874216771">
        <property name="name" value="VALUE" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1201874242445">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1201874242446">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1201874242447">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227924660">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1201874242449">
                <link role="applicableNode" targetNodeId="1201872573504" resolveInfo="containsKeyOperation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1201874242450">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1201874242451">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1201874242452">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.MapType" id="1201874242453">
              <node role="valueType" type="jetbrains.mps.baseLanguage.structure.Type" id="1201874242454">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1201874264231">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1201874266349">
                    <link role="typeVarDeclaration" targetNodeId="1201874216771" resolveInfo="VALUE" />
                  </node>
                </node>
              </node>
              <node role="keyType" type="jetbrains.mps.baseLanguage.structure.Type" id="1201874242455">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1201874259736">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1201874261634">
                    <link role="typeVarDeclaration" targetNodeId="1201873088202" resolveInfo="KEY" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1201873049497">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1201874272711">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1201874272712">
            <link role="typeVarDeclaration" targetNodeId="1201873088202" resolveInfo="KEY" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1201873049502">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1201873021716">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227832653">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1201873024905">
                <link role="applicableNode" targetNodeId="1201872573504" resolveInfo="containsKeyOperation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1201873044426">
                <link role="link" targetNodeId="3.1201654602639" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1201872573504">
      <property name="name" value="containsKeyOperation" />
      <link role="concept" targetNodeId="3.1201306600024" resolveInfo="ContainsKeyOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1201874339717">
    <property name="name" value="typeof_GetKeysOperation" />
    <property name="package" value="mapType" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1201874339718">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1201874360962">
        <property name="name" value="KEY" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1201874371667">
        <property name="name" value="VALUE" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1201874387564">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1201874391294">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1201874391295">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.MapType" id="1201874393970">
              <node role="keyType" type="jetbrains.mps.baseLanguage.structure.Type" id="1201874393971">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1201874403922">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1201874405392">
                    <link role="typeVarDeclaration" targetNodeId="1201874360962" resolveInfo="KEY" />
                  </node>
                </node>
              </node>
              <node role="valueType" type="jetbrains.mps.baseLanguage.structure.Type" id="1201874393972">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1201874407413">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1201874409243">
                    <link role="typeVarDeclaration" targetNodeId="1201874371667" resolveInfo="VALUE" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1201874387568">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1201874356659">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227884277">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1201874377479">
                <link role="applicableNode" targetNodeId="1201874339719" resolveInfo="getKeysOperation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1201874384748">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1201874414202">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1201874422865">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1201874422866">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1201874447837">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1201874447838">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1201874452121">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1201874454127">
                    <link role="typeVarDeclaration" targetNodeId="1201874360962" resolveInfo="KEY" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1201874414206">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1201874348006">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1201874353734">
              <link role="applicableNode" targetNodeId="1201874339719" resolveInfo="getKeysOperation" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1201874339719">
      <property name="name" value="getKeysOperation" />
      <link role="concept" targetNodeId="3.1201872418428" resolveInfo="GetKeysOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1207233744808">
    <property name="name" value="typeof_MapRemoveOperation" />
    <property name="package" value="mapType" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1207233744809">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1207233776692">
        <property name="name" value="KEY" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1207233776693">
        <property name="name" value="VALUE" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1207233776694">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1207233776695">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1207233776696">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207233776697">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1207233787301">
                <link role="applicableNode" targetNodeId="1207233744810" resolveInfo="nodeToCheck" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1207233776699">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1207233776700">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1207233776701">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.MapType" id="1207233776702">
              <node role="valueType" type="jetbrains.mps.baseLanguage.structure.Type" id="1207233776703">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1207233776704">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1207233776705">
                    <link role="typeVarDeclaration" targetNodeId="1207233776693" resolveInfo="VALUE" />
                  </node>
                </node>
              </node>
              <node role="keyType" type="jetbrains.mps.baseLanguage.structure.Type" id="1207233776706">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1207233776707">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1207233776708">
                    <link role="typeVarDeclaration" targetNodeId="1207233776692" resolveInfo="KEY" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1207233776711">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1207233776712">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1207233776713">
            <link role="typeVarDeclaration" targetNodeId="1207233776692" resolveInfo="KEY" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1207233776714">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1207233776715">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1207233776716">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1207233793046">
                <link role="applicableNode" targetNodeId="1207233744810" resolveInfo="nodeToCheck" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1207233798007">
                <link role="link" targetNodeId="3.1207233489861" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1207233776685">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1207233776686">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1207233880533">
            <link role="typeVarDeclaration" targetNodeId="1207233776692" resolveInfo="KEY" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1207233776689">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1207233776690">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1207233783579">
              <link role="applicableNode" targetNodeId="1207233744810" resolveInfo="nodeToCheck" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1207233744810">
      <property name="name" value="nodeToCheck" />
      <link role="concept" targetNodeId="3.1207233427108" resolveInfo="MapRemoveOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1207236203097">
    <property name="name" value="typeof_ToIteratorOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1207236203098">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1207236221830">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1207236221831">
          <property name="name" value="input" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1207236221832">
            <link role="concept" targetNodeId="7.1068431790191" resolveInfo="Expression" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1207236221833">
            <link role="baseMethodDeclaration" targetNodeId="1184783863841" resolveInfo="getInput" />
            <link role="classConcept" targetNodeId="1178725704623" resolveInfo="RulesFunctions_Collections" />
            <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1207236238867">
              <link role="applicableNode" targetNodeId="1207236203099" resolveInfo="toIteratorOperation" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1207236221835">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1207236221836">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1207236221837">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1207236221838">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1207236221839">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1207236221840">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1207236221841">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1207236221842">
                    <link role="typeVarDeclaration" targetNodeId="1207236221835" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1207236221843">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1207236221844">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1207236221845">
              <link role="variableDeclaration" targetNodeId="1207236221831" resolveInfo="input" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1207236274687">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1207236277917">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1207236277918">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1207236298728">
              <link role="classifier" targetNodeId="8.~Iterator" resolveInfo="Iterator" />
              <node role="parameter" type="jetbrains.mps.baseLanguage.structure.Type" id="1207236299864">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1207236301779">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1207236308036">
                    <link role="typeVarDeclaration" targetNodeId="1207236221835" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1207236274692">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1207236268944">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1207236271925">
              <link role="applicableNode" targetNodeId="1207236203099" resolveInfo="toIteratorOperation" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1207236203099">
      <property name="name" value="toIteratorOperation" />
      <link role="concept" targetNodeId="3.1207236100912" resolveInfo="ToIteratorOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1208542368393">
    <property name="name" value="typeof_MapClearOperation" />
    <property name="package" value="mapType" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1208542368394">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1208542413607">
        <property name="name" value="KEY" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1208542413609">
        <property name="name" value="VALUE" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1208542413610">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1208542413611">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1208542413612">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1208542413613">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1208542413614">
                <link role="applicableNode" targetNodeId="1208542368395" resolveInfo="nodeToCheck" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1208542413615">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1208542413616">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1208542413617">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.MapType" id="1208542413618">
              <node role="valueType" type="jetbrains.mps.baseLanguage.structure.Type" id="1208542413619">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1208542413620">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1208542433756">
                    <link role="typeVarDeclaration" targetNodeId="1208542413609" resolveInfo="VALUE" />
                  </node>
                </node>
              </node>
              <node role="keyType" type="jetbrains.mps.baseLanguage.structure.Type" id="1208542413622">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1208542413623">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1208542430739">
                    <link role="typeVarDeclaration" targetNodeId="1208542413607" resolveInfo="KEY" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1208542368395">
      <property name="name" value="nodeToCheck" />
      <link role="concept" targetNodeId="3.1208542034276" resolveInfo="MapClearOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InequationReplacementRule" id="1210356787605">
    <property name="name" value="sequence_subtypeof_sequence" />
    <node role="supertypeNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1210356827725">
      <property name="name" value="rightST" />
      <link role="concept" targetNodeId="3.1151689724996" resolveInfo="SequenceType" />
    </node>
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1210356787607">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1210356854439">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1210356862066">
          <node role="normalType" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1210356863265">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1210356862067">
              <link role="applicableNode" targetNodeId="1210356827725" resolveInfo="rightST" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1210356863935">
              <link role="link" targetNodeId="3.1151689745422" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1210356854443">
          <node role="normalType" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1210356847777">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1210356846915">
              <link role="applicableNode" targetNodeId="1210356805246" resolveInfo="leftST" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1210356849082">
              <link role="link" targetNodeId="3.1151689745422" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1210356805246">
      <property name="name" value="leftST" />
      <link role="concept" targetNodeId="3.1151689724996" resolveInfo="SequenceType" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1202115927796">
    <property name="name" value="typeof_MappingOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1202115927797">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1203508136831">
        <property name="name" value="paramType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1225885291572">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225885291573">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225885291574">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225885291575">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225885291576">
                <link role="applicableNode" targetNodeId="1202115927798" resolveInfo="to" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1225885291577">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225885291578">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225885291579">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1225885291580">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1225885291581">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225885291582">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225885291583">
                    <link role="typeVarDeclaration" targetNodeId="1203508136831" resolveInfo="paramType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1203507994173">
        <property name="name" value="elType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1225883546583">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225883546584">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225883546585">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225883546586">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225883546587">
                <link role="applicableNode" targetNodeId="1202115927798" resolveInfo="to" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225883546588">
                <link role="link" targetNodeId="3.1201885182287" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225883546589">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225883546590">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.closures.structure.FunctionType" id="1225883546591">
              <node role="parameterType" type="jetbrains.mps.baseLanguage.structure.Type" id="1225883546592">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225883546593">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225883546594">
                    <link role="typeVarDeclaration" targetNodeId="1203508136831" resolveInfo="paramType" />
                  </node>
                </node>
              </node>
              <node role="resultType" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1225884243413">
                <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1225884243414">
                  <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225884244723">
                    <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225884245662">
                      <link role="typeVarDeclaration" targetNodeId="1203507994173" resolveInfo="elType" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1203507994185">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1203507994186">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225883572847">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1225883572848">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1225883572849">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225883572850">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225883572851">
                    <link role="typeVarDeclaration" targetNodeId="1203507994173" resolveInfo="elType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1203507994188">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1203507994189">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1203507994190">
              <link role="applicableNode" targetNodeId="1202115927798" resolveInfo="mo" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1202115927798">
      <property name="name" value="to" />
      <link role="concept" targetNodeId="3.1201792049884" resolveInfo="MappingOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1202120950726">
    <property name="name" value="typeof_WhereOperationNew" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1202120950727">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1203177832282">
        <property name="name" value="paramType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1225885301836">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225885301837">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225885301838">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225885301839">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225885301840">
                <link role="applicableNode" targetNodeId="1202120950728" resolveInfo="wo" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1225885301841">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225885301842">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225885301843">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1225885301844">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1225885301845">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225885301846">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225885301847">
                    <link role="typeVarDeclaration" targetNodeId="1203177832282" resolveInfo="paramType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1225884077242">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225884077243">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225884077244">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225884077245">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225884077246">
                <link role="applicableNode" targetNodeId="1202120950728" resolveInfo="wo" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225884077247">
                <link role="link" targetNodeId="3.1202120914925" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225884077248">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225884077249">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.closures.structure.FunctionType" id="1225884077250">
              <node role="parameterType" type="jetbrains.mps.baseLanguage.structure.Type" id="1225884077251">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225884077252">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225884077253">
                    <link role="typeVarDeclaration" targetNodeId="1203177832282" resolveInfo="paramType" />
                  </node>
                </node>
              </node>
              <node role="resultType" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1225884415399" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1203177922110">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1203178009747">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1203178009748">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1203178011074">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1203178011075">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1203178012149">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1203178013093">
                    <link role="typeVarDeclaration" targetNodeId="1203177832282" resolveInfo="paramType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1203177922113">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1203177917787">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1203177919693">
              <link role="applicableNode" targetNodeId="1202120950728" resolveInfo="wo" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1202120950728">
      <property name="name" value="wo" />
      <link role="concept" targetNodeId="3.1202120902084" resolveInfo="WhereOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1202129057670">
    <property name="name" value="typeof_SelectOperationNew" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1202129057671">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1225884177658">
        <property name="name" value="paramType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1225885277157">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225885277158">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225885277159">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225885277160">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225885277161">
                <link role="applicableNode" targetNodeId="1202129057672" resolveInfo="so" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1225885277162">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225885277163">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225885277164">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1225885277165">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1225885277166">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225885277167">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225885277168">
                    <link role="typeVarDeclaration" targetNodeId="1225884177658" resolveInfo="paramType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1203177754378">
        <property name="name" value="resType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1225883513472">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225883513473">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225883513474">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225883513475">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225883513476">
                <link role="applicableNode" targetNodeId="1202129057672" resolveInfo="so" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225883513477">
                <link role="link" targetNodeId="3.1202129035304" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225883513478">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225883513479">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.closures.structure.FunctionType" id="1225883513480">
              <node role="parameterType" type="jetbrains.mps.baseLanguage.structure.Type" id="1225884208490">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225884209595">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225884210509">
                    <link role="typeVarDeclaration" targetNodeId="1225884177658" resolveInfo="paramType" />
                  </node>
                </node>
              </node>
              <node role="resultType" type="jetbrains.mps.baseLanguage.structure.Type" id="1225883513481">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225883513482">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225883513483">
                    <link role="typeVarDeclaration" targetNodeId="1203177754378" resolveInfo="resType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1203177774935">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1203177778882">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1203177778883">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1203177780552">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1203177780553">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1203177788301">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1203177789667">
                    <link role="typeVarDeclaration" targetNodeId="1203177754378" resolveInfo="resType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1203177774939">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1203177771381">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1203177772890">
              <link role="applicableNode" targetNodeId="1202129057672" resolveInfo="so" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1202129057672">
      <property name="name" value="so" />
      <link role="concept" targetNodeId="3.1202128969694" resolveInfo="SelectOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.SubtypingRule" id="1203341187034">
    <property name="name" value="supertypesOf_ISequence_class" />
    <property name="isWeak" value="true" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1203341187035">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1203342737427">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1203342737428">
          <property name="name" value="res" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1203342737429">
            <link role="classifier" targetNodeId="8.~List" resolveInfo="List" />
            <node role="parameter" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1203342740134" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1203342750038">
            <link role="baseMethodDeclaration" targetNodeId="8.~Collections.emptyList():java.util.List" resolveInfo="emptyList" />
            <link role="classConcept" targetNodeId="8.~Collections" resolveInfo="Collections" />
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1203342752979">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1203342752980">
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1203342830734">
            <node role="expression" type="jetbrains.mps.baseLanguage.structure.AssignmentExpression" id="1203342831791">
              <node role="rValue" type="jetbrains.mps.baseLanguage.structure.GenericNewExpression" id="1217888420478">
                <node role="creator" type="jetbrains.mps.baseLanguage.structure.ClassCreator" id="1217888420480">
                  <link role="baseMethodDeclaration" targetNodeId="8.~ArrayList.&lt;init&gt;()" resolveInfo="ArrayList" />
                  <node role="typeParameter" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1203342841437" />
                </node>
              </node>
              <node role="lValue" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203342830735">
                <link role="variableDeclaration" targetNodeId="1203342737428" resolveInfo="res" />
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1203342887362">
            <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1203342887363">
              <property name="name" value="ptypes" />
              <node role="type" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1203342887364">
                <link role="classifier" targetNodeId="8.~List" resolveInfo="List" />
                <node role="parameter" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1203342889843" />
              </node>
              <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227901672">
                <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1203342897535">
                  <link role="applicableNode" targetNodeId="1203342726691" resolveInfo="ct" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkListAccess" id="1203342904501">
                  <link role="link" targetNodeId="7.1109201940907" />
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1203342917175">
            <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1203342917176">
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1203342961853">
                <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1203342961854">
                  <property name="name" value="elType" />
                  <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1203342961855" />
                  <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1217628905270">
                    <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203342969358">
                      <link role="variableDeclaration" targetNodeId="1203342887363" resolveInfo="ptypes" />
                    </node>
                    <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1217628905271">
                      <link role="baseMethodDeclaration" targetNodeId="8.~List.get(int):java.lang.Object" resolveInfo="get" />
                      <node role="actualArgument" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1203342973436">
                        <property name="value" value="0" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
              <node role="statement" type="jetbrains.mps.baseLanguage.structure.ExpressionStatement" id="1203342846991">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1217628905030">
                  <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203342846992">
                    <link role="variableDeclaration" targetNodeId="1203342737428" resolveInfo="res" />
                  </node>
                  <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1217628905031">
                    <link role="baseMethodDeclaration" targetNodeId="8.~List.add(java.lang.Object):boolean" resolveInfo="add" />
                    <node role="actualArgument" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1203342854667">
                      <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1203342855963">
                        <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1203342855964">
                          <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1203342978503">
                            <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203342980410">
                              <link role="variableDeclaration" targetNodeId="1203342961854" resolveInfo="elType" />
                            </node>
                          </node>
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="condition" type="jetbrains.mps.baseLanguage.structure.GreaterThanExpression" id="1203342933345">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.IntegerConstant" id="1203342934663">
                <property name="value" value="0" />
              </node>
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1217628896640">
                <node role="operand" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203342919777">
                  <link role="variableDeclaration" targetNodeId="1203342887363" resolveInfo="ptypes" />
                </node>
                <node role="operation" type="jetbrains.mps.baseLanguage.structure.InstanceMethodCallOperation" id="1217628896641">
                  <link role="baseMethodDeclaration" targetNodeId="8.~List.size():int" resolveInfo="size" />
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.EqualsExpression" id="1203342819762">
          <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227906573">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1203342819765">
              <link role="applicableNode" targetNodeId="1203342726691" resolveInfo="ct" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1203342819764">
              <link role="link" targetNodeId="7.1107535924139" />
            </node>
          </node>
          <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1204227904501">
            <node role="operand" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1203342819768">
              <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1206795571036">
                <link role="classifier" targetNodeId="6.~ISequence" resolveInfo="ISequence" />
              </node>
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1203342819767">
              <link role="link" targetNodeId="7.1107535924139" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1203342986354">
        <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1203342987513">
          <link role="variableDeclaration" targetNodeId="1203342737428" resolveInfo="res" />
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1203342726691">
      <property name="name" value="ct" />
      <link role="concept" targetNodeId="7.1107535904670" resolveInfo="ClassifierType" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1205679968096">
    <property name="name" value="typeof_SortOperationNew" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205679968097">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1205680579640">
        <property name="name" value="paramType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1225885283623">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225885283624">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225885283625">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225885283626">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225885283627">
                <link role="applicableNode" targetNodeId="1205679968098" resolveInfo="so" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1225885283628">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225885283629">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225885283630">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1225885283631">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1225885283632">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225885283633">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225885283634">
                    <link role="typeVarDeclaration" targetNodeId="1205680579640" resolveInfo="paramType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1205680505277">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1205680514460">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1205680514461">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205680516568">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1205680515658">
                <link role="applicableNode" targetNodeId="1205679968098" resolveInfo="so" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1205680518480">
                <link role="link" targetNodeId="3.1205679819055" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1205680523308">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1205680523309">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.closures.structure.FunctionType" id="1205680529064">
              <node role="parameterType" type="jetbrains.mps.baseLanguage.structure.Type" id="1205680530899">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1205680583968">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1205680584997">
                    <link role="typeVarDeclaration" targetNodeId="1205680579640" resolveInfo="paramType" />
                  </node>
                </node>
              </node>
              <node role="resultType" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1225884349196">
                <link role="classifier" targetNodeId="1.~Comparable" resolveInfo="Comparable" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.RemarkStatement" id="1237302831457">
        <property name="value" value="todo: unmeet closure" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1205680788992">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1205680791172">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1205680791173">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205680798442">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1205680797869">
                <link role="applicableNode" targetNodeId="1205679968098" resolveInfo="so" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1205680800190">
                <link role="link" targetNodeId="3.1205679832066" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1205680803506">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1205680803507">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1205680810684" />
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1205737509129">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1205737511199">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1205737511200">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1205737512471">
              <link role="applicableNode" targetNodeId="1205679968098" resolveInfo="so" />
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1205737516984">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1205737516985">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1205737519659">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1205737519660">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1205737521298">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1205737522116">
                    <link role="typeVarDeclaration" targetNodeId="1205680579640" resolveInfo="paramType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1205679968098">
      <property name="name" value="so" />
      <link role="concept" targetNodeId="3.1205679737078" resolveInfo="SortOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1205753301392">
    <property name="name" value="typeof_ChunkOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205753301393">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1205753325804">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1205753329621">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1205753329622">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1205753427381">
              <link role="applicableNode" targetNodeId="1205753301394" resolveInfo="co" />
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1205753430840">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1205753430842">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205753440447">
              <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1205753436696">
                <link role="concept" targetNodeId="7.1197027756228" resolveInfo="DotExpression" />
                <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205753432616">
                  <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1205753432113">
                    <link role="applicableNode" targetNodeId="1205753301394" resolveInfo="co" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1205753435662" />
                </node>
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1205753443768">
                <link role="link" targetNodeId="7.1197027771414" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1205753509659">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1205753511510">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1205753511511">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1205753512563">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1205753512548">
                <link role="applicableNode" targetNodeId="1205753301394" resolveInfo="co" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1205753514149">
                <link role="link" targetNodeId="3.1205753261887" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1205753519626">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1205753519627">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.IntegerType" id="1205753521568" />
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1205753301394">
      <property name="name" value="co" />
      <link role="concept" targetNodeId="3.1205753243362" resolveInfo="ChunkOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1205842228688">
    <property name="name" value="typeof_VisitAllOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1205842228689">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1225883650310">
        <property name="name" value="paramType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1225885296679">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225885296680">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225885296681">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225885296682">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225885296683">
                <link role="applicableNode" targetNodeId="1205842228690" resolveInfo="vo" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1225885296684">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225885296685">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225885296686">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1225885296687">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1225885296688">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225885296689">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225885296690">
                    <link role="typeVarDeclaration" targetNodeId="1225883650310" resolveInfo="paramType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1225883621916">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225883625721">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225883625722">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.closures.structure.FunctionType" id="1225883628413">
              <node role="parameterType" type="jetbrains.mps.baseLanguage.structure.Type" id="1225883630882">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225883654961">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225883655994">
                    <link role="typeVarDeclaration" targetNodeId="1225883650310" resolveInfo="paramType" />
                  </node>
                </node>
              </node>
              <node role="resultType" type="jetbrains.mps.baseLanguage.structure.VoidType" id="1225883640229" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225883621920">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225883613452">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225883615694">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225883615227">
                <link role="applicableNode" targetNodeId="1205842228690" resolveInfo="vo" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225883618992">
                <link role="link" targetNodeId="3.1204980565575" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1205842233781">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1205842235752">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1205842235753">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1205842237107">
              <link role="applicableNode" targetNodeId="1205842228690" resolveInfo="vo" />
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1205842240170">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1205842240171">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.VoidType" id="1205842241533" />
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1205842228690">
      <property name="name" value="vo" />
      <link role="concept" targetNodeId="3.1204980550705" resolveInfo="VisitAllOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1209728239442">
    <property name="name" value="typeof_ComparatorSortOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1209728239443">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1209728259188">
        <property name="name" value="paramType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1225885254825">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225885254826">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225885254827">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225885254828">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225885254829">
                <link role="applicableNode" targetNodeId="1209728239444" resolveInfo="cso" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1225885254830">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225885254831">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225885254832">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1225885254833">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1225885254834">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225885254835">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225885254836">
                    <link role="typeVarDeclaration" targetNodeId="1209728259188" resolveInfo="paramType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1209728259189">
        <property name="name" value="resType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1209728259190">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1209728259191">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1209728259192">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1209728259193">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1209728268256">
                <link role="applicableNode" targetNodeId="1209728239444" resolveInfo="cso" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1209728274038">
                <link role="link" targetNodeId="3.1209727951854" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1209728259196">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1209728259197">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.closures.structure.FunctionType" id="1209728259198">
              <node role="parameterType" type="jetbrains.mps.baseLanguage.structure.Type" id="1209728259199">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1209728259200">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1209728259201">
                    <link role="typeVarDeclaration" targetNodeId="1209728259188" resolveInfo="paramType" />
                  </node>
                </node>
              </node>
              <node role="parameterType" type="jetbrains.mps.baseLanguage.structure.Type" id="1209728287496">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1209728289870">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1209728291441">
                    <link role="typeVarDeclaration" targetNodeId="1209728259188" resolveInfo="paramType" />
                  </node>
                </node>
              </node>
              <node role="resultType" type="jetbrains.mps.baseLanguage.structure.IntegerType" id="1225884385957" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1209728259222">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1209728259223">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1209728259224">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1209728259225">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1209728327571">
                <link role="applicableNode" targetNodeId="1209728239444" resolveInfo="cso" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225884162343">
                <link role="link" targetNodeId="3.1209727996925" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1209728259228">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1209728259229">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1209728259230" />
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1209728259211">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1209728259212">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1209728259213">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1209728318973">
              <link role="applicableNode" targetNodeId="1209728239444" resolveInfo="cso" />
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1209728259215">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1209728259216">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1209728259217">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1209728259218">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1209728259219">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1209728259220">
                    <link role="typeVarDeclaration" targetNodeId="1209728259188" resolveInfo="paramType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1209728239444">
      <property name="name" value="cso" />
      <link role="concept" targetNodeId="3.1209727891789" resolveInfo="ComparatorSortOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1224414526096">
    <property name="name" value="typeof_SequenceCreator" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224414526097">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1224414714424">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1224414714425">
          <property name="name" value="elementType" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1224414714426">
            <link role="concept" targetNodeId="7.1068431790189" resolveInfo="Type" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224414714427">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1224414714428">
              <link role="applicableNode" targetNodeId="1224414526098" resolveInfo="creator" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1224414714429">
              <link role="link" targetNodeId="3.1224414456414" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1224414570410">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1224414576566">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1224414576567">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1224414581379">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1224414581380">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1224414583463">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1224414714431">
                    <link role="variableDeclaration" targetNodeId="1224414714425" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1224414570414">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1224414558830">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1224414563879">
              <link role="applicableNode" targetNodeId="1224414526098" resolveInfo="creator" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1224414614557">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1224414614558">
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1224414640119">
            <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1224414642882">
              <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1224414642883">
                <node role="quotedNode" type="jetbrains.mps.baseLanguage.closures.structure.FunctionType" id="1224414655302">
                  <node role="resultType" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1224414696953">
                    <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1224414696954">
                      <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1224414698403">
                        <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1224414720465">
                          <link role="variableDeclaration" targetNodeId="1224414714425" resolveInfo="elementType" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1224414640122">
              <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1224414629838">
                <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224414632874">
                  <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1224414631128">
                    <link role="applicableNode" targetNodeId="1224414526098" resolveInfo="creator" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1224414633417">
                    <link role="link" targetNodeId="3.1224414466839" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224414620525">
          <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1224414617434">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1224414616827">
              <link role="applicableNode" targetNodeId="1224414526098" resolveInfo="creator" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1224414618599">
              <link role="link" targetNodeId="3.1224414466839" />
            </node>
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsNotNullOperation" id="1224414621204" />
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1224414526098">
      <property name="name" value="creator" />
      <link role="concept" targetNodeId="3.1224414427926" resolveInfo="SequenceCreator" />
    </node>
  </node>
  <visible index="2" modelUID="r:00000000-0000-4000-0000-011c89590338(jetbrains.mps.baseLanguage.closures.structure)" />
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1225551170076">
    <property name="name" value="typeof_SmartClosureParameterDeclaration" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1225551170077">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1225884471784">
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.AndExpression" id="1230315828648">
          <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1230315835960">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1230315831608">
              <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1230315829866">
                <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1230315829664">
                  <link role="applicableNode" targetNodeId="1225551180059" resolveInfo="scpd" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1230315831262" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1230315832599" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1230315838247">
              <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1230315890551">
                <link role="conceptDeclaration" targetNodeId="7.1197027803184" resolveInfo="IOperation" />
              </node>
            </node>
          </node>
          <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1230315819947">
            <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1230315818548">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1230315818338">
                <link role="applicableNode" targetNodeId="1225551180059" resolveInfo="scpd" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1230315819565" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsInstanceOfOperation" id="1230315823743">
              <node role="conceptArgument" type="jetbrains.mps.lang.smodel.structure.RefConcept_Reference" id="1230315827155">
                <link role="conceptDeclaration" targetNodeId="2v.1199569711397" resolveInfo="ClosureLiteral" />
              </node>
            </node>
          </node>
        </node>
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1230315433524">
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1230315924141">
            <property name="name" value="paramType" />
          </node>
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1230315907234">
            <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1230315907235">
              <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1230315907236">
                <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1230315907237">
                  <node role="operand" type="jetbrains.mps.lang.smodel.structure.SNodeTypeCastExpression" id="1230315915748">
                    <link role="concept" targetNodeId="7.1197027803184" resolveInfo="IOperation" />
                    <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1230315913140">
                      <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1230315912071">
                        <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1230315911769">
                          <link role="applicableNode" targetNodeId="1225551180059" resolveInfo="scpd" />
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1230315912989" />
                      </node>
                      <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1230315914102" />
                    </node>
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1230315907239">
                    <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
                  </node>
                </node>
              </node>
            </node>
            <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1230315907240">
              <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1230315907241">
                <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1230315907242">
                  <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1230315907243">
                    <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1230315907244">
                      <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1230315907245">
                        <link role="typeVarDeclaration" targetNodeId="1230315924141" resolveInfo="paramType" />
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1230315977451">
            <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1230315981192">
              <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1230315981193">
                <link role="typeVarDeclaration" targetNodeId="1230315924141" resolveInfo="paramType" />
              </node>
            </node>
            <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1230315977454">
              <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1230315969555">
                <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1230315971620">
                  <link role="applicableNode" targetNodeId="1225551180059" resolveInfo="scpd" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1225551180059">
      <property name="name" value="scpd" />
      <link role="concept" targetNodeId="3.1203518072036" resolveInfo="SmartClosureParameterDeclaration" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1225622471801">
    <property name="name" value="typeof_InsertElementOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1225622471802">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1225622529097">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225622532866">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225622532867">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.IntegerType" id="1225622538389" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225622529101">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225622519598">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225622522609">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225622521943">
                <link role="applicableNode" targetNodeId="1225622471803" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225622524969">
                <link role="link" targetNodeId="3.1225621960341" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1225625140805">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1225625115380">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225625127528">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225625127529">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1225625130075">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1225625130076">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225625147703">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225625150697">
                    <link role="typeVarDeclaration" targetNodeId="1225625140805" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225625115384">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225625109892">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225625109893">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225625109894">
                <link role="applicableNode" targetNodeId="1225622471803" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1225625109895">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1225622627558">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225622633571">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225625155698">
            <link role="typeVarDeclaration" targetNodeId="1225625140805" resolveInfo="elementType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225622627562">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225622545086">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225622548053">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225622547256">
                <link role="applicableNode" targetNodeId="1225622471803" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225622551540">
                <link role="link" targetNodeId="3.1225621943565" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1225622714904">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225622721259">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225625272772">
            <link role="typeVarDeclaration" targetNodeId="1225625140805" resolveInfo="elementType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225622714907">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225622680239">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225622695683">
              <link role="applicableNode" targetNodeId="1225622471803" resolveInfo="operation" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1225622471803">
      <property name="name" value="operation" />
      <link role="concept" targetNodeId="3.1225621920911" resolveInfo="InsertElementOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1225645917507">
    <property name="name" value="typeof_SetElementOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1225645917508">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1225645926703">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225645926704">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225645926705">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.IntegerType" id="1225645926706" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225645926707">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225645926708">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225645926709">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225645926710">
                <link role="applicableNode" targetNodeId="1225645917509" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225645932300">
                <link role="link" targetNodeId="3.1225645893896" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1225645926712">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1225645926713">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225645926714">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225645926715">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1225645926716">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1225645926717">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225645926718">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225645926719">
                    <link role="typeVarDeclaration" targetNodeId="1225645926712" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225645926720">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225645926721">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225645926722">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225645926723">
                <link role="applicableNode" targetNodeId="1225645917509" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1225645926724">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1225645926725">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225645926726">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225645926727">
            <link role="typeVarDeclaration" targetNodeId="1225645926712" resolveInfo="elementType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225645926728">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225645926729">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225645926730">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225645926731">
                <link role="applicableNode" targetNodeId="1225645917509" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225645935665">
                <link role="link" targetNodeId="3.1225645893898" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1225645926733">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225645926734">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225645926735">
            <link role="typeVarDeclaration" targetNodeId="1225645926712" resolveInfo="elementType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225645926736">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225645926737">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225645926738">
              <link role="applicableNode" targetNodeId="1225645917509" resolveInfo="operation" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1225645917509">
      <property name="name" value="operation" />
      <link role="concept" targetNodeId="3.1225645868993" resolveInfo="SetElementOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1225711291806">
    <property name="name" value="typeof_ListElementAccessExpression" />
    <property name="package" value="list" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1225711291807">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1225711334597">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1225711322689">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225711325286">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225711325287">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1225711327488">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1225711327489">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225711341023">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225711344769">
                    <link role="typeVarDeclaration" targetNodeId="1225711334597" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225711322693">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225711317313">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225711319144">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225711318836">
                <link role="applicableNode" targetNodeId="1225711291808" resolveInfo="expression" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225711320142">
                <link role="link" targetNodeId="3.1225711182005" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1225711362428">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225711365527">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225711365528">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.IntegerType" id="1225711368356" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225711362432">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225711355326">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225711357128">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225711356382">
                <link role="applicableNode" targetNodeId="1225711291808" resolveInfo="expression" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225711359194">
                <link role="link" targetNodeId="3.1225711191269" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1225711376610">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225711379184">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225711379185">
            <link role="typeVarDeclaration" targetNodeId="1225711334597" resolveInfo="elementType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225711376613">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225711372118">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225711374015">
              <link role="applicableNode" targetNodeId="1225711291808" resolveInfo="expression" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1225711291808">
      <property name="name" value="expression" />
      <link role="concept" targetNodeId="3.1225711141656" resolveInfo="ListElementAccessExpression" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1225727805374">
    <property name="name" value="typeof_FindFirstOperation" />
    <property name="package" value="internal" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1225727805375">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1225727823542">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1225727841274">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225727847420">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225727847421">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1225727868357">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1225727868358">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225727869678">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225727871241">
                    <link role="typeVarDeclaration" targetNodeId="1225727823542" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225727841278">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225727831549">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225727835195">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225727834437">
                <link role="applicableNode" targetNodeId="1225727805376" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1225727836584">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1225727913024">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225727916468">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225729061021">
            <link role="typeVarDeclaration" targetNodeId="1225727823542" resolveInfo="elementType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225727913028">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225727909229">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225727910639">
              <link role="applicableNode" targetNodeId="1225727805376" resolveInfo="operation" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1225727952016">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225727957925">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225727957926">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.closures.structure.FunctionType" id="1225727962937">
              <node role="parameterType" type="jetbrains.mps.baseLanguage.structure.Type" id="1225727966969">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225727969026">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225727970285">
                    <link role="typeVarDeclaration" targetNodeId="1225727823542" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
              <node role="resultType" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1225728335254" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225727952020">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225727925390">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225727945490">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225727944869">
                <link role="applicableNode" targetNodeId="1225727805376" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225727947787">
                <link role="link" targetNodeId="3.1225727743579" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1225727805376">
      <property name="name" value="operation" />
      <link role="concept" targetNodeId="3.1225727723840" resolveInfo="FindFirstOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1225730450691">
    <property name="name" value="typeof_FindLastOperation" />
    <property name="package" value="internal" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1225730450692">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1225730451735">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1225730451736">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225730451737">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225730451738">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1225730451739">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1225730451740">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225730451741">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225730451742">
                    <link role="typeVarDeclaration" targetNodeId="1225730451735" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225730451743">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225730451744">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225730451745">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225730451746">
                <link role="applicableNode" targetNodeId="1225730450693" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1225730451747">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1225730451748">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225730451749">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225730451750">
            <link role="typeVarDeclaration" targetNodeId="1225730451735" resolveInfo="elementType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225730451751">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225730451752">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225730451753">
              <link role="applicableNode" targetNodeId="1225730450693" resolveInfo="operation" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1225730451754">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225730451755">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1225730451756">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.closures.structure.FunctionType" id="1225730451757">
              <node role="parameterType" type="jetbrains.mps.baseLanguage.structure.Type" id="1225730451758">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1225730451759">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1225730451760">
                    <link role="typeVarDeclaration" targetNodeId="1225730451735" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
              <node role="resultType" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1225730451761" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1225730451762">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1225730451763">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1225730451764">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1225730451765">
                <link role="applicableNode" targetNodeId="1225730450693" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1225730475252">
                <link role="link" targetNodeId="3.1225730460423" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1225730450693">
      <property name="name" value="operation" />
      <link role="concept" targetNodeId="3.1225730411176" resolveInfo="FindLastOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1226566979417">
    <property name="name" value="typeof_AddSetElementOperation" />
    <property name="package" value="set" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1226566979418">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1226567148394">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateStrongLessThanInequationStatement" id="1226591597587">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226591597588">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1226591597589">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1226591597590">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1226591597591">
                <link role="applicableNode" targetNodeId="1226566979419" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1226591597592">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226591597593">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1226591597594">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SetType" id="1226591597595">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1226591597596">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1226591597597">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1226591597598">
                    <link role="typeVarDeclaration" targetNodeId="1226567148394" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1226567249137">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226567255718">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1226567255719">
            <link role="typeVarDeclaration" targetNodeId="1226567148394" resolveInfo="elementType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226567249140">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1226567193852">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1226567195413">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1226567194887">
                <link role="applicableNode" targetNodeId="1226566979419" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1226567246367">
                <link role="link" targetNodeId="3.1226567214363" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1226567269197">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226567271217">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1226567271218">
            <link role="typeVarDeclaration" targetNodeId="1226567148394" resolveInfo="elementType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226567269200">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1226567264433">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1226567266164">
              <link role="applicableNode" targetNodeId="1226566979419" resolveInfo="operation" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1226566979419">
      <property name="name" value="operation" />
      <link role="concept" targetNodeId="3.1226566855640" resolveInfo="AddSetElementOperaration" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1226591539034">
    <property name="name" value="typeof_RemoveSetElementOperation" />
    <property name="package" value="set" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1226591539035">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1226591558447">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateStrongLessThanInequationStatement" id="1226591582862">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226591582863">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1226591582864">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1226591582865">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1226591582866">
                <link role="applicableNode" targetNodeId="1226591539036" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1226591582867">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226591582868">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1226591582869">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SetType" id="1226591582870">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1226591582871">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1226591582872">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1226591582873">
                    <link role="typeVarDeclaration" targetNodeId="1226591558447" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1226591558460">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226591558461">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1226591558462">
            <link role="typeVarDeclaration" targetNodeId="1226591558447" resolveInfo="elementType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226591558463">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1226591558464">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1226591558465">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1226591558466">
                <link role="applicableNode" targetNodeId="1226591539036" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1226591560289">
                <link role="link" targetNodeId="3.1226591501988" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1226591558468">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226591558469">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1226591558470">
            <link role="typeVarDeclaration" targetNodeId="1226591558447" resolveInfo="elementType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226591558471">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1226591558472">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1226591558473">
              <link role="applicableNode" targetNodeId="1226591539036" resolveInfo="operation" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1226591539036">
      <property name="name" value="operation" />
      <link role="concept" targetNodeId="3.1226591481394" resolveInfo="RemoveSetElementOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1226592772950">
    <property name="name" value="typeof_AddAllSetElementsOperation" />
    <property name="package" value="set" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1226592772951">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1226593404958">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateStrongLessThanInequationStatement" id="1226593417922">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226593422950">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1226593422951">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SetType" id="1226593433715">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1226593433716">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1226593435037">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1226593438296">
                    <link role="typeVarDeclaration" targetNodeId="1226593404958" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226593417925">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1226593412154">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1226593413840">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1226593413189">
                <link role="applicableNode" targetNodeId="1226592772952" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1226593414952">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1226593455235">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226593459511">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1226593459512">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1226593461882">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1226593461883">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1226593463156">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1226593465703">
                    <link role="typeVarDeclaration" targetNodeId="1226593404958" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226593455238">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1226593449179">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1226593451270">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1226593450631">
                <link role="applicableNode" targetNodeId="1226592772952" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1226593452073">
                <link role="link" targetNodeId="3.1226592623721" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1226593534309">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226593536973">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1237738312415">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SetType" id="1237738312416">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1237738312417">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1237738312418">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1237738312419">
                    <link role="typeVarDeclaration" targetNodeId="1226593404958" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226593534312">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1226593527365">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1226593528367">
              <link role="applicableNode" targetNodeId="1226592772952" resolveInfo="operation" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1226592772952">
      <property name="name" value="operation" />
      <link role="concept" targetNodeId="3.1226592602759" resolveInfo="AddAllSetElementsOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1226594103503">
    <property name="name" value="typeof_RemoveAllSetElementsOperation" />
    <property name="package" value="set" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1226594103504">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1226594108923">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateStrongLessThanInequationStatement" id="1226594108924">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226594108925">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1226594108926">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SetType" id="1226594108927">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1226594108928">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1226594108929">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1226594108930">
                    <link role="typeVarDeclaration" targetNodeId="1226594108923" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226594108931">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1226594108932">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1226594108933">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1226594108934">
                <link role="applicableNode" targetNodeId="1226594103505" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1226594108935">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1226594108936">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226594108937">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1226594108938">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1226594108939">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1226594108940">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1226594108941">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1226594108942">
                    <link role="typeVarDeclaration" targetNodeId="1226594108923" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226594108943">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1226594108944">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1226594108945">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1226594108946">
                <link role="applicableNode" targetNodeId="1226594103505" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1226594110798">
                <link role="link" targetNodeId="3.1226593903142" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1226594108949">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226594108950">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1226594108951">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.VoidType" id="1226594108952" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226594108953">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1226594108954">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1226594108955">
              <link role="applicableNode" targetNodeId="1226594103505" resolveInfo="operation" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1226594103505">
      <property name="name" value="operation" />
      <link role="concept" targetNodeId="3.1226593880804" resolveInfo="RemoveAllSetElementsOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.SubtypingRule" id="1226598429206">
    <property name="name" value="set_weakSupertypeOf_ClassifierType_Set" />
    <property name="isWeak" value="true" />
    <property name="package" value="set" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1226598429207">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1226598588376">
        <node role="expression" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1226598589599">
          <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SetType" id="1226598589600">
            <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1226598589601">
              <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1226598589602">
                <node role="expression" type="jetbrains.mps.lang.typesystem.structure.PatternVariableReference" id="1226598589603">
                  <link role="patternVarDecl" targetNodeId="1226598523782" resolveInfo="#elementType" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.PatternCondition" id="1226598487588">
      <property name="name" value="set" />
      <node role="pattern" type="jetbrains.mps.lang.pattern.structure.PatternExpression" id="1226598487589">
        <node role="patternNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1226598506652">
          <link role="classifier" targetNodeId="8.~Set" resolveInfo="Set" />
          <node role="parameter" type="jetbrains.mps.baseLanguage.structure.Type" id="1226598508133">
            <node role="_attr_$attribute" type="jetbrains.mps.lang.pattern.structure.PatternVariableDeclaration" id="1226598523782">
              <property name="varName" value="elementType" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.SubtypingRule" id="1226598870189">
    <property name="name" value="sequence_supertypeOf_set" />
    <property name="package" value="set" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1226598870190">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1226598901185">
        <node role="expression" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1226598903785">
          <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1226598906123">
            <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1226598906124">
              <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1226598907789">
                <node role="expression" type="jetbrains.mps.lang.typesystem.structure.PatternVariableReference" id="1226598909880">
                  <link role="patternVarDecl" targetNodeId="1226598892549" resolveInfo="#elementType" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.PatternCondition" id="1226598883120">
      <property name="name" value="set" />
      <node role="pattern" type="jetbrains.mps.lang.pattern.structure.PatternExpression" id="1226598883121">
        <node role="patternNode" type="jetbrains.mps.baseLanguage.collections.structure.SetType" id="1226598890779">
          <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1226598890780">
            <node role="_attr_$attribute" type="jetbrains.mps.lang.pattern.structure.PatternVariableDeclaration" id="1226598892549">
              <property name="varName" value="elementType" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InequationReplacementRule" id="1226598928538">
    <property name="name" value="set_covariant_by_elementType" />
    <property name="package" value="set" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1226598928540">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1226676200291">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226676202027">
          <node role="normalType" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1226676203258">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1226676202028">
              <link role="applicableNode" targetNodeId="1226676148201" resolveInfo="rSetType" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1226676204239">
              <link role="link" targetNodeId="3.1226511765987" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226676200294">
          <node role="normalType" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1226676195618">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1226676194451">
              <link role="applicableNode" targetNodeId="1226676140001" resolveInfo="lSetType" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1226676196741">
              <link role="link" targetNodeId="3.1226511765987" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1226676140001">
      <property name="name" value="lSetType" />
      <link role="concept" targetNodeId="3.1226511727824" resolveInfo="SetType" />
    </node>
    <node role="supertypeNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1226676148201">
      <property name="name" value="rSetType" />
      <link role="concept" targetNodeId="3.1226511727824" resolveInfo="SetType" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.SubtypingRule" id="1226599215753">
    <property name="name" value="ClassifierType_Set_weakSupertypeOf_set" />
    <property name="isWeak" value="true" />
    <property name="package" value="set" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1226599215754">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1226599255596">
        <node role="expression" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1226599258332">
          <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1228232393709">
            <link role="classifier" targetNodeId="8.~Set" resolveInfo="Set" />
            <node role="parameter" type="jetbrains.mps.baseLanguage.structure.Type" id="1228232394499">
              <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1228232396602">
                <node role="expression" type="jetbrains.mps.lang.typesystem.structure.PatternVariableReference" id="1228232398883">
                  <link role="patternVarDecl" targetNodeId="1228232377139" resolveInfo="#elementType" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.PatternCondition" id="1226599234235">
      <property name="name" value="set" />
      <node role="pattern" type="jetbrains.mps.lang.pattern.structure.PatternExpression" id="1226599234236">
        <node role="patternNode" type="jetbrains.mps.baseLanguage.collections.structure.SetType" id="1228232375657">
          <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1228232375658">
            <node role="_attr_$attribute" type="jetbrains.mps.lang.pattern.structure.PatternVariableDeclaration" id="1228232377139">
              <property name="varName" value="elementType" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1226934632457">
    <property name="name" value="typeof_ClearSetOperation" />
    <property name="package" value="set" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1226934632458">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1226934681270">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1226934661883">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226934665007">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1226934665008">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SetType" id="1226934670728">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1226934670729">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1226934688214">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1226934690926">
                    <link role="typeVarDeclaration" targetNodeId="1226934681270" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226934661887">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1226934649738">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1226934652482">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1226934652090">
                <link role="applicableNode" targetNodeId="1226934632459" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1226934655230">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1226934702238">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226934705121">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1226934705122">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.VoidType" id="1226934707884" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1226934702241">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1226934695674">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1226934697588">
              <link role="applicableNode" targetNodeId="1226934632459" resolveInfo="operation" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1226934632459">
      <property name="name" value="operation" />
      <link role="concept" targetNodeId="3.1226934395923" resolveInfo="ClearSetOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1227022291587">
    <property name="name" value="typeof_RemoveAtElementOperation" />
    <property name="package" value="list" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227022291588">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1227022325815">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1227022316284">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227022319523">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1227022319524">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1227022321420">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1227022321421">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1227022331673">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1227022334306">
                    <link role="typeVarDeclaration" targetNodeId="1227022325815" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227022316288">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1227022309333">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227022312402">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1227022311424">
                <link role="applicableNode" targetNodeId="1227022291589" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1227022313451">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1227022345453">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227022348017">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1227022348018">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.IntegerType" id="1227022353564" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227022345456">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1227022338592">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227022340502">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1227022339728">
                <link role="applicableNode" targetNodeId="1227022291589" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1227022342139">
                <link role="link" targetNodeId="3.1227022274197" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1227022501971">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227022504145">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1227022504146">
            <link role="typeVarDeclaration" targetNodeId="1227022325815" resolveInfo="elementType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227022501974">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1227022497064">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1227022498802">
              <link role="applicableNode" targetNodeId="1227022291589" resolveInfo="operation" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1227022291589">
      <property name="name" value="operation" />
      <link role="concept" targetNodeId="3.1227022196108" resolveInfo="RemoveAtElementOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1227022545670">
    <property name="name" value="typeof_ClearAllElementsOperation" />
    <property name="package" value="list" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227022545671">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1227022555843">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1227022555844">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227022555845">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1227022555846">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1227022555847">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1227022555848">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1227022555849">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1227022555850">
                    <link role="typeVarDeclaration" targetNodeId="1227022555843" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227022555851">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1227022555852">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227022555853">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1227022555854">
                <link role="applicableNode" targetNodeId="1227022545672" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1227022555855">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1227022564431">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227022566884">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1227022566885">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.VoidType" id="1227022569583" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227022564435">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1227022560572">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1227022561422">
              <link role="applicableNode" targetNodeId="1227022545672" resolveInfo="operation" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1227022545672">
      <property name="name" value="operation" />
      <link role="concept" targetNodeId="3.1227022210526" resolveInfo="ClearAllElementsOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1227022638839">
    <property name="name" value="typeof_AddFirstElementOperation" />
    <property name="package" value="list" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227022638840">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1227022664180">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1227022664181">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227022664182">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1227022664183">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1227022664184">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1227022664185">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1227022664186">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1227022664187">
                    <link role="typeVarDeclaration" targetNodeId="1227022664180" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227022664188">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1227022664189">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227022664190">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1227022664191">
                <link role="applicableNode" targetNodeId="1227022638841" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1227022664192">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1227022664193">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227022664194">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1227022673443">
            <link role="typeVarDeclaration" targetNodeId="1227022664180" resolveInfo="elementType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227022664197">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1227022664198">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227022664199">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1227022664200">
                <link role="applicableNode" targetNodeId="1227022638841" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1227022668169">
                <link role="link" targetNodeId="3.1227022622978" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1227022664202">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227022664203">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1227022664204">
            <link role="typeVarDeclaration" targetNodeId="1227022664180" resolveInfo="elementType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227022664205">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1227022664206">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1227022664207">
              <link role="applicableNode" targetNodeId="1227022638841" resolveInfo="operation" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1227022638841">
      <property name="name" value="operation" />
      <link role="concept" targetNodeId="3.1227022159410" resolveInfo="AddFirstElementOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1227022714857">
    <property name="name" value="typeof_AddLastElementOperation" />
    <property name="package" value="list" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227022714858">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1227022724662">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1227022724663">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227022724664">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1227022724665">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1227022724666">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1227022724667">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1227022724668">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1227022724669">
                    <link role="typeVarDeclaration" targetNodeId="1227022724662" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227022724670">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1227022724671">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227022724672">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1227022724673">
                <link role="applicableNode" targetNodeId="1227022714859" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1227022724674">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1227022724675">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227022724676">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1227022724677">
            <link role="typeVarDeclaration" targetNodeId="1227022724662" resolveInfo="elementType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227022724678">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1227022724679">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227022724680">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1227022724681">
                <link role="applicableNode" targetNodeId="1227022714859" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1227022726256">
                <link role="link" targetNodeId="3.1227022698412" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1227022724683">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227022724684">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1227022724685">
            <link role="typeVarDeclaration" targetNodeId="1227022724662" resolveInfo="elementType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227022724686">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1227022724687">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1227022724688">
              <link role="applicableNode" targetNodeId="1227022714859" resolveInfo="operation" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1227022714859">
      <property name="name" value="operation" />
      <link role="concept" targetNodeId="3.1227022179634" resolveInfo="AddLastElementOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1227026148894">
    <property name="name" value="typeof_RemoveFirstElementOperation" />
    <property name="package" value="list" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227026148895">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1227026150601">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1227026150602">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227026150603">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1227026150604">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1227026150605">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1227026150606">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1227026150607">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1227026150608">
                    <link role="typeVarDeclaration" targetNodeId="1227026150601" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227026150609">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1227026150610">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227026150611">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1227026150612">
                <link role="applicableNode" targetNodeId="1227026148896" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1227026150613">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1227026150623">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227026150624">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1227026150625">
            <link role="typeVarDeclaration" targetNodeId="1227026150601" resolveInfo="elementType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227026150626">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1227026150627">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1227026150628">
              <link role="applicableNode" targetNodeId="1227026148896" resolveInfo="operation" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1227026148896">
      <property name="name" value="operation" />
      <link role="concept" targetNodeId="3.1227026082377" resolveInfo="RemoveFirstElementOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1227026162503">
    <property name="name" value="typeof_RemoveLastElementOperation" />
    <property name="package" value="list" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227026162504">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1227026164016">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1227026164017">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227026164018">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1227026164019">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.ListType" id="1227026164020">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1227026164021">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1227026164022">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1227026164023">
                    <link role="typeVarDeclaration" targetNodeId="1227026164016" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227026164024">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1227026164025">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227026164026">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1227026164027">
                <link role="applicableNode" targetNodeId="1227026162505" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1227026164028">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1227026164038">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227026164039">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1227026164040">
            <link role="typeVarDeclaration" targetNodeId="1227026164016" resolveInfo="elementType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1227026164041">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1227026164042">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1227026164043">
              <link role="applicableNode" targetNodeId="1227026162505" resolveInfo="operation" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1227026162505">
      <property name="name" value="operation" />
      <link role="concept" targetNodeId="3.1227026094155" resolveInfo="RemoveLastElementOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1227627122674">
    <property name="name" value="typeof_ForEachVariable" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1227627122675">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.AddDependencyStatement" id="1227627136768">
        <node role="dependency" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1227627143036">
          <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1227627141192">
            <link role="applicableNode" targetNodeId="1227627122676" resolveInfo="variable" />
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_GetParentOperation" id="1227627144149" />
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1227627122676">
      <property name="name" value="variable" />
      <link role="concept" targetNodeId="3.1153944193378" resolveInfo="ForEachVariable" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1228229118221">
    <property name="name" value="typeof_DowncastExpression" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1228229118222">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.WhenConcreteStatement" id="1228231553787">
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1228231553788">
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CoerceStatement" id="1228231671615">
            <node role="nodeToCoerce" type="jetbrains.mps.lang.typesystem.structure.WhenConcreteVariableReference" id="1228231682378">
              <link role="whenConcreteVar" targetNodeId="1228231553790" resolveInfo="expType" />
            </node>
            <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1228231671618">
              <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1228231787457">
                <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1228231798252">
                  <node role="normalType" type="jetbrains.mps.baseLanguage.structure.StaticMethodCall" id="1228231800430">
                    <link role="baseMethodDeclaration" targetNodeId="2.1201536134312" resolveInfo="getTypeCoercedToClassifierType" />
                    <link role="classConcept" targetNodeId="2.1201536121399" resolveInfo="ClassifierTypeUtil" />
                    <node role="actualArgument" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1228231815787">
                      <link role="applicableNode" targetNodeId="1228231761606" resolveInfo="type" />
                    </node>
                  </node>
                </node>
                <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1228231787460">
                  <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1228231710394">
                    <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1228231718668">
                      <link role="applicableNode" targetNodeId="1228229118223" resolveInfo="expression" />
                    </node>
                  </node>
                </node>
              </node>
            </node>
            <node role="pattern" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1228231761606">
              <property name="name" value="type" />
              <link role="concept" targetNodeId="7.1068431790189" resolveInfo="Type" />
            </node>
          </node>
        </node>
        <node role="argument" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1228231559409">
          <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1228231563410">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1228231561833">
              <link role="applicableNode" targetNodeId="1228229118223" resolveInfo="expression" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1228231563980">
              <link role="link" targetNodeId="3.1228228959951" />
            </node>
          </node>
        </node>
        <node role="argumentRepresentator" type="jetbrains.mps.lang.typesystem.structure.WhenConcreteVariableDeclaration" id="1228231553790">
          <property name="name" value="expType" />
          <node role="type" type="jetbrains.mps.baseLanguage.structure.Type" id="1228231553791" />
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1228229118223">
      <property name="name" value="expression" />
      <link role="concept" targetNodeId="3.1228228912534" resolveInfo="DowncastExpression" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1235566720229">
    <property name="name" value="typeof_AnyOperation" />
    <property name="package" value="internal" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1235566720230">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1235566732268">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1235566732269">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1235566732270">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1235566732271">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1235566732272">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1235566732273">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1235566732274">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1235566732275">
                    <link role="typeVarDeclaration" targetNodeId="1235566732268" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1235566732276">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1235566732277">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1235566732278">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1235566732279">
                <link role="applicableNode" targetNodeId="1235566720231" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1235566732280">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1235566732281">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1235566732282">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1235566752834">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1235566761544" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1235566732284">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1235566732285">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1235566732286">
              <link role="applicableNode" targetNodeId="1235566720231" resolveInfo="operation" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1235566732288">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1235566732289">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1235566732290">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.closures.structure.FunctionType" id="1235566732291">
              <node role="parameterType" type="jetbrains.mps.baseLanguage.structure.Type" id="1235566732292">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1235566732293">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1235566732294">
                    <link role="typeVarDeclaration" targetNodeId="1235566732268" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
              <node role="resultType" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1235566732295" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1235566732296">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1235566732297">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1235566732298">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1235566732299">
                <link role="applicableNode" targetNodeId="1235566720231" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1235566768656">
                <link role="link" targetNodeId="3.1235566554329" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1235566720231">
      <property name="name" value="operation" />
      <link role="concept" targetNodeId="3.1235566554328" resolveInfo="AnyOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1235566874836">
    <property name="name" value="typeof_AllOperation" />
    <property name="package" value="internal" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1235566874837">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1235566876897">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1235566876898">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1235566876899">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1235566876900">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1235566876901">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1235566876902">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1235566876903">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1235566876904">
                    <link role="typeVarDeclaration" targetNodeId="1235566876897" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1235566876905">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1235566876906">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1235566876907">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1235566876908">
                <link role="applicableNode" targetNodeId="1235566874838" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1235566876909">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1235566876911">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1235566876912">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1235566876913">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1235566876914" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1235566876915">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1235566876916">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1235566876917">
              <link role="applicableNode" targetNodeId="1235566874838" resolveInfo="operation" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1235566876918">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1235566876919">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1235566876920">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.closures.structure.FunctionType" id="1235566876921">
              <node role="parameterType" type="jetbrains.mps.baseLanguage.structure.Type" id="1235566876922">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1235566876923">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1235566876924">
                    <link role="typeVarDeclaration" targetNodeId="1235566876897" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
              <node role="resultType" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1235566876925" />
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1235566876926">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1235566876927">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1235566876928">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1235566876929">
                <link role="applicableNode" targetNodeId="1235566874838" resolveInfo="operation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1235566880163">
                <link role="link" targetNodeId="3.1235566831862" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1235566874838">
      <property name="name" value="operation" />
      <link role="concept" targetNodeId="3.1235566831861" resolveInfo="AllOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1235573443526">
    <property name="name" value="typeof_SingletonSequenceCreator" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1235573443527">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclarationStatement" id="1235573464915">
        <node role="localVariableDeclaration" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1235573464916">
          <property name="name" value="elementType" />
          <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1235573464917">
            <link role="concept" targetNodeId="7.1068431790189" resolveInfo="Type" />
          </node>
          <node role="initializer" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1235573464918">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1235573464919">
              <link role="applicableNode" targetNodeId="1235573443528" resolveInfo="creator" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1235573467598">
              <link role="link" targetNodeId="3.1235573175711" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1235574608531">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1235574613466">
          <node role="normalType" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1235574613467">
            <link role="variableDeclaration" targetNodeId="1235573464916" resolveInfo="elementType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1235574608535">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1235574583102">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1235574588476">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1235574587850">
                <link role="applicableNode" targetNodeId="1235573443528" resolveInfo="creator" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1235574592182">
                <link role="link" targetNodeId="3.1235573187520" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1235573464921">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1235573464922">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1235573464923">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1235573464924">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1235573464925">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1235573464926">
                  <node role="expression" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1235573464927">
                    <link role="variableDeclaration" targetNodeId="1235573464916" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1235573464928">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1235573464929">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1235573464930">
              <link role="applicableNode" targetNodeId="1235573443528" resolveInfo="creator" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1235573443528">
      <property name="name" value="creator" />
      <link role="concept" targetNodeId="3.1235573135402" resolveInfo="SingletonSequenceCreator" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.SubtypingRule" id="1237469184035">
    <property name="name" value="supertypesOf_IteratorType" />
    <property name="isWeak" value="true" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1237469184036">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1237469865564">
        <node role="expression" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1237469865565">
          <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1237469865566">
            <link role="classifier" targetNodeId="8.~Iterator" resolveInfo="Iterator" />
            <node role="parameter" type="jetbrains.mps.baseLanguage.structure.Type" id="1237469865567">
              <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1237469865568">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237469865569">
                  <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237469865570">
                    <link role="applicableNode" targetNodeId="1237469223387" resolveInfo="iteratorType" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1237469865571">
                    <link role="link" targetNodeId="3.1237467730343" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1237469223387">
      <property name="name" value="iteratorType" />
      <link role="concept" targetNodeId="3.1237467705688" resolveInfo="IteratorType" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.SubtypingRule" id="1237469274783">
    <property name="name" value="supertypesOf_ClassifierType_Iterator" />
    <property name="isWeak" value="true" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1237469274784">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1237469942895">
        <node role="expression" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1237469942896">
          <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.IteratorType" id="1237469942897">
            <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1237469942898">
              <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1237469942899">
                <node role="expression" type="jetbrains.mps.lang.typesystem.structure.PatternVariableReference" id="1237469942900">
                  <link role="patternVarDecl" targetNodeId="1237469376770" resolveInfo="#p" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.PatternCondition" id="1237469342648">
      <property name="name" value="iterator" />
      <node role="pattern" type="jetbrains.mps.lang.pattern.structure.PatternExpression" id="1237469342649">
        <node role="patternNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1237469353421">
          <link role="classifier" targetNodeId="8.~Iterator" resolveInfo="Iterator" />
          <node role="parameter" type="jetbrains.mps.baseLanguage.structure.Type" id="1237469375593">
            <node role="_attr_$attribute" type="jetbrains.mps.lang.pattern.structure.PatternVariableDeclaration" id="1237469376770">
              <property name="varName" value="p" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InequationReplacementRule" id="1237470007043">
    <property name="name" value="iterator_subtypeOf_iterator" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1237470007045">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1237470147423">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237470147424">
          <node role="normalType" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237470147425">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237470147426">
              <link role="applicableNode" targetNodeId="1237470091497" resolveInfo="left" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1237470147427">
              <link role="link" targetNodeId="3.1237467730343" />
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237470147428">
          <node role="normalType" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237470147429">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237470147430">
              <link role="applicableNode" targetNodeId="1237470107569" resolveInfo="right" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1237470147431">
              <link role="link" targetNodeId="3.1237467730343" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1237470091497">
      <property name="name" value="left" />
      <link role="concept" targetNodeId="3.1237467705688" resolveInfo="IteratorType" />
    </node>
    <node role="supertypeNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1237470107569">
      <property name="name" value="right" />
      <link role="concept" targetNodeId="3.1237467705688" resolveInfo="IteratorType" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1237470333097">
    <property name="name" value="typeof_GetIteratorOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1237470333098">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1237470428123">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateStrongLessThanInequationStatement" id="1237470396562">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237470398547">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1237470398548">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237470404420">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237470404184">
                <link role="applicableNode" targetNodeId="1237470333099" resolveInfo="iterator" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1237470864654">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237470416321">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1237470416322">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1237470418240">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1237470418241">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1237470434180">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1237470435422">
                    <link role="typeVarDeclaration" targetNodeId="1237470428123" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1237470444587">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237470447624">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1237470447625">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.IteratorType" id="1237470449987">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1237470449988">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1237470451754">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1237470453527">
                    <link role="typeVarDeclaration" targetNodeId="1237470428123" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237470444591">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1237470439545">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237470442043">
              <link role="applicableNode" targetNodeId="1237470333099" resolveInfo="iterator" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1237470333099">
      <property name="name" value="iterator" />
      <link role="concept" targetNodeId="3.1237467461002" resolveInfo="IteratorOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1237470917222">
    <property name="name" value="typeof_HasNextOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1237470917223">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1237470988790">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateStrongLessThanInequationStatement" id="1237470975923">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237470978738">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1237470978739">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.IteratorType" id="1237470981540">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1237470981541">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1237471002892">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1237471004033">
                    <link role="typeVarDeclaration" targetNodeId="1237470988790" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237470975927">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1237470932214">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237470966961">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237470966252">
                <link role="applicableNode" targetNodeId="1237470917224" resolveInfo="hasNext" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1237470969288">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1237471013663">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237471016019">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1237471016020">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1237471020576" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237471013666">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1237471009307">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237471011982">
              <link role="applicableNode" targetNodeId="1237470917224" resolveInfo="hasNext" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1237470917224">
      <property name="name" value="hasNext" />
      <link role="concept" targetNodeId="3.1237470895604" resolveInfo="HasNextOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1237471047473">
    <property name="name" value="typeof_GetNextOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1237471047474">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1237471059662">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateStrongLessThanInequationStatement" id="1237471059663">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237471059664">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1237471059665">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.IteratorType" id="1237471059666">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1237471059667">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1237471059668">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1237471059669">
                    <link role="typeVarDeclaration" targetNodeId="1237471059662" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237471059670">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1237471059671">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237471059672">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237471059673">
                <link role="applicableNode" targetNodeId="1237471047475" resolveInfo="hasNext" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1237471059674">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1237471059675">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237471059676">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1237471072551">
            <link role="typeVarDeclaration" targetNodeId="1237471059662" resolveInfo="elementType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237471059679">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1237471059680">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237471059681">
              <link role="applicableNode" targetNodeId="1237471047475" resolveInfo="hasNext" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1237471047475">
      <property name="name" value="next" />
      <link role="concept" targetNodeId="3.1237471031357" resolveInfo="NextOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1237471103266">
    <property name="name" value="typeof_GetCurrentOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1237471103267">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1237471109733">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateStrongLessThanInequationStatement" id="1237471109734">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237471109735">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1237471109736">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.EnumeratorType" id="1237497148990">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1237497148991">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1237497150925">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1237497152131">
                    <link role="typeVarDeclaration" targetNodeId="1237471109733" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237471109741">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1237471109742">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237471109743">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237471109744">
                <link role="applicableNode" targetNodeId="1237471103268" resolveInfo="hasNext" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1237471109745">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1237471109746">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237471109747">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1237471115741">
            <link role="typeVarDeclaration" targetNodeId="1237471109733" resolveInfo="elementType" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237471109750">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1237471109751">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237471109752">
              <link role="applicableNode" targetNodeId="1237471103268" resolveInfo="hasNext" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1237471103268">
      <property name="name" value="current" />
      <link role="concept" targetNodeId="3.1237471080820" resolveInfo="GetCurrentOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1237471184664">
    <property name="name" value="typeof_MoveNextOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1237471184665">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1237471191123">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateStrongLessThanInequationStatement" id="1237471191124">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237471191125">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1237471191126">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.EnumeratorType" id="1237497139345">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1237497139346">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1237497140957">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1237497142014">
                    <link role="typeVarDeclaration" targetNodeId="1237471191123" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237471191131">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1237471191132">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237471191133">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237471191134">
                <link role="applicableNode" targetNodeId="1237471184666" resolveInfo="hasNext" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1237471191135">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1237471191136">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237471191137">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1237471191138">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1237471191139" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237471191140">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1237471191141">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237471191142">
              <link role="applicableNode" targetNodeId="1237471184666" resolveInfo="hasNext" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1237471184666">
      <property name="name" value="moveNext" />
      <link role="concept" targetNodeId="3.1237471163346" resolveInfo="MoveNextOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.SubtypingRule" id="1237496559130">
    <property name="name" value="supertypesOf_EnumeratorType" />
    <property name="isWeak" value="true" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1237496559131">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1237496623456">
        <node role="expression" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1237496627721">
          <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1237496638504">
            <link role="classifier" targetNodeId="6.~IEnumerator" resolveInfo="IEnumerator" />
            <node role="parameter" type="jetbrains.mps.baseLanguage.structure.Type" id="1237496640147">
              <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1237496641579">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237496643958">
                  <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237496643300">
                    <link role="applicableNode" targetNodeId="1237496605493" resolveInfo="enumeratorType" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1237496644816">
                    <link role="link" targetNodeId="3.1237496250642" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1237496605493">
      <property name="name" value="enumeratorType" />
      <link role="concept" targetNodeId="3.1237496250641" resolveInfo="EnumeratorType" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.SubtypingRule" id="1237496656054">
    <property name="name" value="supertypesOf_EnumeratorType_IteratorType" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1237496656055">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1237496697088">
        <node role="expression" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1237496699571">
          <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.IteratorType" id="1237496703758">
            <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1237496703759">
              <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1237496705347">
                <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237496707922">
                  <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237496707193">
                    <link role="applicableNode" targetNodeId="1237496689445" resolveInfo="enumeratorType" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1237496709821">
                    <link role="link" targetNodeId="3.1237496250642" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1237496689445">
      <property name="name" value="enumeratorType" />
      <link role="concept" targetNodeId="3.1237496250641" resolveInfo="EnumeratorType" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.SubtypingRule" id="1237496715796">
    <property name="name" value="supertypesOf_IEnumerator" />
    <property name="isWeak" value="true" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1237496715797">
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.ReturnStatement" id="1237496748592">
        <node role="expression" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1237496750947">
          <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.EnumeratorType" id="1237496753830">
            <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1237496753831">
              <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1237496756634">
                <node role="expression" type="jetbrains.mps.lang.typesystem.structure.PatternVariableReference" id="1237496764169">
                  <link role="patternVarDecl" targetNodeId="1237496761444" resolveInfo="#p" />
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.PatternCondition" id="1237496731691">
      <property name="name" value="enumerator" />
      <node role="pattern" type="jetbrains.mps.lang.pattern.structure.PatternExpression" id="1237496731692">
        <node role="patternNode" type="jetbrains.mps.baseLanguage.structure.ClassifierType" id="1237496740743">
          <link role="classifier" targetNodeId="6.~IEnumerator" resolveInfo="IEnumerator" />
          <node role="parameter" type="jetbrains.mps.baseLanguage.structure.Type" id="1237496760960">
            <node role="_attr_$attribute" type="jetbrains.mps.lang.pattern.structure.PatternVariableDeclaration" id="1237496761444">
              <property name="varName" value="p" />
            </node>
          </node>
        </node>
      </node>
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InequationReplacementRule" id="1237496769944">
    <property name="name" value="enumerator_subtypeOf_enumerator" />
    <node role="supertypeNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1237496791249">
      <property name="name" value="right" />
      <link role="concept" targetNodeId="3.1237496250641" resolveInfo="EnumeratorType" />
    </node>
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1237496769946">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1237496801702">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237496820820">
          <node role="normalType" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237496820870">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237496820821">
              <link role="applicableNode" targetNodeId="1237496785552" resolveInfo="left" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1237496822757">
              <link role="link" targetNodeId="3.1237496250642" />
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237496825528">
          <node role="normalType" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237496825895">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237496825529">
              <link role="applicableNode" targetNodeId="1237496791249" resolveInfo="right" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1237496826845">
              <link role="link" targetNodeId="3.1237496250642" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1237496785552">
      <property name="name" value="left" />
      <link role="concept" targetNodeId="3.1237496250641" resolveInfo="EnumeratorType" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1237549316054">
    <property name="name" value="typeof_GetEnumeratorOperation" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1237549316055">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1237549347223">
        <property name="name" value="elementType" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateStrongLessThanInequationStatement" id="1237549347224">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237549347225">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1237549347226">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237549347227">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237549347228">
                <link role="applicableNode" targetNodeId="1237549316056" resolveInfo="iterator" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1237549347229">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237549347230">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1237549347231">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1237549347232">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1237549347233">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1237549347234">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1237549347235">
                    <link role="typeVarDeclaration" targetNodeId="1237549347223" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1237549347236">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237549347237">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1237549347238">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.EnumeratorType" id="1237549363738">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1237549363739">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1237549365211">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1237549366159">
                    <link role="typeVarDeclaration" targetNodeId="1237549347223" resolveInfo="elementType" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237549347243">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1237549347244">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237549347245">
              <link role="applicableNode" targetNodeId="1237549316056" resolveInfo="iterator" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1237549316056">
      <property name="name" value="emunerator" />
      <link role="concept" targetNodeId="3.1237549269949" resolveInfo="GetEnumeratorOperation" />
    </node>
  </node>
  <visible index="3" modelUID="r:00000000-0000-4000-0000-011c89590327(jetbrains.mps.baseLanguage.collections.behavior)" />
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1237723040301">
    <property name="name" value="typeof_AbstractContainerCreator" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1237723040302">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.MultipleForeachLoop" id="1237723049565">
        <node role="loopVariable" type="jetbrains.mps.lang.typesystem.structure.MultipleForeachLoopVariable" id="1237723049566">
          <node role="variable" type="jetbrains.mps.baseLanguage.structure.LocalVariableDeclaration" id="1237723049567">
            <property name="name" value="initValue" />
            <node role="type" type="jetbrains.mps.lang.smodel.structure.SNodeType" id="1237723049568" />
          </node>
          <node role="iterable" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237723049569">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237723049570">
              <link role="applicableNode" targetNodeId="1237723040303" resolveInfo="creator" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkListAccess" id="1237723052939">
              <link role="link" targetNodeId="3.1237721435808" />
            </node>
          </node>
        </node>
        <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1237723049572">
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1237723049573">
            <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237723049574">
              <node role="normalType" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237723049575">
                <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237723049576">
                  <link role="applicableNode" targetNodeId="1237723040303" resolveInfo="creator" />
                </node>
                <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1237723054914">
                  <link role="link" targetNodeId="3.1237721435807" />
                </node>
              </node>
            </node>
            <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237723049578">
              <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1237723049579">
                <node role="term" type="jetbrains.mps.baseLanguage.structure.LocalVariableReference" id="1237723049580">
                  <link role="variableDeclaration" targetNodeId="1237723049567" resolveInfo="initValue" />
                </node>
              </node>
            </node>
            <node role="errorString" type="jetbrains.mps.baseLanguage.structure.PlusExpression" id="1237723049581">
              <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.PlusExpression" id="1237723049582">
                <node role="rightExpression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1237723049583">
                  <property name="value" value=" is expected" />
                </node>
                <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237723049584">
                  <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237723049585">
                    <link role="applicableNode" targetNodeId="1237723040303" resolveInfo="creator" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1237723074848">
                    <link role="link" targetNodeId="3.1237721435807" />
                  </node>
                </node>
              </node>
              <node role="leftExpression" type="jetbrains.mps.baseLanguage.structure.StringLiteral" id="1237723049587" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.baseLanguage.structure.IfStatement" id="1237732273863">
        <node role="ifTrue" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1237732273864">
          <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1237732500182">
            <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237732500183">
              <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1237732500184">
                <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237732500185">
                  <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237732500186">
                    <link role="applicableNode" targetNodeId="1237723040303" resolveInfo="creator" />
                  </node>
                  <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1237732500187">
                    <link role="link" targetNodeId="3.1237731803878" />
                  </node>
                </node>
              </node>
            </node>
            <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237732500188">
              <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1237732500189">
                <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1237732500190">
                  <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1237732500191">
                    <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1237732500192">
                      <node role="expression" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237732500193">
                        <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237732500194">
                          <link role="applicableNode" targetNodeId="1237723040303" resolveInfo="creator" />
                        </node>
                        <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1237732500195">
                          <link role="link" targetNodeId="3.1237721435807" />
                        </node>
                      </node>
                    </node>
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="condition" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237732285972">
          <node role="operand" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237732280240">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237732277577">
              <link role="applicableNode" targetNodeId="1237723040303" resolveInfo="creator" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1237732284998">
              <link role="link" targetNodeId="3.1237731803878" />
            </node>
          </node>
          <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_IsNotNullOperation" id="1237732287011" />
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1237723275733">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237723292397">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1237723292398">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237723293985">
              <link role="applicableNode" targetNodeId="1237723040303" resolveInfo="creator" />
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237723305207">
          <node role="normalType" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237723673392">
            <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237723318408">
              <link role="applicableNode" targetNodeId="1237723040303" resolveInfo="creator" />
            </node>
            <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1237723674145">
              <link role="baseMethodDeclaration" targetNodeId="3v.1237722437229" resolveInfo="createType" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1237723040303">
      <property name="name" value="creator" />
      <link role="concept" targetNodeId="3.1237721394592" resolveInfo="AbstractContainerCreator" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1237907193276">
    <property name="name" value="typeof_ContainsValueOperation" />
    <property name="package" value="mapType" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1237907193277">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1237907234104">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237907234105">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1237907234106">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.structure.BooleanType" id="1237907234107" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237907234108">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1237907234109">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237907234110">
              <link role="applicableNode" targetNodeId="1237907193278" resolveInfo="containsKeyOperation" />
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1237907234111">
        <property name="name" value="KEY" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1237907234112">
        <property name="name" value="VALUE" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateStrongLessThanInequationStatement" id="1237907243815">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237907243816">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1237907243817">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237907243818">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237907243819">
                <link role="applicableNode" targetNodeId="1237907193278" resolveInfo="op" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1237907243820">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237907243821">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1237907243822">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.MapType" id="1237907243823">
              <node role="valueType" type="jetbrains.mps.baseLanguage.structure.Type" id="1237907243824">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1237907243825">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1237907243826">
                    <link role="typeVarDeclaration" targetNodeId="1237907234112" resolveInfo="VALUE" />
                  </node>
                </node>
              </node>
              <node role="keyType" type="jetbrains.mps.baseLanguage.structure.Type" id="1237907243827">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1237907243828">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1237907243829">
                    <link role="typeVarDeclaration" targetNodeId="1237907234111" resolveInfo="KEY" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateLessThanInequationStatement" id="1237907234128">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237907234129">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1237907252507">
            <link role="typeVarDeclaration" targetNodeId="1237907234112" resolveInfo="VALUE" />
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237907234131">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1237907234132">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237907234133">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237907234134">
                <link role="applicableNode" targetNodeId="1237907193278" resolveInfo="containsKeyOperation" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.SLinkAccess" id="1237907247393">
                <link role="link" targetNodeId="3.1237907150183" />
              </node>
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1237907193278">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1237907129112" resolveInfo="ContainsValueOperation" />
    </node>
  </node>
  <node type="jetbrains.mps.lang.typesystem.structure.InferenceRule" id="1237909243402">
    <property name="name" value="typeof_GetValuesOperation" />
    <property name="package" value="mapType" />
    <node role="body" type="jetbrains.mps.baseLanguage.structure.StatementList" id="1237909243403">
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1237909258568">
        <property name="name" value="KEY" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.TypeVarDeclaration" id="1237909258569">
        <property name="name" value="VALUE" />
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateStrongLessThanInequationStatement" id="1237909483729">
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237909483730">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1237909483731">
            <node role="term" type="jetbrains.mps.baseLanguage.structure.DotExpression" id="1237909483732">
              <node role="operand" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237909483733">
                <link role="applicableNode" targetNodeId="1237909243404" resolveInfo="op" />
              </node>
              <node role="operation" type="jetbrains.mps.lang.smodel.structure.Node_ConceptMethodCall" id="1237909483734">
                <link role="baseMethodDeclaration" targetNodeId="18.1213877410070" resolveInfo="getOperand" />
              </node>
            </node>
          </node>
        </node>
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237909483735">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1237909483736">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.MapType" id="1237909483737">
              <node role="keyType" type="jetbrains.mps.baseLanguage.structure.Type" id="1237909483738">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1237909483739">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1237909483740">
                    <link role="typeVarDeclaration" targetNodeId="1237909258568" resolveInfo="KEY" />
                  </node>
                </node>
              </node>
              <node role="valueType" type="jetbrains.mps.baseLanguage.structure.Type" id="1237909483741">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1237909483742">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1237909483743">
                    <link role="typeVarDeclaration" targetNodeId="1237909258569" resolveInfo="VALUE" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
      </node>
      <node role="statement" type="jetbrains.mps.lang.typesystem.structure.CreateEquationStatement" id="1237909258585">
        <node role="rightExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237909258586">
          <node role="normalType" type="jetbrains.mps.lang.quotation.structure.Quotation" id="1237909258587">
            <node role="quotedNode" type="jetbrains.mps.baseLanguage.collections.structure.SequenceType" id="1237909258588">
              <node role="elementType" type="jetbrains.mps.baseLanguage.structure.Type" id="1237909258589">
                <node role="_attr_$attribute" type="jetbrains.mps.lang.quotation.structure.Antiquotation" id="1237909258590">
                  <node role="expression" type="jetbrains.mps.lang.typesystem.structure.TypeVarReference" id="1237909266391">
                    <link role="typeVarDeclaration" targetNodeId="1237909258569" resolveInfo="VALUE" />
                  </node>
                </node>
              </node>
            </node>
          </node>
        </node>
        <node role="leftExpression" type="jetbrains.mps.lang.typesystem.structure.NormalTypeClause" id="1237909258592">
          <node role="normalType" type="jetbrains.mps.lang.typesystem.structure.TypeOfExpression" id="1237909258593">
            <node role="term" type="jetbrains.mps.lang.typesystem.structure.ApplicableNodeReference" id="1237909258594">
              <link role="applicableNode" targetNodeId="1237909243404" resolveInfo="getKeysOperation" />
            </node>
          </node>
        </node>
      </node>
    </node>
    <node role="applicableNode" type="jetbrains.mps.lang.typesystem.structure.ConceptReference" id="1237909243404">
      <property name="name" value="op" />
      <link role="concept" targetNodeId="3.1237909114519" resolveInfo="GetValuesOperation" />
    </node>
  </node>
</model>

