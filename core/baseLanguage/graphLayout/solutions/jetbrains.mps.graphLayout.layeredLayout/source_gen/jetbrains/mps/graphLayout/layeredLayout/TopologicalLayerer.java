package jetbrains.mps.graphLayout.layeredLayout;

/*Generated by MPS */

import jetbrains.mps.graphLayout.graph.Graph;
import java.util.Map;
import jetbrains.mps.graphLayout.graph.Node;
import jetbrains.mps.graphLayout.algorithms.TopologicalNumbering;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.internal.collections.runtime.MapSequence;

public class TopologicalLayerer implements ILayerer {
  public TopologicalLayerer() {
  }

  public NodeLayers computeLayers(Graph graph) throws IllegalArgumentException {
    NodeLayers layers = new NodeLayers(graph);
    Map<Node, Integer> numbering = TopologicalNumbering.number(graph);
    for (Node node : ListSequence.fromList(graph.getNodes())) {
      layers.set(node, MapSequence.fromMap(numbering).get(node));
    }
    return layers;
  }
}
