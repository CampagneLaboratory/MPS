package jetbrains.mps.baseLanguage.dataFlow;

/*Generated by MPS */

import jetbrains.mps.analyzers.runtime.framework.DataFlowConstructor;
import jetbrains.mps.lang.pattern.GeneratedMatchingPattern;
import jetbrains.mps.smodel.SNode;
import jetbrains.mps.lang.dataFlow.framework.Program;
import jetbrains.mps.lang.pattern.IMatchingPattern;
import jetbrains.mps.lang.dataFlow.framework.instructions.Instruction;

public class RuleForLoop extends DataFlowConstructor {
  private GeneratedMatchingPattern myPattern = new RuleForLoop.Pattern_3nf4mg_a0a();

  public RuleForLoop() {
  }

  public boolean isApplicable(SNode node) {
    return myPattern.match(node);
  }

  public void performActions(Program program, SNode node) {
    myPattern.performActions(program);
  }

  public static class Pattern_3nf4mg_a0a extends GeneratedMatchingPattern implements IMatchingPattern {
    /*package*/ SNode PatternVar_s;
    /*package*/ SNode PatternVar_action_var_1508313647019626141;
    private GeneratedMatchingPattern myOrPattern_3nf4mg_a0a0;

    public Pattern_3nf4mg_a0a() {
    }

    public boolean match(SNode nodeToMatch) {
      {
        SNode nodeToMatch_3nf4mg_a0a;
        nodeToMatch_3nf4mg_a0a = nodeToMatch;
        if (!("jetbrains.mps.baseLanguage.structure.ForStatement".equals(nodeToMatch_3nf4mg_a0a.getConceptFqName()))) {
          return false;
        }
        {
          String childRole_3nf4mg_ = "body";
          if (nodeToMatch_3nf4mg_a0a.getChildCount(childRole_3nf4mg_) != 1) {
            return false;
          }
          {
            SNode childVar_3nf4mg_a0a0 = nodeToMatch_3nf4mg_a0a.getChildren(childRole_3nf4mg_).get(0);
            {
              SNode nodeToMatch_3nf4mg_a0a0;
              nodeToMatch_3nf4mg_a0a0 = childVar_3nf4mg_a0a0;
              if (!("jetbrains.mps.baseLanguage.structure.StatementList".equals(nodeToMatch_3nf4mg_a0a0.getConceptFqName()))) {
                return false;
              }
            }
            this.PatternVar_action_var_1508313647019626141 = childVar_3nf4mg_a0a0;
          }
        }
        {
          String childRole_3nf4mg__0 = "condition";
          if (nodeToMatch_3nf4mg_a0a.getChildCount(childRole_3nf4mg__0) != 1) {
            return false;
          }
          {
            SNode childVar_3nf4mg_a0a0_0 = nodeToMatch_3nf4mg_a0a.getChildren(childRole_3nf4mg__0).get(0);
            {
              SNode nodeToMatch_3nf4mg_a0a0_0;
              nodeToMatch_3nf4mg_a0a0_0 = childVar_3nf4mg_a0a0_0;
              {
                boolean orMatches = false;
                GeneratedMatchingPattern orPattern;
                orPattern = new RuleForLoop.Pattern_3nf4mg_a0a.Pattern_3nf4mg_a0a0a2a2a1a1a1a1a1a2a0a0a0a();
                if (orPattern.match(nodeToMatch_3nf4mg_a0a0_0)) {
                  orMatches = true;
                  myOrPattern_3nf4mg_a0a0 = orPattern;
                }
                orPattern = new RuleForLoop.Pattern_3nf4mg_a0a.Pattern_3nf4mg_a0a0a3a2a1a1a1a1a1a2a0a0a0a();
                if (orPattern.match(nodeToMatch_3nf4mg_a0a0_0)) {
                  orMatches = true;
                  myOrPattern_3nf4mg_a0a0 = orPattern;
                }
                if (!(orMatches)) {
                  return false;
                }
              }
            }
          }
        }
        {
          String childRole_3nf4mg__5 = "variable";
          if (nodeToMatch_3nf4mg_a0a.getChildCount(childRole_3nf4mg__5) != 1) {
            return false;
          }
          {
            SNode childVar_3nf4mg_a0a0_1 = nodeToMatch_3nf4mg_a0a.getChildren(childRole_3nf4mg__5).get(0);
          }
        }
      }
      return true;
    }

    public boolean hasAntiquotations() {
      return false;
    }

    public void fillFieldValuesFrom(GeneratedMatchingPattern pattern) {
      if (pattern != null && pattern.getClass() == this.getClass()) {
        this.PatternVar_s = (SNode) pattern.getFieldValue("PatternVar_s");
        this.PatternVar_action_var_1508313647019626141 = (SNode) pattern.getFieldValue("PatternVar_action_var_1508313647019626141");
      }
    }

    public Object getFieldValue(String fieldName) {
      if ("PatternVar_s".equals(fieldName)) {
        return myOrPattern_3nf4mg_a0a0.getFieldValue(fieldName);
      }
      if ("PatternVar_action_var_1508313647019626141".equals(fieldName)) {
        return this.PatternVar_action_var_1508313647019626141;
      }
      return null;
    }

    public void performActions(Object o) {
      {
        int position = 0;
        Object object = getFieldValue("PatternVar_action_var_1508313647019626141");
        if (((Program) o).contains(object)) {
          position = ((Program) (o)).getStart(object);
          Instruction instruction = new notNullInstruction((SNode) getFieldValue("PatternVar_s"));
          instruction.setSource(getFieldValue("PatternVar_action_var_1508313647019626141"));
          ((Program) (o)).insert(instruction, position, true);
        }
      }
    }

    public static class Pattern_3nf4mg_a0a0a2a2a1a1a1a1a1a2a0a0a0a extends GeneratedMatchingPattern implements IMatchingPattern {
      /*package*/ SNode PatternVar_s;

      public Pattern_3nf4mg_a0a0a2a2a1a1a1a1a1a2a0a0a0a() {
      }

      public boolean match(SNode nodeToMatch) {
        {
          SNode nodeToMatch_3nf4mg_a0a0a0;
          nodeToMatch_3nf4mg_a0a0a0 = nodeToMatch;
          if (!("jetbrains.mps.baseLanguage.structure.NotEqualsExpression".equals(nodeToMatch_3nf4mg_a0a0a0.getConceptFqName()))) {
            return false;
          }
          {
            String childRole_3nf4mg__1 = "leftExpression";
            if (nodeToMatch_3nf4mg_a0a0a0.getChildCount(childRole_3nf4mg__1) != 1) {
              return false;
            }
            {
              SNode childVar_3nf4mg_a0a0a0a = nodeToMatch_3nf4mg_a0a0a0.getChildren(childRole_3nf4mg__1).get(0);
              {
                SNode nodeToMatch_3nf4mg_a0a0a0a;
                nodeToMatch_3nf4mg_a0a0a0a = childVar_3nf4mg_a0a0a0a;
                if (!("jetbrains.mps.baseLanguage.structure.NullLiteral".equals(nodeToMatch_3nf4mg_a0a0a0a.getConceptFqName()))) {
                  return false;
                }
              }
            }
          }
          {
            String childRole_3nf4mg__2 = "rightExpression";
            if (nodeToMatch_3nf4mg_a0a0a0.getChildCount(childRole_3nf4mg__2) != 1) {
              return false;
            }
            {
              SNode childVar_3nf4mg_a0a0a0a_0 = nodeToMatch_3nf4mg_a0a0a0.getChildren(childRole_3nf4mg__2).get(0);
              {
                SNode nodeToMatch_3nf4mg_a0a0a0a_0;
                nodeToMatch_3nf4mg_a0a0a0a_0 = childVar_3nf4mg_a0a0a0a_0;
                PatternVar_s = nodeToMatch_3nf4mg_a0a0a0a_0;
              }
            }
          }
        }
        return true;
      }

      public boolean hasAntiquotations() {
        return false;
      }

      public void fillFieldValuesFrom(GeneratedMatchingPattern pattern) {
        if (pattern != null && pattern.getClass() == this.getClass()) {
          this.PatternVar_s = (SNode) pattern.getFieldValue("PatternVar_s");
        }
      }

      public Object getFieldValue(String fieldName) {
        if ("PatternVar_s".equals(fieldName)) {
          return this.PatternVar_s;
        }
        return null;
      }

      public void performActions(Object o) {
      }
    }

    public static class Pattern_3nf4mg_a0a0a3a2a1a1a1a1a1a2a0a0a0a extends GeneratedMatchingPattern implements IMatchingPattern {
      /*package*/ SNode PatternVar_s;

      public Pattern_3nf4mg_a0a0a3a2a1a1a1a1a1a2a0a0a0a() {
      }

      public boolean match(SNode nodeToMatch) {
        {
          SNode nodeToMatch_3nf4mg_a1a0a0;
          nodeToMatch_3nf4mg_a1a0a0 = nodeToMatch;
          if (!("jetbrains.mps.baseLanguage.structure.NotEqualsExpression".equals(nodeToMatch_3nf4mg_a1a0a0.getConceptFqName()))) {
            return false;
          }
          {
            String childRole_3nf4mg__3 = "leftExpression";
            if (nodeToMatch_3nf4mg_a1a0a0.getChildCount(childRole_3nf4mg__3) != 1) {
              return false;
            }
            {
              SNode childVar_3nf4mg_a0b0a0a = nodeToMatch_3nf4mg_a1a0a0.getChildren(childRole_3nf4mg__3).get(0);
              {
                SNode nodeToMatch_3nf4mg_a0b0a0a;
                nodeToMatch_3nf4mg_a0b0a0a = childVar_3nf4mg_a0b0a0a;
                PatternVar_s = nodeToMatch_3nf4mg_a0b0a0a;
              }
            }
          }
          {
            String childRole_3nf4mg__4 = "rightExpression";
            if (nodeToMatch_3nf4mg_a1a0a0.getChildCount(childRole_3nf4mg__4) != 1) {
              return false;
            }
            {
              SNode childVar_3nf4mg_a0b0a0a_0 = nodeToMatch_3nf4mg_a1a0a0.getChildren(childRole_3nf4mg__4).get(0);
              {
                SNode nodeToMatch_3nf4mg_a0b0a0a_0;
                nodeToMatch_3nf4mg_a0b0a0a_0 = childVar_3nf4mg_a0b0a0a_0;
                if (!("jetbrains.mps.baseLanguage.structure.NullLiteral".equals(nodeToMatch_3nf4mg_a0b0a0a_0.getConceptFqName()))) {
                  return false;
                }
              }
            }
          }
        }
        return true;
      }

      public boolean hasAntiquotations() {
        return false;
      }

      public void fillFieldValuesFrom(GeneratedMatchingPattern pattern) {
        if (pattern != null && pattern.getClass() == this.getClass()) {
          this.PatternVar_s = (SNode) pattern.getFieldValue("PatternVar_s");
        }
      }

      public Object getFieldValue(String fieldName) {
        if ("PatternVar_s".equals(fieldName)) {
          return this.PatternVar_s;
        }
        return null;
      }

      public void performActions(Object o) {
      }
    }
  }
}
