package jetbrains.mps.baseLanguage.dataFlow;

/*Generated by MPS */

import jetbrains.mps.analyzers.runtime.framework.DataFlowConstructor;
import jetbrains.mps.lang.pattern.GeneratedMatchingPattern;
import jetbrains.mps.smodel.SNode;
import jetbrains.mps.lang.dataFlow.framework.Program;
import jetbrains.mps.lang.pattern.IMatchingPattern;
import jetbrains.mps.lang.dataFlow.framework.instructions.Instruction;

public class RuleEqualsNull extends DataFlowConstructor {
  private GeneratedMatchingPattern myPattern = new RuleEqualsNull.Pattern_vwsftd_a0a();

  public RuleEqualsNull() {
  }

  public boolean isApplicable(SNode node) {
    return myPattern.match(node);
  }

  public void performActions(Program program, SNode node) {
    myPattern.performActions(program);
  }

  public static class Pattern_vwsftd_a0a extends GeneratedMatchingPattern implements IMatchingPattern {
    /*package*/ SNode patternVar_p;
    /*package*/ SNode patternVar_f;
    /*package*/ SNode patternVar_fd;
    /*package*/ SNode patternVar_d;
    private GeneratedMatchingPattern myOrPattern_vwsftd_a0a0;

    public Pattern_vwsftd_a0a() {
    }

    public boolean match(SNode nodeToMatch) {
      {
        SNode nodeToMatch_6868777471677432405;
        nodeToMatch_6868777471677432405 = nodeToMatch;
        patternVar_fd = nodeToMatch_6868777471677432405;
        if (!("jetbrains.mps.baseLanguage.structure.IfStatement".equals(nodeToMatch_6868777471677432405.getConceptFqName()))) {
          return false;
        }
        {
          String childRole_6868777471677432405 = "ifTrue";
          if (nodeToMatch_6868777471677432405.getChildCount(childRole_6868777471677432405) != 1) {
            return false;
          }
          {
            SNode childVar_1508313647019559668 = nodeToMatch_6868777471677432405.getChildren(childRole_6868777471677432405).get(0);
            {
              SNode nodeToMatch_1508313647019559668;
              nodeToMatch_1508313647019559668 = childVar_1508313647019559668;
              if (!("jetbrains.mps.baseLanguage.structure.StatementList".equals(nodeToMatch_1508313647019559668.getConceptFqName()))) {
                return false;
              }
            }
            this.patternVar_d = childVar_1508313647019559668;
          }
        }
        {
          String childRole_6868777471677432405 = "condition";
          if (nodeToMatch_6868777471677432405.getChildCount(childRole_6868777471677432405) != 1) {
            return false;
          }
          {
            SNode childVar_6868777471677432406 = nodeToMatch_6868777471677432405.getChildren(childRole_6868777471677432405).get(0);
            {
              SNode nodeToMatch_6868777471677432406;
              nodeToMatch_6868777471677432406 = childVar_6868777471677432406;
              {
                boolean orMatches = false;
                GeneratedMatchingPattern orPattern;
                orPattern = new RuleEqualsNull.Pattern_vwsftd_a0a.Pattern_vwsftd_a0a0a2a2a1a1a1a1a1a3a0a0a0a();
                if (orPattern.match(nodeToMatch_6868777471677432406)) {
                  orMatches = true;
                  myOrPattern_vwsftd_a0a0 = orPattern;
                }
                orPattern = new RuleEqualsNull.Pattern_vwsftd_a0a.Pattern_vwsftd_a0a0a3a2a1a1a1a1a1a3a0a0a0a();
                if (orPattern.match(nodeToMatch_6868777471677432406)) {
                  orMatches = true;
                  myOrPattern_vwsftd_a0a0 = orPattern;
                }
                if (!(orMatches)) {
                  return false;
                }
              }
            }
          }
        }
        {
          String childRole_6868777471677432405 = "ifFalseStatement";
          if (nodeToMatch_6868777471677432405.getChildCount(childRole_6868777471677432405) != 1) {
            return false;
          }
          {
            SNode childVar_6868777471677432423 = nodeToMatch_6868777471677432405.getChildren(childRole_6868777471677432405).get(0);
            {
              SNode nodeToMatch_6868777471677432423;
              nodeToMatch_6868777471677432423 = childVar_6868777471677432423;
              if (!("jetbrains.mps.baseLanguage.structure.BlockStatement".equals(nodeToMatch_6868777471677432423.getConceptFqName()))) {
                return false;
              }
              {
                String childRole_6868777471677432423 = "statements";
                if (nodeToMatch_6868777471677432423.getChildCount(childRole_6868777471677432423) != 1) {
                  return false;
                }
                {
                  SNode childVar_1508313647019559679 = nodeToMatch_6868777471677432423.getChildren(childRole_6868777471677432423).get(0);
                  {
                    SNode nodeToMatch_1508313647019559679;
                    nodeToMatch_1508313647019559679 = childVar_1508313647019559679;
                    if (!("jetbrains.mps.baseLanguage.structure.StatementList".equals(nodeToMatch_1508313647019559679.getConceptFqName()))) {
                      return false;
                    }
                  }
                  this.patternVar_f = childVar_1508313647019559679;
                }
              }
            }
          }
        }
      }
      return true;
    }

    public boolean hasAntiquotations() {
      return false;
    }

    public void fillFieldValuesFrom(GeneratedMatchingPattern pattern) {
      if (pattern != null && pattern.getClass() == this.getClass()) {
        patternVar_p = (SNode) pattern.getFieldValue("patternVar_p");
        patternVar_f = (SNode) pattern.getFieldValue("patternVar_f");
        patternVar_fd = (SNode) pattern.getFieldValue("patternVar_fd");
        patternVar_d = (SNode) pattern.getFieldValue("patternVar_d");
      }
    }

    public Object getFieldValue(String fieldName) {
      if ("patternVar_p".equals(fieldName)) {
        return patternVar_p;
      }
      if ("patternVar_f".equals(fieldName)) {
        return patternVar_f;
      }
      if ("patternVar_fd".equals(fieldName)) {
        return patternVar_fd;
      }
      if ("patternVar_d".equals(fieldName)) {
        return patternVar_d;
      }
      return null;
    }

    public void performActions(Object o) {
      {
        Object object = getFieldValue("patternVar_f");
        if (((Program) o).contains(object)) {
          boolean before = true;
          int position;
          if (before) {
            position = ((Program) (o)).getStart(object);
          } else {
            position = ((Program) (o)).getEnd(object);
          }
          Instruction instruction = new notNullInstruction((SNode) getFieldValue("patternVar_p"));
          instruction.setSource(getFieldValue("patternVar_f"));
          ((Program) (o)).insert(instruction, position, true, before);
        }
      }
      {
        Object object = getFieldValue("patternVar_fd");
        if (((Program) o).contains(object)) {
          boolean before = false;
          int position;
          if (before) {
            position = ((Program) (o)).getStart(object);
          } else {
            position = ((Program) (o)).getEnd(object);
          }
          Instruction instruction = new nullableInstruction((SNode) getFieldValue("patternVar_p"));
          instruction.setSource(getFieldValue("patternVar_fd"));
          ((Program) (o)).insert(instruction, position, true, before);
        }
      }
      {
        Object object = getFieldValue("patternVar_d");
        if (((Program) o).contains(object)) {
          boolean before = true;
          int position;
          if (before) {
            position = ((Program) (o)).getStart(object);
          } else {
            position = ((Program) (o)).getEnd(object);
          }
          Instruction instruction = new nullInstruction((SNode) getFieldValue("patternVar_p"));
          instruction.setSource(getFieldValue("patternVar_d"));
          ((Program) (o)).insert(instruction, position, true, before);
        }
      }
    }

    public class Pattern_vwsftd_a0a0a2a2a1a1a1a1a1a3a0a0a0a extends GeneratedMatchingPattern implements IMatchingPattern {
      public Pattern_vwsftd_a0a0a2a2a1a1a1a1a1a3a0a0a0a() {
      }

      public boolean match(SNode nodeToMatch) {
        {
          SNode nodeToMatch_6868777471677432408;
          nodeToMatch_6868777471677432408 = nodeToMatch;
          if (!("jetbrains.mps.baseLanguage.structure.EqualsExpression".equals(nodeToMatch_6868777471677432408.getConceptFqName()))) {
            return false;
          }
          {
            String childRole_6868777471677432408 = "leftExpression";
            if (nodeToMatch_6868777471677432408.getChildCount(childRole_6868777471677432408) != 1) {
              return false;
            }
            {
              SNode childVar_5730083271929373148 = nodeToMatch_6868777471677432408.getChildren(childRole_6868777471677432408).get(0);
              {
                SNode nodeToMatch_5730083271929373148;
                nodeToMatch_5730083271929373148 = childVar_5730083271929373148;
                patternVar_p = nodeToMatch_5730083271929373148;
              }
            }
          }
          {
            String childRole_6868777471677432408 = "rightExpression";
            if (nodeToMatch_6868777471677432408.getChildCount(childRole_6868777471677432408) != 1) {
              return false;
            }
            {
              SNode childVar_6868777471677432409 = nodeToMatch_6868777471677432408.getChildren(childRole_6868777471677432408).get(0);
              {
                SNode nodeToMatch_6868777471677432409;
                nodeToMatch_6868777471677432409 = childVar_6868777471677432409;
                if (!("jetbrains.mps.baseLanguage.structure.NullLiteral".equals(nodeToMatch_6868777471677432409.getConceptFqName()))) {
                  return false;
                }
              }
            }
          }
        }
        return true;
      }

      public boolean hasAntiquotations() {
        return false;
      }

      public void fillFieldValuesFrom(GeneratedMatchingPattern pattern) {
      }

      public Object getFieldValue(String fieldName) {
        return null;
      }

      public void performActions(Object o) {
      }
    }

    public class Pattern_vwsftd_a0a0a3a2a1a1a1a1a1a3a0a0a0a extends GeneratedMatchingPattern implements IMatchingPattern {
      public Pattern_vwsftd_a0a0a3a2a1a1a1a1a1a3a0a0a0a() {
      }

      public boolean match(SNode nodeToMatch) {
        {
          SNode nodeToMatch_6868777471677432413;
          nodeToMatch_6868777471677432413 = nodeToMatch;
          if (!("jetbrains.mps.baseLanguage.structure.EqualsExpression".equals(nodeToMatch_6868777471677432413.getConceptFqName()))) {
            return false;
          }
          {
            String childRole_6868777471677432413 = "leftExpression";
            if (nodeToMatch_6868777471677432413.getChildCount(childRole_6868777471677432413) != 1) {
              return false;
            }
            {
              SNode childVar_6868777471677432416 = nodeToMatch_6868777471677432413.getChildren(childRole_6868777471677432413).get(0);
              {
                SNode nodeToMatch_6868777471677432416;
                nodeToMatch_6868777471677432416 = childVar_6868777471677432416;
                if (!("jetbrains.mps.baseLanguage.structure.NullLiteral".equals(nodeToMatch_6868777471677432416.getConceptFqName()))) {
                  return false;
                }
              }
            }
          }
          {
            String childRole_6868777471677432413 = "rightExpression";
            if (nodeToMatch_6868777471677432413.getChildCount(childRole_6868777471677432413) != 1) {
              return false;
            }
            {
              SNode childVar_5730083271929373149 = nodeToMatch_6868777471677432413.getChildren(childRole_6868777471677432413).get(0);
              {
                SNode nodeToMatch_5730083271929373149;
                nodeToMatch_5730083271929373149 = childVar_5730083271929373149;
                patternVar_p = nodeToMatch_5730083271929373149;
              }
            }
          }
        }
        return true;
      }

      public boolean hasAntiquotations() {
        return false;
      }

      public void fillFieldValuesFrom(GeneratedMatchingPattern pattern) {
      }

      public Object getFieldValue(String fieldName) {
        return null;
      }

      public void performActions(Object o) {
      }
    }
  }
}
