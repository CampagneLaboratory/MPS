package jetbrains.mps.baseLanguage.util.plugin.run;

/*Generated by MPS */

import java.io.InputStream;
import java.util.Scanner;
import jetbrains.mps.logging.Logger;

public abstract class BaseOutputReader extends Thread {
  private InputStream is;

  public BaseOutputReader(InputStream is) {
    this.is = is;
  }

  public void run() {
    Scanner s = new Scanner(this.is);
    try {
      while (!(this.isInterrupted()) && s.hasNextLine()) {
        this.addMessage(s.nextLine());
      }
    } catch (Exception e) {
      Logger.getLogger(BaseOutputReader.class).error(e);
    }
  }

  protected abstract void addMessage(String message);
}
