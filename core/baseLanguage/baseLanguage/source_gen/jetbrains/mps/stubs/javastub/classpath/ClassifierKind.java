package jetbrains.mps.stubs.javastub.classpath;

/*Generated by MPS */

import org.objectweb.asm.ClassReader;
import org.objectweb.asm.Opcodes;

public enum ClassifierKind {
  CLASS(),
  INTERFACE(),
  ANNOTATIONS(),
  ENUM(),
  UNKNOWN();

  ClassifierKind() {
  }

  public static ClassifierKind getClassifierKind(byte[] code) {
    if (code == null) {
      return UNKNOWN;
    }
    ClassReader reader = new ClassReader(code);
    return ClassifierKind.getClassifierKind(reader);
  }

  public static ClassifierKind getClassifierKind(ClassReader reader) {
    int flag = reader.readUnsignedShort(reader.header);
    if ((flag & Opcodes.ACC_ANNOTATION) != 0) {
      return ANNOTATIONS;
    }
    if ((flag & Opcodes.ACC_ENUM) != 0) {
      return ENUM;
    }
    if ((flag & Opcodes.ACC_INTERFACE) != 0) {
      return INTERFACE;
    }
    return CLASS;
  }
}
