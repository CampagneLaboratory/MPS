package jetbrains.mps.generator.traceInfo;

/*Generated by MPS */

import java.net.URL;
import org.jetbrains.mps.openapi.module.SModule;
import jetbrains.mps.project.IModule;
import jetbrains.mps.reloading.IClassPathItem;
import jetbrains.mps.project.structure.modules.ModuleDescriptor;
import jetbrains.mps.reloading.CommonPaths;

public class JavaTraceInfoResourceProvider implements TraceInfoCache.TraceInfoResourceProvider {
  public JavaTraceInfoResourceProvider() {
  }

  public URL getResource(SModule m, String resourceName) {
    IModule module = (IModule) m;
    IClassPathItem classPathItem;
    ModuleDescriptor descriptor = module.getModuleDescriptor();
    if (module.isCompileInMPS() || descriptor != null && !(descriptor.getAdditionalJavaStubPaths().isEmpty())) {
      classPathItem = module.getClassPathItem();
    } else {
      classPathItem = CommonPaths.getMPSClassPath();
    }
    if (classPathItem == null) {
      return null;
    }
    return classPathItem.getResource(resourceName);
  }
}
