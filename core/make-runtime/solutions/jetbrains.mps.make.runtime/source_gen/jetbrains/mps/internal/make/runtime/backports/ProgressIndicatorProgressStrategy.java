package jetbrains.mps.internal.make.runtime.backports;

/*Generated by MPS */

import jetbrains.mps.internal.make.runtime.script.AbstractProgressStrategy;
import com.intellij.openapi.progress.ProgressIndicator;

public class ProgressIndicatorProgressStrategy extends AbstractProgressStrategy {
  private ProgressIndicator pind;

  public ProgressIndicatorProgressStrategy() {
    super("FOO");
  }

  public void setProgressIndicator(ProgressIndicator pi) {
    this.pind = pi;
    pi.setIndeterminate(false);
  }

  public ProgressIndicator getProgressIndicator() {
    return pind;
  }

  protected void begunWork(AbstractProgressStrategy.Work wrk) {
    pind.setText(wrk.name());
    pind.setText2(wrk.namePrefix());
    System.out.println("**** begun " + wrk.name() + " " + wrk.namePrefix());
  }

  protected void advancedWork(AbstractProgressStrategy.Work wrk) {
    pind.setFraction(wrk.doneRatio());
  }

  protected void finishedWork(AbstractProgressStrategy.Work wrk) {
    pind.setText("");
    pind.setText2("");
  }
}
