package jetbrains.mps.debugger.api.ui.actions;

/*Generated by MPS */

import com.intellij.openapi.ui.DialogWrapper;
import javax.swing.JComponent;
import com.intellij.openapi.project.Project;
import javax.swing.JTextArea;
import com.intellij.ui.ScrollPaneFactory;
import java.awt.Dimension;
import org.jetbrains.annotations.Nullable;
import jetbrains.mps.ide.datatransfer.CopyPasteUtil;

public class ExportThreadsDialog extends DialogWrapper {
  private final StringBuffer myThreads;
  private final JComponent myMainComponent;

  public ExportThreadsDialog(Project project, StringBuffer threads) {
    super(project);
    setTitle("Export Threads");
    setOKButtonText("Copy");
    setModal(false);

    myThreads = threads;

    JTextArea textArea = new JTextArea();
    textArea.setEditable(false);
    textArea.setText(myThreads.toString());
    myMainComponent = ScrollPaneFactory.createScrollPane(textArea);
    myMainComponent.setMinimumSize(new Dimension(600, 300));

    init();
  }

  @Nullable
  @Override
  protected JComponent createCenterPanel() {
    return myMainComponent;
  }

  @Override
  protected void doOKAction() {
    CopyPasteUtil.copyTextToClipboard(myThreads.toString());
  }
}
