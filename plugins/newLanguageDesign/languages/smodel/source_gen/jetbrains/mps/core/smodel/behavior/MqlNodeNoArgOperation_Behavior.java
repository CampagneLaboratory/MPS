package jetbrains.mps.core.smodel.behavior;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import jetbrains.mps.core.structure.util.ConceptUtil;
import jetbrains.mps.core.query.behavior.MqlSelector_Behavior;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import org.jetbrains.mps.openapi.persistence.PersistenceFacade;
import jetbrains.mps.smodel.SModelUtil_new;

public class MqlNodeNoArgOperation_Behavior {
  public static void init(SNode thisNode) {
  }

  public static SNode virtual_getType_228266671027867010(SNode thisNode) {
    // FIXME think what to put inside, node<AnyConcept> or node<BaseConcept> or null 
    if (SPropertyOperations.hasValue(thisNode, "kind", "2", null)) {
      return createMqlNodeType_2o35pm_a0a1a0(ConceptUtil.getBaseConcept());

    } else if (SPropertyOperations.hasValue(thisNode, "kind", "1", null)) {
      SNode nodeType = MqlSelector_Behavior.call_getContainerType_228266671027861723(thisNode);
      SNode concept = SLinkOperations.getTarget(SNodeOperations.as(nodeType, "jetbrains.mps.core.smodel.structure.MqlNodeType"), "concept", false);
      return createMqlConceptType_2o35pm_a2a0b0a(concept);
    }

    return null;
  }

  private static SNode createMqlNodeType_2o35pm_a0a1a0(Object p0) {
    PersistenceFacade facade = PersistenceFacade.getInstance();
    SNode n1 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.core.smodel.structure.MqlNodeType", null, false);
    n1.setReferenceTarget("concept", (SNode) p0);
    return n1;
  }

  private static SNode createMqlConceptType_2o35pm_a2a0b0a(Object p0) {
    PersistenceFacade facade = PersistenceFacade.getInstance();
    SNode n1 = SModelUtil_new.instantiateConceptDeclaration("jetbrains.mps.core.smodel.structure.MqlConceptType", null, false);
    n1.setReferenceTarget("concept", (SNode) p0);
    return n1;
  }
}
