package jetbrains.mps.debugger.java.runtime.ui.evaluation;

/*Generated by MPS */

import org.jetbrains.annotations.Nullable;
import jetbrains.mps.baseLanguage.closures.runtime._FunctionTypes;
import org.jetbrains.annotations.NotNull;
import jetbrains.mps.smodel.IOperationContext;
import jetbrains.mps.debugger.java.runtime.evaluation.EvaluationProvider;
import jetbrains.mps.debugger.java.runtime.evaluation.container.IEvaluationContainer;
import javax.swing.Action;
import org.jetbrains.annotations.NonNls;

public class EditWatchDialog extends AbstractEvaluationDialog {
  @Nullable
  private final _FunctionTypes._void_P0_E0 myOkAction;

  public EditWatchDialog(@NotNull IOperationContext context, @NotNull EvaluationProvider provider, @NotNull IEvaluationContainer model) {
    this(context, provider, model, null);
  }

  public EditWatchDialog(@NotNull IOperationContext context, @NotNull EvaluationProvider provider, @NotNull IEvaluationContainer model, _FunctionTypes._void_P0_E0 okAction) {
    super(context, provider, model, "Edit Watch");
    myOkAction = okAction;
  }

  @Override
  protected void doOKAction() {
    if (myOkAction != null) {
      myOkAction.invoke();
    }
    super.doOKAction();
  }

  @Override
  @NotNull
  protected Action[] createActions() {
    return new Action[]{getOKAction()};
  }

  @Nullable
  @NonNls
  @Override
  protected String getDimensionServiceKey() {
    return EditWatchDialog.class.getName();
  }
}
