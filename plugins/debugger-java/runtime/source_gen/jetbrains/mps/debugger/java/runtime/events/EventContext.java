package jetbrains.mps.debugger.java.runtime.events;

/*Generated by MPS */

import com.sun.jdi.event.EventSet;
import jetbrains.mps.debugger.java.runtime.RequestManager;

public class EventContext {
  private final EventSet myEventSet;
  private int myVotesToVote;
  private final EventsProcessor myEventProcessor;

  public EventContext(EventsProcessor eventProcessor, EventSet eventSet) {
    myEventSet = eventSet;
    myEventProcessor = eventProcessor;
    myVotesToVote = eventSet.size();
  }

  public int getSuspendPolicy() {
    return myEventSet.suspendPolicy();
  }

  public RequestManager getRequestManager() {
    return myEventProcessor.getRequestManager();
  }

  /*package*/ void vote() {
    // only called from ContextManager 
    myVotesToVote--;
  }

  /*package*/ boolean isProcessed() {
    // only called from ContextManager 
    return myVotesToVote == 0;
  }

  /*package*/ void resume() {
    // only called from ContextManager 
    myEventSet.resume();
  }
}
