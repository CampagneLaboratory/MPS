<project name="test-anttask" basedir="../../../../../..">
  <property name="mps.home" value="${basedir}/../../../../../.."></property>
  <property name="curdir" value="jetbrains/mps/build/mps/runtime/anttask"></property>
  <path id="anttask.classpath">
    <path path="${basedir}" />
    <path path="${mps.home}/core/ant/classes"></path>
  </path>
  <target name="jar" description="prepare jar">
    <delete file="test.jar" />
    <jar destfile="test.jar">
      <fileset dir="${mps.home}/core/ant/classes" />
    </jar>
  </target>
  <target name="test">
    <taskdef file="${curdir}/antlib.xml" classpathref="anttask.classpath" />
    <taskdef name="mps.hello.world" classname="jetbrains.mps.build.mps.runtime.anttask.HelloTask" classpath="${basedir}"></taskdef>
    <echo message="fdsa">asdf</echo>
    <mps.hello.world message="mike">test "Hello World"
        &lt;innertTag message="test2">xxx&lt;/innerTag>
        <!--innerTag message="test2">xxx</innerTag--></mps.hello.world>
    <mps.gen.module.xml>
      <GenModule ref="e66371a5-aa14-4edb-9b59-d3136a19ad71(jetbrains.mps.build.mps.runtime)" dest="module.xml">&lt;sources jar="aaa" descriptor="xxx" /></GenModule>
    </mps.gen.module.xml>
  </target>
</project>