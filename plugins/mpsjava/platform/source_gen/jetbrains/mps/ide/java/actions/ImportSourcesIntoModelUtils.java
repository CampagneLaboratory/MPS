package jetbrains.mps.ide.java.actions;

/*Generated by MPS */

import java.io.File;
import jetbrains.mps.project.AbstractModule;
import jetbrains.mps.vfs.IFile;
import jetbrains.mps.util.NameUtil;

public class ImportSourcesIntoModelUtils {
  public static File getInitialDirectoryForImport(AbstractModule module, String packageName) {
    IFile moduleSourceDir = module.getModuleSourceDir();
    if (moduleSourceDir.exists()) {
      File initial = new File(moduleSourceDir.getPath());
      File sourceRoot = new File(initial, "source");
      if (!(sourceRoot.exists())) {
        sourceRoot = new File(initial, "src");
      }
      initial = sourceRoot;
      if (sourceRoot.exists()) {
        File modelSource = new File(sourceRoot, NameUtil.pathFromNamespace(packageName));
        if (modelSource.exists()) {
          initial = modelSource;
        }
      }
      return initial;
    } else {
      return null;
    }
  }
}
