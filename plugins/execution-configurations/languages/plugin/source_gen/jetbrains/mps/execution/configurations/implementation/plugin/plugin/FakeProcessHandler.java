package jetbrains.mps.execution.configurations.implementation.plugin.plugin;

/*Generated by MPS */

import com.intellij.execution.process.ProcessHandler;
import java.util.concurrent.Future;
import java.io.OutputStream;
import com.intellij.openapi.util.Key;

public class FakeProcessHandler extends ProcessHandler {
  private final Future<?> myFuture;
  private final TestLightExecutor myExecutor;


  public FakeProcessHandler(Future<?> future, TestLightExecutor executor) {
    myFuture = future;
    myExecutor = executor;
  }



  @Override
  public void startNotify() {
    super.startNotify();
    myExecutor.setStarted(true);
  }



  public void terminate() {
    myFuture.cancel(true);
  }



  @Override
  protected void destroyProcessImpl() {
    terminate();
  }



  @Override
  protected void detachProcessImpl() {
    terminate();
  }



  @Override
  public boolean isProcessTerminated() {
    return myFuture.isDone();
  }



  @Override
  public boolean detachIsDefault() {
    return false;
  }



  @Override
  public OutputStream getProcessInput() {
    return null;
  }



  @Override
  public void notifyTextAvailable(String string, Key key) {
  }
}
