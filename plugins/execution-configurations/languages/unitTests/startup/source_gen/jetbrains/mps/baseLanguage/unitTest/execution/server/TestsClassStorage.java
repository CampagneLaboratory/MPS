package jetbrains.mps.baseLanguage.unitTest.execution.server;

/*Generated by MPS */

import org.jetbrains.annotations.Nullable;
import org.jetbrains.mps.openapi.module.SModule;
import jetbrains.mps.classloading.ClassLoaderManager;
import org.apache.log4j.Level;
import org.apache.log4j.Logger;
import org.apache.log4j.LogManager;

public class TestsClassStorage {
  @Nullable
  private Class<?> tryLoadTestClass(String fqName, SModule module) {
    if (ClassLoaderManager.getInstance().canLoad(module)) {
      final Class<?> aClass = ClassLoaderManager.getInstance().getOwnClass(module, fqName);
      return aClass;
    }
    return null;
  }

  @Nullable
  public Class<?> loadTestClass(String fqName, SModule module) {
    final Class<?> aClass = tryLoadTestClass(fqName, module);
    if (aClass == null) {
      if (LOG.isEnabledFor(Level.WARN)) {
        LOG.warn("Test class " + fqName + " was not found");
      }
    }
    return aClass;
  }
  protected static Logger LOG = LogManager.getLogger(TestsClassStorage.class);
}
