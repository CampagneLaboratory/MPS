package jetbrains.mps.baseLanguage.unitTest.execution.client;

/*Generated by MPS */

import java.util.concurrent.ConcurrentHashMap;

public class RunCachesManager {
  private static ConcurrentHashMap<String, Boolean> ourCachesDirLock = new ConcurrentHashMap();

  public static boolean acquireLock(String path) {
    Boolean result;
    result = ourCachesDirLock.putIfAbsent(path, true);
    return result == null;
  }

  public static boolean isLocked(String path) {
    return ourCachesDirLock.containsKey(path);
  }

  public static void releaseLock(String path) {
    Boolean result = ourCachesDirLock.remove(path);
    assert result != null : "Concurrency problem or there is no lock to release";
  }
}
