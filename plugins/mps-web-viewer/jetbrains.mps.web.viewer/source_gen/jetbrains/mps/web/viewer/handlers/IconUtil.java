package jetbrains.mps.web.viewer.handlers;

/*Generated by MPS */

import org.jetbrains.mps.openapi.module.SModule;
import jetbrains.mps.ide.icons.IconManager;
import org.jetbrains.mps.openapi.model.SModel;
import org.jetbrains.mps.openapi.model.SNode;
import javax.swing.Icon;
import java.lang.reflect.Field;

public class IconUtil {
  public static String getIconForModule(SModule module) {
    return getIconPath(IconManager.getIconFor(module));
  }



  public static String getIconForFolder() {
    // todo: ! 
    return "img/folder.png";
  }



  public static String getIconForModel(SModel model) {
    return getIconPath(IconManager.getIconFor(model));
  }



  public static String getIconForNode(SNode node) {
    // <node> 
    return "img/icons/nodes/node.png";
  }



  private static String getIconPath(Icon icon) {
    if (icon == null || !(icon.getClass().getSimpleName().equals("ByClass"))) {
      throw new IllegalArgumentException();
    }

    try {
      Field pathField = icon.getClass().getDeclaredField("myPath");
      pathField.setAccessible(true);
      return "img/icons/" + pathField.get(icon);
    } catch (NoSuchFieldException e) {
      throw new IllegalArgumentException(e);
    } catch (IllegalAccessException e) {
      throw new RuntimeException(e);
    }
  }
}
