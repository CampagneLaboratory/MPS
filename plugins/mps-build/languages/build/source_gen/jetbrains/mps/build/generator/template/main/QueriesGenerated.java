package jetbrains.mps.build.generator.template.main;

/*Generated by MPS */

import jetbrains.mps.smodel.IOperationContext;
import jetbrains.mps.generator.template.BaseMappingRuleContext;
import jetbrains.mps.build.util.FileSetUtil;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.internal.collections.runtime.IWhereFilter;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.smodel.behaviour.BehaviorReflection;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import jetbrains.mps.build.behavior.BuildLayout_File_Behavior;
import jetbrains.mps.generator.template.PropertyMacroContext;
import jetbrains.mps.build.util.Context;
import jetbrains.mps.build.behavior.BuildLayout_NamedContainer_Behavior;
import jetbrains.mps.build.behavior.BuildLayout_JarManifest_Behavior;
import jetbrains.mps.build.behavior.BuildString_Behavior;
import jetbrains.mps.build.behavior.BuildLayout_EchoXml_Behavior;
import jetbrains.mps.internal.collections.runtime.IterableUtils;
import jetbrains.mps.internal.collections.runtime.ISelector;
import jetbrains.mps.build.behavior.BuildLayout_EchoProperties_Behavior;
import jetbrains.mps.build.behavior.BuildVariableMacroInitValue_Behavior;
import jetbrains.mps.build.behavior.BuildProject_Behavior;
import jetbrains.mps.build.util.RelativePathHelper;
import jetbrains.mps.build.util.MacroHelper;
import jetbrains.mps.internal.collections.runtime.Sequence;
import jetbrains.mps.baseLanguage.tuples.runtime.Tuples;
import jetbrains.mps.build.behavior.BuildLayout_CopyProcessor_Behavior;
import jetbrains.mps.build.util.DependenciesHelper;
import jetbrains.mps.generator.template.ReferenceMacroContext;
import jetbrains.mps.generator.template.IfMacroContext;
import jetbrains.mps.generator.template.SourceSubstituteMacroNodeContext;
import jetbrains.mps.build.util.JavaModulesClosure;
import jetbrains.mps.build.behavior.BuildSourceArchiveRelativePath_Behavior;
import jetbrains.mps.generator.template.TemplateQueryContext;
import jetbrains.mps.generator.template.SourceSubstituteMacroNodesContext;
import java.util.List;
import java.util.Collections;
import java.util.ArrayList;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SModelOperations;
import jetbrains.mps.internal.collections.runtime.ITranslator2;
import java.util.Map;
import jetbrains.mps.internal.collections.runtime.MapSequence;
import java.util.LinkedHashMap;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;
import java.util.Collection;
import jetbrains.mps.util.IterableUtil;
import jetbrains.mps.build.generator.util.JavaExternalLibraryHelper;
import jetbrains.mps.generator.template.MappingScriptContext;
import jetbrains.mps.build.util.GenerationUtil;
import jetbrains.mps.build.util.FetchDependenciesProcessor;
import jetbrains.mps.internal.collections.runtime.IVisitor;
import jetbrains.mps.baseLanguage.tuples.runtime.MultiTuple;
import jetbrains.mps.util.Pair;

public class QueriesGenerated {
  public static boolean baseMappingRule_Condition_5248329904288166450(final IOperationContext operationContext, final BaseMappingRuleContext _context) {
    return FileSetUtil.isExplicit(_context.getNode());
  }

  public static boolean baseMappingRule_Condition_4701820937132270526(final IOperationContext operationContext, final BaseMappingRuleContext _context) {
    return FileSetUtil.isExplicit(_context.getNode());
  }

  public static boolean baseMappingRule_Condition_5610619299013114604(final IOperationContext operationContext, final BaseMappingRuleContext _context) {
    return FileSetUtil.isExplicit(_context.getNode());
  }

  public static boolean baseMappingRule_Condition_6921160174096663332(final IOperationContext operationContext, final BaseMappingRuleContext _context) {
    return (SLinkOperations.getTarget(_context.getNode(), "defaultPath", true) == null);
  }

  public static boolean baseMappingRule_Condition_244868996532694196(final IOperationContext operationContext, final BaseMappingRuleContext _context) {
    return (SLinkOperations.getTarget(_context.getNode(), "initialValue", true) == null) || SNodeOperations.isInstanceOf(SLinkOperations.getTarget(_context.getNode(), "initialValue", true), "jetbrains.mps.build.structure.BuildVariableMacroInitWithString");
  }

  public static boolean baseMappingRule_Condition_2591537044435952582(final IOperationContext operationContext, final BaseMappingRuleContext _context) {
    return SNodeOperations.isInstanceOf(SLinkOperations.getTarget(_context.getNode(), "module", false), "jetbrains.mps.build.structure.BuildSource_JavaModule");
  }

  public static boolean baseMappingRule_Condition_1330375798088465804(final IOperationContext operationContext, final BaseMappingRuleContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "handlers", true)).all(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildLayout_CopyProcessor");
      }
    });
  }

  public static boolean baseMappingRule_Condition_1330375798088685235(final IOperationContext operationContext, final BaseMappingRuleContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "handlers", true)).isNotEmpty();
  }

  public static boolean baseMappingRule_Condition_1556400259614055524(final IOperationContext operationContext, final BaseMappingRuleContext _context) {
    return SNodeOperations.isInstanceOf(SLinkOperations.getTarget(_context.getNode(), "target", false), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(Boolean.TYPE, SLinkOperations.getTarget(_context.getNode(), "target", false), "virtual_isFolder_1368030936106753980", new Object[]{});
  }

  public static boolean baseMappingRule_Condition_2750015747481190656(final IOperationContext operationContext, final BaseMappingRuleContext _context) {
    return isNotEmpty_x583g4_a0a0a9(SPropertyOperations.getString(_context.getNode(), "filemode")) && BuildLayout_File_Behavior.call_canHaveFilemode_9126048691955221297(_context.getNode());
  }

  public static boolean baseMappingRule_Condition_2750015747481031594(final IOperationContext operationContext, final BaseMappingRuleContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "parameters", true)).any(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildLayout_CopyHandler");
      }
    });
  }

  public static boolean baseMappingRule_Condition_2750015747481074523(final IOperationContext operationContext, final BaseMappingRuleContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "parameters", true)).any(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildLayout_CopyHandler");
      }
    });
  }

  public static Object propertyMacro_GetPropertyValue_1117643560963267883(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getChildrenOutputDir_WithMacro_4701820937132344011", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_1117643560963268263(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{});
  }

  public static Object propertyMacro_GetPropertyValue_1117643560963364006(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{});
  }

  public static Object propertyMacro_GetPropertyValue_1117643560963358439(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getChildrenOutputDir_WithMacro_4701820937132344011", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_1117643560963358405(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{});
  }

  public static Object propertyMacro_GetPropertyValue_1117643560963268231(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BuildLayout_NamedContainer_Behavior.call_getOutputPath_WithMacro_280273048052535414(_context.getNode(), Context.defaultContext(_context));
  }

  public static Object propertyMacro_GetPropertyValue_6837653846148504888(final IOperationContext operationContext, final PropertyMacroContext _context) {
    SNode node = SNodeOperations.cast(ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "children", true)).findFirst(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildLayout_JarManifest");
      }
    }), "jetbrains.mps.build.structure.BuildLayout_JarManifest");
    return BuildLayout_JarManifest_Behavior.call_getOutputPath_WithMacro_6837653846148442229(node, Context.defaultContext(_context));
  }

  public static Object propertyMacro_GetPropertyValue_7801138212747394521(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getChildrenOutputDir_WithMacro_4701820937132344011", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_7801138212747394625(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "filemode");
  }

  public static Object propertyMacro_GetPropertyValue_7801138212747394765(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "dirmode");
  }

  public static Object propertyMacro_GetPropertyValue_7801138212747420785(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((String) _context.getVariable("var:prefix"));
  }

  public static Object propertyMacro_GetPropertyValue_1117643560963351294(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getChildrenOutputDir_WithMacro_4701820937132344011", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_1117643560963268242(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{});
  }

  public static Object propertyMacro_GetPropertyValue_1117643560963358510(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getChildrenOutputDir_WithMacro_4701820937132344011", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_1117643560963358520(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{});
  }

  public static Object propertyMacro_GetPropertyValue_1117643560963358535(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BuildLayout_NamedContainer_Behavior.call_getOutputPath_WithMacro_280273048052535414(_context.getNode(), Context.defaultContext(_context));
  }

  public static Object propertyMacro_GetPropertyValue_7801138212747394825(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getChildrenOutputDir_WithMacro_4701820937132344011", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_7801138212747394845(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "filemode");
  }

  public static Object propertyMacro_GetPropertyValue_7801138212747394863(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "dirmode");
  }

  public static Object propertyMacro_GetPropertyValue_7801138212747420743(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((String) _context.getVariable("var:prefix"));
  }

  public static Object propertyMacro_GetPropertyValue_1117643560963358569(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getChildrenOutputDir_WithMacro_4701820937132344011", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_1117643560963358598(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{});
  }

  public static Object propertyMacro_GetPropertyValue_8577651205286952472(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getChildrenOutputDir_WithMacro_4701820937132344011", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_8577651205286952501(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{});
  }

  public static Object propertyMacro_GetPropertyValue_8577651205286952543(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BuildLayout_NamedContainer_Behavior.call_getOutputPath_WithMacro_280273048052535414(_context.getNode(), Context.defaultContext(_context));
  }

  public static Object propertyMacro_GetPropertyValue_1979010778009295389(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString_def(_context.getNode(), "compression", "none");
  }

  public static Object propertyMacro_GetPropertyValue_7801138212747394903(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getChildrenOutputDir_WithMacro_4701820937132344011", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_7801138212747394923(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "filemode");
  }

  public static Object propertyMacro_GetPropertyValue_7801138212747394941(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "dirmode");
  }

  public static Object propertyMacro_GetPropertyValue_7801138212747405865(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((String) _context.getVariable("var:prefix"));
  }

  public static Object propertyMacro_GetPropertyValue_8577651205286952577(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getChildrenOutputDir_WithMacro_4701820937132344011", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_8577651205286952606(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{});
  }

  public static Object propertyMacro_GetPropertyValue_7801138212747391977(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getChildrenOutputDir_WithMacro_4701820937132344011", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_7801138212747392029(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{});
  }

  public static Object propertyMacro_GetPropertyValue_7801138212747392100(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{});
  }

  public static Object propertyMacro_GetPropertyValue_2913098736709502287(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{});
  }

  public static Object propertyMacro_GetPropertyValue_2913098736709502392(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{});
  }

  public static Object propertyMacro_GetPropertyValue_5248329904288079307(final IOperationContext operationContext, final PropertyMacroContext _context) {
    if (!(SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"))) {
      _context.showErrorMessage(_context.getNode(), "parent should be layout container");
      return "???";
    }
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getChildrenOutputDir_WithMacro_4701820937132344011", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_5248329904288131577(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return "copy." + _context.getNode().getNodeId().toString();
  }

  public static Object propertyMacro_GetPropertyValue_1330375798064504256(final IOperationContext operationContext, final PropertyMacroContext _context) {
    String result = ((String[]) _context.getVariable("var:lpath"))[0];
    ((String[]) _context.getVariable("var:lpath"))[0] = ((String) _context.getVariable("var:tpath"));
    return result;
  }

  public static Object propertyMacro_GetPropertyValue_1330375798061623007(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((String) _context.getVariable("var:tpath"));
  }

  public static Object propertyMacro_GetPropertyValue_1330375798061013111(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, _context.getNode(), "virtual_getTaskName_1330375798060763184", new Object[]{});
  }

  public static Object propertyMacro_GetPropertyValue_1330375798064791207(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((String[]) _context.getVariable("var:lpath"))[0];
  }

  public static Object propertyMacro_GetPropertyValue_9184644532456968183(final IOperationContext operationContext, final PropertyMacroContext _context) {
    if (!(SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"))) {
      _context.showErrorMessage(_context.getNode(), "parent should be layout container");
      return "???";
    }
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getChildrenOutputDir_WithMacro_4701820937132344011", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_9184644532456968281(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return "copy." + _context.getNode().getNodeId().toString();
  }

  public static Object propertyMacro_GetPropertyValue_9184644532456968460(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "key");
  }

  public static Object propertyMacro_GetPropertyValue_9184644532456968492(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((SLinkOperations.getTarget(_context.getNode(), "value", true) == null) ?
      "" :
      BuildString_Behavior.call_getText_4380385936562005550(SLinkOperations.getTarget(_context.getNode(), "value", true), Context.defaultContext(_context).getMacros(_context.getNode()))
    );
  }

  public static Object propertyMacro_GetPropertyValue_9184644532457106546(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "pattern");
  }

  public static Object propertyMacro_GetPropertyValue_9184644532457106555(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((SLinkOperations.getTarget(_context.getNode(), "value", true) == null) ?
      "" :
      BuildString_Behavior.call_getText_4380385936562005550(SLinkOperations.getTarget(_context.getNode(), "value", true), Context.defaultContext(_context).getMacros(_context.getNode()))
    );
  }

  public static Object propertyMacro_GetPropertyValue_9184644532457106586(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "flags");
  }

  public static Object propertyMacro_GetPropertyValue_4198392933254628144(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString_def(_context.getNode(), "eol", "local");
  }

  public static Object propertyMacro_GetPropertyValue_3970102152660874527(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "from");
  }

  public static Object propertyMacro_GetPropertyValue_3970102152660874559(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BuildString_Behavior.call_getText_4380385936562005550(SLinkOperations.getTarget(_context.getNode(), "to", true), Context.defaultContext(_context).getMacros(_context.getNode()));
  }

  public static Object propertyMacro_GetPropertyValue_3970102152660876483(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "pattern").replaceAll("\\$", "\\$\\$");
  }

  public static Object propertyMacro_GetPropertyValue_3970102152660876492(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "replace").replaceAll("\\$", "\\$\\$");
  }

  public static Object propertyMacro_GetPropertyValue_4643216374596142877(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BuildLayout_EchoXml_Behavior.call_getOutputPath_WithMacro_4643216374596143062(_context.getNode(), Context.defaultContext(_context));
  }

  public static Object propertyMacro_GetPropertyValue_4643216374596143015(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return "copy." + _context.getNode().getNodeId().toString();
  }

  public static Object propertyMacro_GetPropertyValue_202934866059116852(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return IterableUtils.join(ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "entries", true)).select(new ISelector<SNode, String>() {
      public String select(SNode it) {
        return SPropertyOperations.getString(it, "key") + "=" + BuildString_Behavior.call_getText_4380385936562005550(SLinkOperations.getTarget(it, "value", true), Context.defaultContext(_context).getMacros(_context.getNode()));
      }
    }), "${line.separator}");
  }

  public static Object propertyMacro_GetPropertyValue_202934866059116755(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BuildLayout_EchoProperties_Behavior.call_getOutputPath_WithMacro_202934866059116697(_context.getNode(), Context.defaultContext(_context));
  }

  public static Object propertyMacro_GetPropertyValue_202934866059116833(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return "copy." + _context.getNode().getNodeId().toString();
  }

  public static Object propertyMacro_GetPropertyValue_6547494638219491804(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((String) _context.getVariable("var:targetLocation"));
  }

  public static Object propertyMacro_GetPropertyValue_4701820937132270545(final IOperationContext operationContext, final PropertyMacroContext _context) {
    if (!(SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"))) {
      _context.showErrorMessage(_context.getNode(), "parent should be layout container");
      return "???";
    }
    String result = BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getChildrenOutputDir_WithMacro_4701820937132344011", new Object[]{Context.defaultContext(_context)});
    if (BehaviorReflection.invokeVirtual(Boolean.TYPE, SLinkOperations.getTarget(_context.getNode(), "target", false), "virtual_isFolder_1368030936106753980", new Object[]{})) {
      _context.showErrorMessage(_context.getNode(), "internal error: cannot handle folders `" + BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(_context.getNode(), "target", false), "virtual_getPresentation_1213877396640", new Object[]{}) + "'");
    }
    return result;
  }

  public static Object propertyMacro_GetPropertyValue_4701820937132270643(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return "copy.artifacts." + _context.getNode().getNodeId().toString();
  }

  public static Object propertyMacro_GetPropertyValue_5610619299013114623(final IOperationContext operationContext, final PropertyMacroContext _context) {
    if (!(SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"))) {
      _context.showErrorMessage(_context.getNode(), "parent should be layout container");
      return "???";
    }
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getChildrenOutputDir_WithMacro_4701820937132344011", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_5610619299013114691(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((String) _context.getVariable("var:targetLocation"));
  }

  public static Object propertyMacro_GetPropertyValue_5610619299013114851(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return "copy.artifacts." + _context.getNode().getNodeId().toString();
  }

  public static Object propertyMacro_GetPropertyValue_6921160174096729094(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "name");
  }

  public static Object propertyMacro_GetPropertyValue_1117643560963307392(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(_context.getNode(), "defaultPath", true), "virtual_getAntPath_8563603456895173701", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_1117643560963307395(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "name");
  }

  public static Object propertyMacro_GetPropertyValue_244868996532694202(final IOperationContext operationContext, final PropertyMacroContext _context) {
    SNode stringValue = SNodeOperations.as(SLinkOperations.getTarget(_context.getNode(), "initialValue", true), "jetbrains.mps.build.structure.BuildVariableMacroInitWithString");
    if ((stringValue != null) && (SLinkOperations.getTarget(stringValue, "value", true) != null)) {
      return BuildString_Behavior.call_getText_4380385936562005550(SLinkOperations.getTarget(stringValue, "value", true), Context.defaultContext(_context).getMacros(_context.getNode()));
    }
    return "";
  }

  public static Object propertyMacro_GetPropertyValue_244868996532694236(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "name");
  }

  public static Object propertyMacro_GetPropertyValue_244868996532694243(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return (SLinkOperations.getTarget(_context.getNode(), "initialValue", true) == null);
  }

  public static Object propertyMacro_GetPropertyValue_244868996532694453(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BuildVariableMacroInitValue_Behavior.call_getMacroName_244868996532694558(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_244868996532694647(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BuildVariableMacroInitValue_Behavior.call_getMacroName_244868996532694558(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_244868996532694684(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "pattern");
  }

  public static Object propertyMacro_GetPropertyValue_244868996532694517(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BuildVariableMacroInitValue_Behavior.call_getMacroName_244868996532694558(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_244868996532711387(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(_context.getNode(), "fileName", true), "virtual_getAntPath_8563603456895173701", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_244868996532711449(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return "loaded.for." + BuildVariableMacroInitValue_Behavior.call_getMacroName_244868996532694558(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_244868996532694720(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BuildVariableMacroInitValue_Behavior.call_getMacroName_244868996532694558(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_244868996532711507(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return "${loaded.for." + BuildVariableMacroInitValue_Behavior.call_getMacroName_244868996532694558(_context.getNode()) + "." + BuildVariableMacroInitValue_Behavior.call_getMacroName_244868996532694558(_context.getNode()) + "}";
  }

  public static Object propertyMacro_GetPropertyValue_1117643560963346388(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "name");
  }

  public static Object propertyMacro_GetPropertyValue_1117643560963346427(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Context.defaultContext(_context).getTempPath(_context.getNode(), SPropertyOperations.getString(_context.getNode(), "name"), "java", "out");
  }

  public static Object propertyMacro_GetPropertyValue_8055294676438890975(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return _context.getNode().getProperty("folderName");
  }

  public static Object propertyMacro_GetPropertyValue_1659807394254872723(final IOperationContext operationContext, final PropertyMacroContext _context) {
    SNode options = ((SNode) _context.getVariable("var:javaOpts"));
    return (options != null ?
      SPropertyOperations.getBoolean(options, "generateDebugInfo") :
      false
    );
  }

  public static Object propertyMacro_GetPropertyValue_1659807394254873294(final IOperationContext operationContext, final PropertyMacroContext _context) {
    SNode options = ((SNode) _context.getVariable("var:javaOpts"));
    return (options != null ?
      SPropertyOperations.getBoolean(options, "noWarnings") :
      false
    );
  }

  public static Object propertyMacro_GetPropertyValue_1659807394254873348(final IOperationContext operationContext, final PropertyMacroContext _context) {
    SNode options = ((SNode) _context.getVariable("var:javaOpts"));
    return (options != null ?
      SPropertyOperations.getInteger(options, "heapSize") :
      0
    );
  }

  public static Object propertyMacro_GetPropertyValue_703815700951902259(final IOperationContext operationContext, final PropertyMacroContext _context) {
    SNode options = ((SNode) _context.getVariable("var:javaOpts"));
    return (options != null ?
      SPropertyOperations.getString(options, "compiler") :
      null
    );
  }

  public static Object propertyMacro_GetPropertyValue_7926701909975671869(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildSource_JavaContentRoot"), "basePath", true), "virtual_getAntPath_8563603456895173701", new Object[]{Context.defaultContext(_context)}) + "/" + SPropertyOperations.getString(_context.getNode(), "relativePath");
  }

  public static Object propertyMacro_GetPropertyValue_144710003695560915(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return "java.library." + SPropertyOperations.getString(_context.getNode(), "name");
  }

  public static Object propertyMacro_GetPropertyValue_5248329904288079406(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(_context.getNode(), "dir", true), "virtual_getAntPath_8563603456895173701", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_7866279537988669079(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(_context.getNode(), "dir", true), "virtual_getAntPath_8563603456895173701", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_5248329904288079452(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(_context.getNode(), "path", true), "virtual_getAntPath_8563603456895173701", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_2303926226081012727(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(_context.getNode(), "path", true), "virtual_getAntPath_8563603456895173701", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_3717132724152837101(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(_context.getNode(), "path", true), "virtual_getAntPath_8563603456895173701", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_3717132724152837217(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(_context.getNode(), "dir", true), "virtual_getAntPath_8563603456895173701", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_5248329904288082868(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "pattern");
  }

  public static Object propertyMacro_GetPropertyValue_8654221991637384417(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "pattern");
  }

  public static Object propertyMacro_GetPropertyValue_5248329904288082882(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "pattern");
  }

  public static Object propertyMacro_GetPropertyValue_4701820937132337491(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return "layout." + SPropertyOperations.getString(_context.getNode(), "name");
  }

  public static Object propertyMacro_GetPropertyValue_6837653846148442221(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BuildLayout_JarManifest_Behavior.call_getOutputPath_WithMacro_6837653846148442229(_context.getNode(), Context.defaultContext(_context));
  }

  public static Object propertyMacro_GetPropertyValue_6837653846148442060(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BuildString_Behavior.call_getText_4380385936562005550(SLinkOperations.getTarget(_context.getNode(), "name", true), Context.defaultContext(_context).getMacros(_context.getNode()));
  }

  public static Object propertyMacro_GetPropertyValue_6837653846148442076(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BuildString_Behavior.call_getText_4380385936562005550(SLinkOperations.getTarget(_context.getNode(), "value", true), Context.defaultContext(_context).getMacros(_context.getNode()));
  }

  public static Object propertyMacro_GetPropertyValue_6837653846148442102(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BuildString_Behavior.call_getText_4380385936562005550(SLinkOperations.getTarget(_context.getNode(), "name", true), Context.defaultContext(_context).getMacros(_context.getNode()));
  }

  public static Object propertyMacro_GetPropertyValue_6837653846148442118(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BuildString_Behavior.call_getText_4380385936562005550(SLinkOperations.getTarget(_context.getNode(), "value", true), Context.defaultContext(_context).getMacros(_context.getNode()));
  }

  public static Object propertyMacro_GetPropertyValue_6837653846148442142(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BuildString_Behavior.call_getText_4380385936562005550(SLinkOperations.getTarget(_context.getNode(), "name", true), Context.defaultContext(_context).getMacros(_context.getNode()));
  }

  public static Object propertyMacro_GetPropertyValue_6837653846148442043(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return _context.getTemplateValue() + "." + _context.getNode().getNodeId().toString();
  }

  public static Object propertyMacro_GetPropertyValue_5368511706901764962(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return "${build.dir}/tmp/" + SPropertyOperations.getString(_context.getNode(), "name");
  }

  public static Object propertyMacro_GetPropertyValue_5368511706901764926(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return "${build.dir}/artifacts/" + SPropertyOperations.getString(_context.getNode(), "name");
  }

  public static Object propertyMacro_GetPropertyValue_4129895186893528655(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return "artifacts." + SPropertyOperations.getString(SLinkOperations.getTarget(SNodeOperations.cast(_context.getNode(), "jetbrains.mps.build.structure.BuildProjectDependency"), "script", false), "name");
  }

  public static Object propertyMacro_GetPropertyValue_4129895186893528776(final IOperationContext operationContext, final PropertyMacroContext _context) {
    if ((SLinkOperations.getTarget(SNodeOperations.cast(_context.getNode(), "jetbrains.mps.build.structure.BuildProjectDependency"), "artifacts", true) != null)) {
      return BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(SNodeOperations.cast(_context.getNode(), "jetbrains.mps.build.structure.BuildProjectDependency"), "artifacts", true), "virtual_getAntPath_8563603456895173701", new Object[]{Context.defaultContext(_context)});
    }
    if (((String) _context.getVariable("var:basePath")) == null) {
      return ".";
    }
    SNode script = SLinkOperations.getTarget(SNodeOperations.cast(_context.getNode(), "jetbrains.mps.build.structure.BuildProjectDependency"), "script", false);
    String filePath = BuildProject_Behavior.call_getBasePath_4959435991187146924(script, Context.defaultContext(_context));
    if (filePath == null) {
      _context.showErrorMessage(script, "no base path for required script " + SPropertyOperations.getString(script, "name"));
      return ".";
    }
    try {
      String relative = new RelativePathHelper(((String) _context.getVariable("var:basePath"))).makeRelative(filePath);
      if ((relative == null || relative.length() == 0)) {
        return "${build.dir}/artifacts/" + SPropertyOperations.getString(script, "name");
      }
      if (!(relative.endsWith("/"))) {
        relative += "/";
      }
      return relative + "build/artifacts/" + SPropertyOperations.getString(script, "name");
    } catch (RelativePathHelper.PathException ex) {
      _context.showErrorMessage(_context.getNode(), "cannot calculate relative path: " + ex.getMessage());
      return ".";
    }
  }

  public static Object propertyMacro_GetPropertyValue_7181125477683419235(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return "artifacts." + SPropertyOperations.getString(SLinkOperations.getTarget(SNodeOperations.cast(_context.getNode(), "jetbrains.mps.build.structure.BuildExternalLayoutDependency"), "layout", false), "name");
  }

  public static Object propertyMacro_GetPropertyValue_7181125477683419247(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(SNodeOperations.cast(_context.getNode(), "jetbrains.mps.build.structure.BuildExternalLayoutDependency"), "artifacts", true), "virtual_getAntPath_8563603456895173701", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_6520682027041002227(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return "${artifacts." + SPropertyOperations.getString(SLinkOperations.getTarget(SNodeOperations.cast(_context.getNode(), "jetbrains.mps.build.structure.BuildProjectDependency"), "script", false), "name") + "}/build.properties";
  }

  public static Object propertyMacro_GetPropertyValue_6520682027041002310(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((MacroHelper) _context.getVariable("var:macroHelper")).getPrefix(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_6520682027040940551(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((MacroHelper) _context.getVariable("var:macroHelper")).getName(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_6520682027041001064(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return "${" + ((MacroHelper) _context.getVariable("var:macroHelper")).getImportName(_context.getNode()) + "}";
  }

  public static Object propertyMacro_GetPropertyValue_9126048691954996125(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(_context.getNode(), "layout", true), "virtual_getChildrenOutputDir_WithMacro_4701820937132344011", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_9126048691954994112(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(_context.getNode(), "layout", true), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{});
  }

  public static Object propertyMacro_GetPropertyValue_5662391463398094397(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return "${build.layout}/build.properties";
  }

  public static Object propertyMacro_GetPropertyValue_5662391463398078669(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return IterableUtils.join(Sequence.fromIterable(((Iterable<SNode>) ((MacroHelper) _context.getVariable("var:macroHelper")).getMacrosToExport())).select(new ISelector<SNode, String>() {
      public String select(SNode it) {
        return ((MacroHelper) _context.getVariable("var:macroHelper")).getExportName(it) + "=${" + ((MacroHelper) _context.getVariable("var:macroHelper")).getName(it) + "}";
      }
    }), "${line.separator}");
  }

  public static Object propertyMacro_GetPropertyValue_5273009634659101720(final IOperationContext operationContext, final PropertyMacroContext _context) {
    if (((Tuples._2<Iterable<SNode>, String>) _context.getVariable("var:depsAndBasePath"))._1() == null) {
      return "?????";
    }
    SNode script = SLinkOperations.getTarget(_context.getNode(), "script", false);
    String filePath = BuildProject_Behavior.call_getScriptsPath_4796668409958419284(script, Context.defaultContext(_context));
    if (filePath == null) {
      _context.showErrorMessage(script, "no script path for required script " + SPropertyOperations.getString(script, "name"));
      return ".";
    }
    try {
      String relative = new RelativePathHelper(((Tuples._2<Iterable<SNode>, String>) _context.getVariable("var:depsAndBasePath"))._1()).makeRelative(filePath);
      if ((relative == null || relative.length() == 0)) {
        return BuildProject_Behavior.call_getOutputFileName_4915877860351551360(script);
      }
      if (!(relative.endsWith("/"))) {
        relative += "/";
      }
      return relative + BuildProject_Behavior.call_getOutputFileName_4915877860351551360(script);
    } catch (RelativePathHelper.PathException ex) {
      _context.showErrorMessage(_context.getNode(), "cannot calculate relative path: " + ex.getMessage());
      return "????";
    }
  }

  public static Object propertyMacro_GetPropertyValue_6520682027041196886(final IOperationContext operationContext, final PropertyMacroContext _context) {
    if (((Tuples._2<Iterable<SNode>, String>) _context.getVariable("var:depsAndBasePath"))._1() == null) {
      return "?????";
    }
    SNode script = SLinkOperations.getTarget(_context.getNode(), "script", false);
    String filePath = BuildProject_Behavior.call_getScriptsPath_4796668409958419284(script, Context.defaultContext(_context));
    if (filePath == null) {
      _context.showErrorMessage(script, "no script path for required script " + SPropertyOperations.getString(script, "name"));
      return ".";
    }
    try {
      String relative = new RelativePathHelper(((Tuples._2<Iterable<SNode>, String>) _context.getVariable("var:depsAndBasePath"))._1()).makeRelative(filePath);
      if ((relative == null || relative.length() == 0)) {
        return BuildProject_Behavior.call_getOutputFileName_4915877860351551360(script);
      }
      if (!(relative.endsWith("/"))) {
        relative += "/";
      }
      return relative + BuildProject_Behavior.call_getOutputFileName_4915877860351551360(script);
    } catch (RelativePathHelper.PathException ex) {
      _context.showErrorMessage(_context.getNode(), "cannot calculate relative path: " + ex.getMessage());
      return "????";
    }
  }

  public static Object propertyMacro_GetPropertyValue_3595702787188242919(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "name");
  }

  public static Object propertyMacro_GetPropertyValue_5096397858823409284(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return "${build.tmp}";
  }

  public static Object propertyMacro_GetPropertyValue_5178006408628664059(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BuildProject_Behavior.call_getBasePathRelativeToScriptsPath_5178006408628632053(_context.getNode(), Context.defaultContext(_context));
  }

  public static Object propertyMacro_GetPropertyValue_1117643560963351184(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Context.defaultContext(_context).getTempPath(SLinkOperations.getTarget(_context.getNode(), "module", false), SPropertyOperations.getString(SLinkOperations.getTarget(_context.getNode(), "module", false), "name"), "java", "out");
  }

  public static Object propertyMacro_GetPropertyValue_1330375798088592600(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BuildLayout_CopyProcessor_Behavior.call_getTempFolder_1330375798096391716(SNodeOperations.cast(ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "handlers", true)).last(), "jetbrains.mps.build.structure.BuildLayout_CopyProcessor"), _context);
  }

  public static Object propertyMacro_GetPropertyValue_1330375798099682997(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._1();
  }

  public static Object propertyMacro_GetPropertyValue_1330375798099683030(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._3();
  }

  public static Object propertyMacro_GetPropertyValue_1330375798099683052(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._2();
  }

  public static Object propertyMacro_GetPropertyValue_1330375798099612902(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._0();
  }

  public static Object propertyMacro_GetPropertyValue_5610619299013114890(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((String) _context.getVariable("var:targetLocation"));
  }

  public static Object propertyMacro_GetPropertyValue_5610619299013114897(final IOperationContext operationContext, final PropertyMacroContext _context) {
    if (!(BehaviorReflection.invokeVirtual(Boolean.TYPE, SLinkOperations.getTarget(_context.getNode(), "target", false), "virtual_isFile_1368030936106753986", new Object[]{}))) {
      _context.showErrorMessage(_context.getNode(), "cannot import abstract element, should be file or folder");
    }
    return "file";
  }

  public static Object propertyMacro_GetPropertyValue_6408167411310656493(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._1();
  }

  public static Object propertyMacro_GetPropertyValue_7801138212747257296(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._3();
  }

  public static Object propertyMacro_GetPropertyValue_7801138212747257318(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._2();
  }

  public static Object propertyMacro_GetPropertyValue_6408167411310656514(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._0();
  }

  public static Object propertyMacro_GetPropertyValue_5610619299013115002(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((String) _context.getVariable("var:targetLocation"));
  }

  public static Object propertyMacro_GetPropertyValue_6408167411310656471(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._1();
  }

  public static Object propertyMacro_GetPropertyValue_7801138212747257252(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._3();
  }

  public static Object propertyMacro_GetPropertyValue_7801138212747257274(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._2();
  }

  public static Object propertyMacro_GetPropertyValue_6408167411310656570(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._0();
  }

  public static Object propertyMacro_GetPropertyValue_6408167411310621645(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(_context.getNode(), "dir", true), "virtual_getAntPath_8563603456895173701", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_6408167411310656150(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._1();
  }

  public static Object propertyMacro_GetPropertyValue_7801138212747257072(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._3();
  }

  public static Object propertyMacro_GetPropertyValue_7801138212747257129(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._2();
  }

  public static Object propertyMacro_GetPropertyValue_6408167411310655109(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._0();
  }

  public static Object propertyMacro_GetPropertyValue_6408167411310621703(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(_context.getNode(), "path", true), "virtual_getAntPath_8563603456895173701", new Object[]{Context.defaultContext(_context)});
  }

  public static Object propertyMacro_GetPropertyValue_6408167411310656275(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((Tuples._3<String, String, String>) _context.getVariable("var:archive"))._1();
  }

  public static Object propertyMacro_GetPropertyValue_7801138212747257208(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((Tuples._3<String, String, String>) _context.getVariable("var:archive"))._2();
  }

  public static Object propertyMacro_GetPropertyValue_6408167411310656264(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ((Tuples._3<String, String, String>) _context.getVariable("var:archive"))._0();
  }

  public static Object propertyMacro_GetPropertyValue_4821808014881207505(final IOperationContext operationContext, final PropertyMacroContext _context) {
    SNode project = SNodeOperations.getAncestor(_context.getNode(), "jetbrains.mps.build.structure.BuildProject", false, false);
    if (project == null) {
      _context.showErrorMessage(_context.getNode(), "no context project defined");
      return "???";
    }
    DependenciesHelper helper = new DependenciesHelper(_context, project);
    SNode artifact = SNodeOperations.as(DependenciesHelper.getOriginalNode(((SNode) _context.getVariable("module")), _context), "jetbrains.mps.build.structure.BuildSource_JavaModule");
    SNode layoutNode = helper.artifacts().get(artifact);
    if (layoutNode == null) {
      _context.showErrorMessage(_context.getNode(), "java module " + SPropertyOperations.getString(((SNode) _context.getVariable("module")), "name") + " was not found in the layout");
      return "???";
    }
    String val = BehaviorReflection.invokeVirtual(String.class, layoutNode, "virtual_location_7117056644539862594", new Object[]{helper, artifact});
    if (val == null) {
      _context.showErrorMessage(_context.getNode(), "no location for java module " + SPropertyOperations.getString(((SNode) _context.getVariable("module")), "name"));
      return "???";
    }
    return val;
  }

  public static Object propertyMacro_GetPropertyValue_8169228734285529581(final IOperationContext operationContext, final PropertyMacroContext _context) {
    if (SNodeOperations.getContainingRoot(((SNode) _context.getVariable("jar"))) == SNodeOperations.getContainingRoot(_context.getNode())) {
      return BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(((SNode) _context.getVariable("jar")), "path", true), "virtual_getAntPath_8563603456895173701", new Object[]{Context.defaultContext(_context)});
    }
    SNode project = SNodeOperations.getAncestor(_context.getNode(), "jetbrains.mps.build.structure.BuildProject", false, false);
    if (project == null) {
      _context.showErrorMessage(_context.getNode(), "no context project defined");
      return "???";
    }
    DependenciesHelper helper = new DependenciesHelper(_context, project);
    SNode layoutNode = helper.artifacts().get(DependenciesHelper.getOriginalNode(SLinkOperations.getTarget(((SNode) _context.getVariable("jar")), "path", true), _context));
    if (layoutNode == null) {
      _context.showErrorMessage(_context.getNode(), "file " + BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(((SNode) _context.getVariable("jar")), "path", true), "virtual_getRelativePath_5481553824944787371", new Object[]{}) + " was not found in the layout");
      return "???";
    }
    String val = helper.locations().get(layoutNode);
    if (val == null) {
      _context.showErrorMessage(_context.getNode(), "no location for jar " + BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(((SNode) _context.getVariable("jar")), "path", true), "virtual_getRelativePath_5481553824944787371", new Object[]{}));
      return "???";
    }
    return val;
  }

  public static Object propertyMacro_GetPropertyValue_6859736767834590113(final IOperationContext operationContext, final PropertyMacroContext _context) {
    SNode targetFile = ((SNode) _context.getVariable("jar"));
    SNode project = SNodeOperations.getAncestor(_context.getNode(), "jetbrains.mps.build.structure.BuildProject", false, false);
    if (project == null) {
      _context.showErrorMessage(_context.getNode(), "no context project defined");
      return "???";
    }
    DependenciesHelper helper = new DependenciesHelper(_context, project);
    SNode layoutNode;
    if (SNodeOperations.isInstanceOf(targetFile, "jetbrains.mps.build.structure.BuildLayout_Node")) {
      layoutNode = SNodeOperations.as(DependenciesHelper.getOriginalNode(targetFile, _context), "jetbrains.mps.build.structure.BuildLayout_Node");
    } else {
      SNode sfile = SNodeOperations.as(targetFile, "jetbrains.mps.build.structure.BuildInputSingleFile");
      layoutNode = helper.artifacts().get(DependenciesHelper.getOriginalNode((sfile != null ?
        SLinkOperations.getTarget(sfile, "path", true) :
        targetFile
      ), _context));
      if (layoutNode == null) {
        _context.showErrorMessage(_context.getNode(), "file " + BehaviorReflection.invokeVirtual(String.class, targetFile, "virtual_getApproximateName_5610619299013425878", new Object[]{}) + " was not found in the layout");
        return "???";
      }
    }
    String val = helper.locations().get(layoutNode);
    if (val == null) {
      _context.showErrorMessage(_context.getNode(), "no location for jar " + BehaviorReflection.invokeVirtual(String.class, targetFile, "virtual_getApproximateName_5610619299013425878", new Object[]{}));
      return "???";
    }
    return val;
  }

  public static Object propertyMacro_GetPropertyValue_5610619299014531951(final IOperationContext operationContext, final PropertyMacroContext _context) {
    SNode targetFolder = ((SNode) _context.getVariable("jarFolder"));
    SNode project = SNodeOperations.getAncestor(_context.getNode(), "jetbrains.mps.build.structure.BuildProject", false, false);
    if (project == null) {
      _context.showErrorMessage(_context.getNode(), "no context project defined");
      return "???";
    }
    DependenciesHelper helper = new DependenciesHelper(_context, project);
    SNode layoutNode;
    if (SNodeOperations.isInstanceOf(targetFolder, "jetbrains.mps.build.structure.BuildLayout_AbstractContainer")) {
      layoutNode = SNodeOperations.as(DependenciesHelper.getOriginalNode(targetFolder, _context), "jetbrains.mps.build.structure.BuildLayout_AbstractContainer");
    } else {
      SNode sfolder = SNodeOperations.as(targetFolder, "jetbrains.mps.build.structure.BuildInputSingleFolder");
      layoutNode = helper.artifacts().get(DependenciesHelper.getOriginalNode((sfolder != null ?
        SLinkOperations.getTarget(sfolder, "path", true) :
        targetFolder
      ), _context));
      if (layoutNode == null) {
        _context.showErrorMessage(_context.getNode(), "folder " + BehaviorReflection.invokeVirtual(String.class, targetFolder, "virtual_getApproximateName_5610619299014531547", new Object[]{}) + " was not found in the layout");
        return "???";
      }
    }
    String val = helper.contentLocations().get(layoutNode);
    if (val == null) {
      _context.showErrorMessage(_context.getNode(), "no content location for " + BehaviorReflection.invokeVirtual(String.class, targetFolder, "virtual_getApproximateName_5610619299014531547", new Object[]{}));
      return "???";
    }
    return val;
  }

  public static Object propertyMacro_GetPropertyValue_1556400259614055522(final IOperationContext operationContext, final PropertyMacroContext _context) {
    SNode project = SNodeOperations.getAncestor(_context.getNode(), "jetbrains.mps.build.structure.BuildProject", false, false);
    if (project == null) {
      _context.showErrorMessage(_context.getNode(), "no context project defined");
      return "";
    }
    DependenciesHelper helper = new DependenciesHelper(_context, project);
    String val = helper.locations().get(DependenciesHelper.getOriginalNode(SLinkOperations.getTarget(_context.getNode(), "target", false), _context));
    if (val == null) {
      _context.showErrorMessage(_context.getNode(), "no location for " + BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(_context.getNode(), "target", false), "virtual_getPresentation_1213877396640", new Object[]{}));
      return "";
    }
    int lastSlash = val.lastIndexOf('/');
    if (lastSlash == -1) {
      _context.showErrorMessage(_context.getNode(), "no slash in imported folder name `" + val + "'");
      return "";
    }
    return val.substring(lastSlash + 1);
  }

  public static Object propertyMacro_GetPropertyValue_2750015747481191462(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "filemode");
  }

  public static Object propertyMacro_GetPropertyValue_342830306171239730(final IOperationContext operationContext, final PropertyMacroContext _context) {
    SNode targetFolder = ((SNode) _context.getVariable("folder"));
    SNode project = SNodeOperations.getAncestor(_context.getNode(), "jetbrains.mps.build.structure.BuildProject", false, false);
    if (project == null) {
      _context.showErrorMessage(_context.getNode(), "no context project defined");
      return "???";
    }
    DependenciesHelper helper = new DependenciesHelper(_context, project);
    SNode layoutNode;
    if (SNodeOperations.isInstanceOf(targetFolder, "jetbrains.mps.build.structure.BuildLayout_AbstractContainer")) {
      layoutNode = SNodeOperations.as(DependenciesHelper.getOriginalNode(targetFolder, _context), "jetbrains.mps.build.structure.BuildLayout_AbstractContainer");
    } else {
      SNode sfolder = SNodeOperations.as(targetFolder, "jetbrains.mps.build.structure.BuildInputSingleFolder");
      layoutNode = helper.artifacts().get(DependenciesHelper.getOriginalNode((sfolder != null ?
        SLinkOperations.getTarget(sfolder, "path", true) :
        targetFolder
      ), _context));
      if (layoutNode == null) {
        _context.showErrorMessage(_context.getNode(), "folder " + BehaviorReflection.invokeVirtual(String.class, targetFolder, "virtual_getApproximateName_5610619299014531547", new Object[]{}) + " was not found in the layout");
        return "???";
      }
    }
    String val = helper.contentLocations().get(layoutNode);
    if (val == null) {
      _context.showErrorMessage(_context.getNode(), "no content location for " + BehaviorReflection.invokeVirtual(String.class, targetFolder, "virtual_getApproximateName_5610619299014531547", new Object[]{}));
      return "???";
    }
    return val + "/" + ((String) _context.getVariable("suffix"));
  }

  public static Object propertyMacro_GetPropertyValue_6083230236994856263(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return _context.createUniqueName(_context.getTemplateValue(), null);
  }

  public static Object propertyMacro_GetPropertyValue_6083230236994856535(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return _context.createUniqueName(_context.getTemplateValue(), null);
  }

  public static Object referenceMacro_GetReferent_1117643560963363815(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_1117643560963363967(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_1117643560963360514(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_1117643560963363928(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_1117643560963363847(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_1117643560963363898(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_8577651205286952528(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_8577651205286952635(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_7801138212747392057(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_7801138212747392071(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_2913098736709502314(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_2913098736709502421(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_5248329904288129346(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_5248329904288129316(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_9184644532456968241(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_9184644532456968271(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_4643216374596142975(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_4643216374596143005(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_202934866059116793(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_202934866059116823(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_4701820937132270603(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_4701820937132270633(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_5610619299013114811(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_5610619299013114841(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_6837653846148442003(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_6837653846148442033(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{});
  }

  public static Object referenceMacro_GetReferent_6854204111265839188(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "for", false);
  }

  public static Object referenceMacro_GetReferent_144710003695561045(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return _context.getOutputNodeByInputNodeAndMappingLabel(((SNode) _context.getVariable("library")), "javalibrary");
  }

  public static Object referenceMacro_GetReferent_4821808014881207365(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return _context.getOutputNodeByInputNodeAndMappingLabel(((SNode) _context.getVariable("module")), "javamodule");
  }

  public static Object referenceMacro_GetReferent_8847838005406041707(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return SNodeOperations.cast(SLinkOperations.getTarget(_context.getNode(), "target", false), "jetbrains.mps.build.structure.BuildLayout_Container");
  }

  public static Object referenceMacro_GetReferent_6083230236994919155(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return _context.getOutputNodeByInputNodeAndMappingLabel(_context.getNode(), "buildSourceArchiveRelativePath");
  }

  public static boolean ifMacro_Condition_6408167411310933885(final IOperationContext operationContext, final IfMacroContext _context) {
    SNode parent = SNodeOperations.getParent(_context.getNode());
    while (SNodeOperations.isInstanceOf(parent, "jetbrains.mps.build.structure.BuildLayout_Folder") || SNodeOperations.isInstanceOf(parent, "jetbrains.mps.build.structure.BuildLayout_Filemode")) {
      parent = SNodeOperations.getParent(parent);
    }
    if (SNodeOperations.isInstanceOf(parent, "jetbrains.mps.build.structure.BuildLayout_ContainerAcceptingFileSet") && BehaviorReflection.invokeVirtual(Boolean.TYPE, SNodeOperations.cast(parent, "jetbrains.mps.build.structure.BuildLayout_ContainerAcceptingFileSet"), "virtual_hasPrefixAttribute_6408167411310575232", new Object[]{})) {
      return FileSetUtil.hasExplicitFilesets(_context.getNode());
    }
    return true;
  }

  public static boolean ifMacro_Condition_1117643560963363812(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_1117643560963363971(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_1117643560963369195(final IOperationContext operationContext, final IfMacroContext _context) {
    return FileSetUtil.hasExplicitFilesets(_context.getNode());
  }

  public static boolean ifMacro_Condition_1117643560963359504(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_6837653846148504892(final IOperationContext operationContext, final IfMacroContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "children", true)).findFirst(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildLayout_JarManifest");
      }
    }) != null;
  }

  public static boolean ifMacro_Condition_7801138212747394539(final IOperationContext operationContext, final IfMacroContext _context) {
    return isNotEmpty_x583g4_a0a0bi(SPropertyOperations.getString(_context.getNode(), "filemode"));
  }

  public static boolean ifMacro_Condition_7801138212747394681(final IOperationContext operationContext, final IfMacroContext _context) {
    return isNotEmpty_x583g4_a0a0ci(SPropertyOperations.getString(_context.getNode(), "dirmode"));
  }

  public static boolean ifMacro_Condition_7801138212747420804(final IOperationContext operationContext, final IfMacroContext _context) {
    return isNotEmpty_x583g4_a0a0di(((String) _context.getVariable("var:prefix")));
  }

  public static boolean ifMacro_Condition_1117643560963351259(final IOperationContext operationContext, final IfMacroContext _context) {
    return FileSetUtil.hasExplicitFilesets(_context.getNode());
  }

  public static boolean ifMacro_Condition_1117643560963363924(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_1117643560963369175(final IOperationContext operationContext, final IfMacroContext _context) {
    return FileSetUtil.hasExplicitFilesets(_context.getNode());
  }

  public static boolean ifMacro_Condition_1117643560963363844(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_7801138212747394835(final IOperationContext operationContext, final IfMacroContext _context) {
    return isNotEmpty_x583g4_a0a0ii(SPropertyOperations.getString(_context.getNode(), "filemode"));
  }

  public static boolean ifMacro_Condition_7801138212747394853(final IOperationContext operationContext, final IfMacroContext _context) {
    return isNotEmpty_x583g4_a0a0ji(SPropertyOperations.getString(_context.getNode(), "dirmode"));
  }

  public static boolean ifMacro_Condition_7801138212747420762(final IOperationContext operationContext, final IfMacroContext _context) {
    return isNotEmpty_x583g4_a0a0ki(((String) _context.getVariable("var:prefix")));
  }

  public static boolean ifMacro_Condition_1117643560963358578(final IOperationContext operationContext, final IfMacroContext _context) {
    return FileSetUtil.hasExplicitFilesets(_context.getNode());
  }

  public static boolean ifMacro_Condition_1117643560963363876(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_8577651205286952481(final IOperationContext operationContext, final IfMacroContext _context) {
    return FileSetUtil.hasExplicitFilesets(_context.getNode());
  }

  public static boolean ifMacro_Condition_8577651205286952509(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_1979010778009294646(final IOperationContext operationContext, final IfMacroContext _context) {
    return !(SPropertyOperations.hasValue(_context.getNode(), "compression", "none", "none"));
  }

  public static boolean ifMacro_Condition_7801138212747394913(final IOperationContext operationContext, final IfMacroContext _context) {
    return isNotEmpty_x583g4_a0a0qi(SPropertyOperations.getString(_context.getNode(), "filemode"));
  }

  public static boolean ifMacro_Condition_7801138212747394931(final IOperationContext operationContext, final IfMacroContext _context) {
    return isNotEmpty_x583g4_a0a0ri(SPropertyOperations.getString(_context.getNode(), "dirmode"));
  }

  public static boolean ifMacro_Condition_7801138212747420622(final IOperationContext operationContext, final IfMacroContext _context) {
    return isNotEmpty_x583g4_a0a0si(((String) _context.getVariable("var:prefix")));
  }

  public static boolean ifMacro_Condition_8577651205286952586(final IOperationContext operationContext, final IfMacroContext _context) {
    return FileSetUtil.hasExplicitFilesets(_context.getNode());
  }

  public static boolean ifMacro_Condition_8577651205286952616(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_7801138212747391986(final IOperationContext operationContext, final IfMacroContext _context) {
    SNode parent = SNodeOperations.getParent(_context.getNode());
    boolean hasPrefix = false;
    while (SNodeOperations.isInstanceOf(parent, "jetbrains.mps.build.structure.BuildLayout_Folder") || SNodeOperations.isInstanceOf(parent, "jetbrains.mps.build.structure.BuildLayout_Filemode")) {
      if (SNodeOperations.isInstanceOf(parent, "jetbrains.mps.build.structure.BuildLayout_Folder")) {
        hasPrefix = true;
      }
      parent = SNodeOperations.getParent(parent);
    }
    if (SNodeOperations.isInstanceOf(parent, "jetbrains.mps.build.structure.BuildLayout_ContainerAcceptingFileSet") && BehaviorReflection.invokeVirtual(Boolean.TYPE, SNodeOperations.cast(parent, "jetbrains.mps.build.structure.BuildLayout_ContainerAcceptingFileSet"), "virtual_hasFileModeAttribute_6408167411310575237", new Object[]{}) && (!(hasPrefix) || BehaviorReflection.invokeVirtual(Boolean.TYPE, SNodeOperations.cast(parent, "jetbrains.mps.build.structure.BuildLayout_ContainerAcceptingFileSet"), "virtual_hasPrefixAttribute_6408167411310575232", new Object[]{}))) {
      return FileSetUtil.hasExplicitFilesets(_context.getNode());
    }
    return false;
  }

  public static boolean ifMacro_Condition_7801138212747392038(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_7801138212747392081(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_2913098736709502295(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_2913098736709502402(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_5248329904288129327(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_5248329904288129297(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_1330375798064449865(final IOperationContext operationContext, final IfMacroContext _context) {
    return ((String[]) _context.getVariable("var:lpath"))[0] != null;
  }

  public static boolean ifMacro_Condition_1330375798085921076(final IOperationContext operationContext, final IfMacroContext _context) {
    return FileSetUtil.isExplicit(_context.getNode());
  }

  public static boolean ifMacro_Condition_1330375798064791172(final IOperationContext operationContext, final IfMacroContext _context) {
    return ((String[]) _context.getVariable("var:lpath"))[0] != null;
  }

  public static boolean ifMacro_Condition_9184644532456968297(final IOperationContext operationContext, final IfMacroContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "handlers", true)).any(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildLayout_CopyFilter");
      }
    });
  }

  public static boolean ifMacro_Condition_6977615362525734794(final IOperationContext operationContext, final IfMacroContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "handlers", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildLayout_CopyMapper");
      }
    }).count() > 1;
  }

  public static boolean ifMacro_Condition_9184644532456968222(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_9184644532456968252(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_4198392933254627394(final IOperationContext operationContext, final IfMacroContext _context) {
    return !(SPropertyOperations.hasValue(_context.getNode(), "eol", "local", "local"));
  }

  public static boolean ifMacro_Condition_4198392933254627361(final IOperationContext operationContext, final IfMacroContext _context) {
    return SPropertyOperations.getBoolean(_context.getNode(), "removeEOF");
  }

  public static boolean ifMacro_Condition_4643216374596142956(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_4643216374596142986(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_202934866059116774(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_202934866059116804(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_4701820937132270584(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_4701820937132270614(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_5610619299013114792(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_5610619299013114822(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_6520682027041189779(final IOperationContext operationContext, final IfMacroContext _context) {
    return new DependenciesHelper(_context, SNodeOperations.getAncestor(_context.getNode(), "jetbrains.mps.build.structure.BuildProject", false, false)).requiresFetch().containsKey(_context.getOriginalCopiedInputNode(_context.getNode()));
  }

  public static boolean ifMacro_Condition_8055294676438891194(final IOperationContext operationContext, final IfMacroContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(((SNode) _context.getVariable("var:javaOpts")), "resourceSelectors", true)).isEmpty();
  }

  public static boolean ifMacro_Condition_8055294676438890260(final IOperationContext operationContext, final IfMacroContext _context) {
    return ((SNode) _context.getVariable("var:javaOpts")) != null;
  }

  public static boolean ifMacro_Condition_6837653846148441984(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getPrepareSubTaskId_4701820937132344041", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_6837653846148442014(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container") && BehaviorReflection.invokeVirtual(String.class, SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Container"), "virtual_getAssembleSubTaskId_4701820937132344052", new Object[]{}) != null;
  }

  public static boolean ifMacro_Condition_9126048691954996134(final IOperationContext operationContext, final IfMacroContext _context) {
    if (SNodeOperations.isInstanceOf(ListSequence.fromList(SLinkOperations.getTargets(SLinkOperations.getTarget(_context.getNode(), "layout", true), "children", true)).first(), "jetbrains.mps.build.structure.BuildLayout_Folder")) {
      return false;
    }
    return true;
  }

  public static boolean ifMacro_Condition_6520682027040886838(final IOperationContext operationContext, final IfMacroContext _context) {
    Iterable<SNode> s = (Iterable<SNode>) ((MacroHelper) _context.getVariable("var:macroHelper")).getMacrosToExport();
    return Sequence.fromIterable(s).isNotEmpty();
  }

  public static boolean ifMacro_Condition_6520682027041156330(final IOperationContext operationContext, final IfMacroContext _context) {
    return new DependenciesHelper(_context, _context.getNode()).requiresFetch().containsKey(_context.getOriginalCopiedInputNode(SLinkOperations.getTarget(_context.getNode(), "layout", true)));
  }

  public static boolean ifMacro_Condition_6520682027041201801(final IOperationContext operationContext, final IfMacroContext _context) {
    return Sequence.fromIterable(((Tuples._2<Iterable<SNode>, String>) _context.getVariable("var:depsAndBasePath"))._0()).isNotEmpty();
  }

  public static boolean ifMacro_Condition_6408167411310620878(final IOperationContext operationContext, final IfMacroContext _context) {
    _context.showErrorMessage(_context.getNode(), "cannot reduce fileset, unknown concept: " + _context.getNode().getConcept().getConceptId());
    return false;
  }

  public static boolean ifMacro_Condition_1330375798099683006(final IOperationContext operationContext, final IfMacroContext _context) {
    return isNotEmpty_x583g4_a0a0dk(((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._1());
  }

  public static boolean ifMacro_Condition_1330375798099683018(final IOperationContext operationContext, final IfMacroContext _context) {
    return ((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._3() != null;
  }

  public static boolean ifMacro_Condition_1330375798099683040(final IOperationContext operationContext, final IfMacroContext _context) {
    return ((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._2() != null;
  }

  public static boolean ifMacro_Condition_6408167411310656502(final IOperationContext operationContext, final IfMacroContext _context) {
    return isNotEmpty_x583g4_a0a0gk(((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._1());
  }

  public static boolean ifMacro_Condition_7801138212747257284(final IOperationContext operationContext, final IfMacroContext _context) {
    return ((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._3() != null;
  }

  public static boolean ifMacro_Condition_7801138212747257306(final IOperationContext operationContext, final IfMacroContext _context) {
    return ((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._2() != null;
  }

  public static boolean ifMacro_Condition_6408167411310656480(final IOperationContext operationContext, final IfMacroContext _context) {
    return isNotEmpty_x583g4_a0a0jk(((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._1());
  }

  public static boolean ifMacro_Condition_7801138212747257240(final IOperationContext operationContext, final IfMacroContext _context) {
    return ((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._3() != null;
  }

  public static boolean ifMacro_Condition_7801138212747257262(final IOperationContext operationContext, final IfMacroContext _context) {
    return ((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._2() != null;
  }

  public static boolean ifMacro_Condition_6408167411310656070(final IOperationContext operationContext, final IfMacroContext _context) {
    return isNotEmpty_x583g4_a0a0mk(((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._1());
  }

  public static boolean ifMacro_Condition_7801138212747256991(final IOperationContext operationContext, final IfMacroContext _context) {
    return ((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._3() != null;
  }

  public static boolean ifMacro_Condition_7801138212747256885(final IOperationContext operationContext, final IfMacroContext _context) {
    return ((Tuples._4<String, String, String, String>) _context.getVariable("var:archive"))._2() != null;
  }

  public static boolean ifMacro_Condition_6408167411310656284(final IOperationContext operationContext, final IfMacroContext _context) {
    return isNotEmpty_x583g4_a0a0pk(((Tuples._3<String, String, String>) _context.getVariable("var:archive"))._1());
  }

  public static boolean ifMacro_Condition_7801138212747257196(final IOperationContext operationContext, final IfMacroContext _context) {
    return ((Tuples._3<String, String, String>) _context.getVariable("var:archive"))._2() != null;
  }

  public static boolean ifMacro_Condition_5979287180587467645(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.getContainingRoot(_context.getNode()) != SNodeOperations.getContainingRoot(((SNode) _context.getVariable("library")));
  }

  public static boolean ifMacro_Condition_4821808014881207369(final IOperationContext operationContext, final IfMacroContext _context) {
    return SNodeOperations.getContainingRoot(_context.getNode()) == SNodeOperations.getContainingRoot(((SNode) _context.getVariable("module")));
  }

  public static boolean ifMacro_Condition_2750015747481191497(final IOperationContext operationContext, final IfMacroContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "parameters", true)).any(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildLayout_CopyHandler");
      }
    });
  }

  public static boolean ifMacro_Condition_6083230236994856300(final IOperationContext operationContext, final IfMacroContext _context) {
    return ListSequence.fromList(SNodeOperations.getDescendants(_context.getNode(), "jetbrains.mps.build.structure.BuildSourceArchiveRelativePath", false, new String[]{})).isNotEmpty();
  }

  public static SNode sourceNodeQuery_5248329904288175557(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "fileset", true);
  }

  public static SNode sourceNodeQuery_1330375798060994699(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    ((String[]) _context.getVariable("var:lpath"))[0] = ((String) _context.getVariable("var:tpath"));
    return SLinkOperations.getTarget(SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_CustomCopy"), "fileset", true);
  }

  public static SNode sourceNodeQuery_1330375798064791185(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "fileset", true);
  }

  public static SNode sourceNodeQuery_4643216374596142907(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "element", true);
  }

  public static SNode sourceNodeQuery_244868996532694255(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "initialValue", true);
  }

  public static SNode sourceNodeQuery_4821808014881265837(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return ((JavaModulesClosure) _context.getVariable("var:depsClosure")).getInitial();
  }

  public static SNode sourceNodeQuery_8169228734285529873(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return ((JavaModulesClosure) _context.getVariable("var:depsClosure")).getInitial();
  }

  public static SNode sourceNodeQuery_6859736767834590341(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return ((JavaModulesClosure) _context.getVariable("var:depsClosure")).getInitial();
  }

  public static SNode sourceNodeQuery_5680938682773841408(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return ((JavaModulesClosure) _context.getVariable("var:depsClosure")).getInitial();
  }

  public static SNode sourceNodeQuery_144710003695560994(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return ((JavaModulesClosure) _context.getVariable("var:depsClosure")).getInitial();
  }

  public static SNode sourceNodeQuery_1500819558096269424(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "resset", true);
  }

  public static SNode sourceNodeQuery_144710003695667202(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "classpath", true);
  }

  public static SNode sourceNodeQuery_8056730377013464320(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "classpath", true);
  }

  public static SNode sourceNodeQuery_3717132724153138073(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "jars", true);
  }

  public static SNode sourceNodeQuery_6408167411310621712(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "fileset", true);
  }

  public static SNode sourceNodeQuery_1330375798088316886(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "fileset", true);
  }

  public static SNode sourceNodeQuery_2750015747481191517(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "path", true);
  }

  public static SNode sourceNodeQuery_2750015747481207051(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "path", true);
  }

  public static SNode sourceNodeQuery_2750015747481063363(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "path", true);
  }

  public static SNode sourceNodeQuery_2750015747481063407(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "path", true);
  }

  public static SNode sourceNodeQuery_2750015747481074564(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "path", true);
  }

  public static SNode sourceNodeQuery_2750015747481074596(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "path", true);
  }

  public static SNode sourceNodeQuery_6083230236994856499(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return BuildSourceArchiveRelativePath_Behavior.call_getUnpackTask_8990969321156029654(_context.getNode(), Context.defaultContext(_context));
  }

  public static SNode sourceNodeQuery_6083230236994856570(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return BuildSourceArchiveRelativePath_Behavior.call_getUnpackTask_8990969321156029654(_context.getNode(), Context.defaultContext(_context));
  }

  public static Object templateArgumentQuery_4821808014881251890(final IOperationContext operationContext, final TemplateQueryContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "targetModule", false);
  }

  public static Object templateArgumentQuery_8169228734285529871(final IOperationContext operationContext, final TemplateQueryContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "targetJar", false);
  }

  public static Object templateArgumentQuery_6859736767834590331(final IOperationContext operationContext, final TemplateQueryContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "targetFile", false);
  }

  public static Object templateArgumentQuery_5680938682773841398(final IOperationContext operationContext, final TemplateQueryContext _context) {
    return (SNode) _context.getNode().getReferenceTarget("targetJar");
  }

  public static Object templateArgumentQuery_5680938682773841635(final IOperationContext operationContext, final TemplateQueryContext _context) {
    return _context.getNode().getProperty("suffix");
  }

  public static Object templateArgumentQuery_144710003695561027(final IOperationContext operationContext, final TemplateQueryContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "targetLibrary", false);
  }

  public static Object templateArgumentQuery_4821808014881175180(final IOperationContext operationContext, final TemplateQueryContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "library", false);
  }

  public static Object templateArgumentQuery_4821808014881207678(final IOperationContext operationContext, final TemplateQueryContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "module", false);
  }

  public static Object templateArgumentQuery_8169228734285538410(final IOperationContext operationContext, final TemplateQueryContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "jar", true);
  }

  public static Object templateArgumentQuery_6859736767834590236(final IOperationContext operationContext, final TemplateQueryContext _context) {
    return SLinkOperations.getTarget(SLinkOperations.getTarget(_context.getNode(), "extJar", true), "jar", false);
  }

  public static Object templateArgumentQuery_342830306171239709(final IOperationContext operationContext, final TemplateQueryContext _context) {
    return SLinkOperations.getTarget(SLinkOperations.getTarget(_context.getNode(), "extFolder", true), "folder", false);
  }

  public static Object templateArgumentQuery_342830306171239896(final IOperationContext operationContext, final TemplateQueryContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "suffix");
  }

  public static Object templateArgumentQuery_5610619299014495886(final IOperationContext operationContext, final TemplateQueryContext _context) {
    return SLinkOperations.getTarget(SLinkOperations.getTarget(_context.getNode(), "extJar", true), "jar", false);
  }

  public static Object templateArgumentQuery_5610619299014531918(final IOperationContext operationContext, final TemplateQueryContext _context) {
    return SLinkOperations.getTarget(SLinkOperations.getTarget(_context.getNode(), "extFolder", true), "folder", false);
  }

  public static Iterable sourceNodesQuery_1117643560963351248(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return FileSetUtil.getImplicitFilesets(_context.getNode());
  }

  public static Iterable sourceNodesQuery_7801138212747391938(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return FileSetUtil.getExplicitFilemodeRoots(_context.getNode());
  }

  public static Iterable sourceNodesQuery_1117643560963358547(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return FileSetUtil.getImplicitFilesets(_context.getNode());
  }

  public static Iterable sourceNodesQuery_7801138212747394870(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return FileSetUtil.getExplicitFilemodeRoots(_context.getNode());
  }

  public static Iterable sourceNodesQuery_8577651205286952555(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return FileSetUtil.getImplicitFilesets(_context.getNode());
  }

  public static Iterable sourceNodesQuery_7801138212747394948(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return FileSetUtil.getExplicitFilemodeRoots(_context.getNode());
  }

  public static Iterable sourceNodesQuery_1330375798060357185(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "handlers", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildLayout_CopyProcessor");
      }
    }).select(new ISelector<SNode, SNode>() {
      public SNode select(SNode it) {
        return SNodeOperations.cast(it, "jetbrains.mps.build.structure.BuildLayout_CopyProcessor");
      }
    });
  }

  public static Iterable sourceNodesQuery_9184644532456968384(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "handlers", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildLayout_CopyFilter");
      }
    });
  }

  public static Iterable sourceNodesQuery_6977615362525734877(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "handlers", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildLayout_CopyMapper");
      }
    });
  }

  public static Iterable sourceNodesQuery_6977615362525734897(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    List<SNode> list = ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "handlers", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildLayout_CopyMapper");
      }
    }).toListSequence();
    return ((int) ListSequence.fromList(list).count() == 1 ?
      list :
      Collections.<SNode>emptyList()
    );
  }

  public static Iterable sourceNodesQuery_6789562173791600095(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "selectors", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return !(SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildFileSelectorInAttribute"));
      }
    });
  }

  public static Iterable sourceNodesQuery_6789562173791600116(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "selectors", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildFileSelectorInAttribute");
      }
    });
  }

  public static Iterable sourceNodesQuery_7926701909975671841(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "sources", true);
  }

  public static Iterable sourceNodesQuery_5979287180587467230(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    List<SNode> result = new ArrayList<SNode>();
    for (SNode module : ((JavaModulesClosure) _context.getVariable("var:depsClosure")).getModules()) {
      SNode loopnode = SModelOperations.createNewNode(_context.getOutputModel(), null, "jetbrains.mps.build.structure.GeneratorInternal_BuildSource_JavaModule");
      SLinkOperations.setTarget(loopnode, "targetModule", module, false);
      ListSequence.fromList(result).addElement(loopnode);
    }
    return result;
  }

  public static Iterable sourceNodesQuery_8169228734285529277(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    List<SNode> result = new ArrayList<SNode>();
    for (SNode jar : ((JavaModulesClosure) _context.getVariable("var:depsClosure")).getJars()) {
      SNode loopnode = SModelOperations.createNewNode(_context.getOutputModel(), null, "jetbrains.mps.build.structure.GeneratorInternal_BuildSource_JavaJar");
      SLinkOperations.setTarget(loopnode, "targetJar", jar, false);
      ListSequence.fromList(result).addElement(loopnode);
    }
    return result;
  }

  public static Iterable sourceNodesQuery_6859736767834590289(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    List<SNode> result = new ArrayList<SNode>();
    for (SNode jar : ((JavaModulesClosure) _context.getVariable("var:depsClosure")).getExternalJars()) {
      SNode loopnode = SModelOperations.createNewNode(_context.getOutputModel(), null, "jetbrains.mps.build.structure.GeneratorInternal_BuildSource_SingleFile");
      SLinkOperations.setTarget(loopnode, "targetFile", jar, false);
      ListSequence.fromList(result).addElement(loopnode);
    }
    return result;
  }

  public static Iterable sourceNodesQuery_5680938682773841356(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    List<SNode> result = new ArrayList<SNode>();
    for (Tuples._2<SNode, String> jarInFolder : ((JavaModulesClosure) _context.getVariable("var:depsClosure")).getExternalJarsInFolder()) {
      SNode loopnode = SModelOperations.createNewNode(_context.getOutputModel(), null, "jetbrains.mps.lang.core.structure.BaseConcept");
      loopnode.setReferenceTarget("targetJar", jarInFolder._0());
      loopnode.setProperty("suffix", jarInFolder._1());
      ListSequence.fromList(result).addElement(loopnode);
    }
    return result;
  }

  public static Iterable sourceNodesQuery_144710003695560909(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    List<SNode> result = new ArrayList<SNode>();
    for (SNode library : ((JavaModulesClosure) _context.getVariable("var:depsClosure")).getLibraries()) {
      SNode loopnode = SModelOperations.createNewNode(_context.getOutputModel(), null, "jetbrains.mps.build.structure.GeneratorInternal_BuildSource_JavaLibrary");
      SLinkOperations.setTarget(loopnode, "targetLibrary", library, false);
      ListSequence.fromList(result).addElement(loopnode);
    }
    return result;
  }

  public static Iterable sourceNodesQuery_6647099934207033969(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "dependencies", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return !(SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildSource_JavaDependencyLibrary")) && !(SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildSource_JavaDependencyModule")) && !(SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildSource_JavaDependencyJar")) && !(SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildSource_JavaDependencyExternalJar"));
      }
    });
  }

  public static Iterable sourceNodesQuery_1659807394254753603(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "sources", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildSource_JavaResources");
      }
    }).select(new ISelector<SNode, SNode>() {
      public SNode select(SNode it) {
        return SLinkOperations.getTarget(SNodeOperations.cast(it, "jetbrains.mps.build.structure.BuildSource_JavaResources"), "fileset", true);
      }
    });
  }

  public static Iterable sourceNodesQuery_8055294676438890950(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(((SNode) _context.getVariable("var:javaOpts")), "resourceSelectors", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildFileSelectorInAttribute");
      }
    });
  }

  public static Iterable sourceNodesQuery_8055294676438890049(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    Iterable<String> folders = ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "sources", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildSource_JavaFiles");
      }
    }).select(new ISelector<SNode, String>() {
      public String select(SNode it) {
        return BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(SLinkOperations.getTarget(SNodeOperations.cast(it, "jetbrains.mps.build.structure.BuildSource_JavaFiles"), "resset", true), "path", true), "virtual_getAntPath_8563603456895173701", new Object[]{Context.defaultContext(_context)});
      }
    });
    folders = Sequence.fromIterable(folders).concat(ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "sources", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildSource_JavaContentRoot");
      }
    }).translate(new ITranslator2<SNode, String>() {
      public Iterable<String> translate(SNode it) {
        SNode croot = SNodeOperations.cast(it, "jetbrains.mps.build.structure.BuildSource_JavaContentRoot");
        final String relativePath = BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(croot, "basePath", true), "virtual_getAntPath_8563603456895173701", new Object[]{Context.defaultContext(_context)});
        return ListSequence.fromList(SLinkOperations.getTargets(croot, "folders", true)).where(new IWhereFilter<SNode>() {
          public boolean accept(SNode ifolder) {
            return SPropertyOperations.hasValue(ifolder, "kind", "source", null);
          }
        }).select(new ISelector<SNode, String>() {
          public String select(SNode ifolder) {
            return relativePath + "/" + SPropertyOperations.getString(ifolder, "relativePath");
          }
        });
      }
    }));
    List<SNode> result = new ArrayList<SNode>();
    for (String fname : folders) {
      SNode loopnode = SModelOperations.createNewNode(_context.getOutputModel(), null, "jetbrains.mps.lang.core.structure.BaseConcept");
      loopnode.setProperty("folderName", fname);
      ListSequence.fromList(result).addElement(loopnode);
    }
    return result;
  }

  public static Iterable sourceNodesQuery_8055294676438891186(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(((SNode) _context.getVariable("var:javaOpts")), "resourceSelectors", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return !(SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildFileSelectorInAttribute"));
      }
    });
  }

  public static Iterable sourceNodesQuery_7926701909975671863(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "folders", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SPropertyOperations.hasValue(it, "kind", "source", null);
      }
    });
  }

  public static Iterable sourceNodesQuery_144710003695560923(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "elements", true);
  }

  public static Iterable sourceNodesQuery_8654221991637384265(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "selectors", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildFileSelectorInAttribute");
      }
    });
  }

  public static Iterable sourceNodesQuery_5248329904288079434(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "selectors", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return !(SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildFileSelectorInAttribute"));
      }
    });
  }

  public static Iterable sourceNodesQuery_8654221991637384349(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "selectors", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildFileSelectorInAttribute");
      }
    });
  }

  public static Iterable sourceNodesQuery_7866279537988669091(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "selectors", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return !(SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildFileSelectorInAttribute"));
      }
    });
  }

  public static Iterable sourceNodesQuery_4701820937132337458(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "parts", true);
  }

  public static Iterable sourceNodesQuery_4701820937132337542(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SNodeOperations.getDescendants(_context.getNode(), "jetbrains.mps.build.structure.BuildLayout_Node", false, new String[]{});
  }

  public static Iterable sourceNodesQuery_6837653846148442091(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return BuildLayout_JarManifest_Behavior.call_getAttributes_8563603456895840897(_context.getNode());
  }

  public static Iterable sourceNodesQuery_6837653846148442133(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "attribute", true);
  }

  public static Iterable sourceNodesQuery_6837653846148442156(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return BuildLayout_JarManifest_Behavior.call_getSections_8563603456895840664(_context.getNode());
  }

  public static Iterable sourceNodesQuery_1117643560963307378(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "macros", true);
  }

  public static Iterable sourceNodesQuery_4129895186893528610(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "dependencies", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildProjectDependency");
      }
    });
  }

  public static Iterable sourceNodesQuery_7181125477683419217(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "dependencies", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildExternalLayoutDependency");
      }
    });
  }

  public static Iterable sourceNodesQuery_6520682027041002163(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return (Iterable<SNode>) ((MacroHelper) _context.getVariable("var:macroHelper")).getVarsContainers();
  }

  public static Iterable sourceNodesQuery_6520682027040940372(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return (Iterable<SNode>) ((MacroHelper) _context.getVariable("var:macroHelper")).getMacrosToImport();
  }

  public static Iterable sourceNodesQuery_6647099934206970618(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "plugins", true);
  }

  public static Iterable sourceNodesQuery_1117643560963346309(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "parts", true);
  }

  public static Iterable sourceNodesQuery_4701820937132337365(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "aspects", true);
  }

  public static Iterable sourceNodesQuery_6854204111265743219(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    Map<SNode, SNode> participantForTask = MapSequence.fromMap(new LinkedHashMap<SNode, SNode>(16, (float) 0.75, false));
    List<SNode> list = ListSequence.fromList(new ArrayList<SNode>());
    for (SNode participant : ListSequence.fromList(SNodeOperations.getDescendants(_context.getNode(), "jetbrains.mps.build.structure.IWorkflowParticipant", false, new String[]{})).reversedList()) {
      SNode targetTask = BehaviorReflection.invokeVirtual((Class<SNode>) ((Class) Object.class), participant, "virtual_getTargetTask_6854204111265837872", new Object[]{});
      if (MapSequence.fromMap(participantForTask).get(targetTask) == null) {
        MapSequence.fromMap(participantForTask).put(targetTask, SConceptOperations.createNewNode("jetbrains.mps.build.structure.GeneratorInternal_IWorkfowParticipants", null));
        SLinkOperations.setTarget(MapSequence.fromMap(participantForTask).get(targetTask), "for", targetTask, false);
        ListSequence.fromList(list).addElement(MapSequence.fromMap(participantForTask).get(targetTask));
      }
      SNode ref = SConceptOperations.createNewNode("jetbrains.mps.build.structure.GeneratorInternal_IWorkflowParticipantReference", null);
      SLinkOperations.setTarget(ref, "participant", participant, false);
      ListSequence.fromList(SLinkOperations.getTargets(MapSequence.fromMap(participantForTask).get(targetTask), "participant", true)).addElement(ref);
    }
    return list;
  }

  public static Iterable sourceNodesQuery_6854204111265839256(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "participant", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return (SLinkOperations.getTarget(it, "participant", false) != null);
      }
    }).select(new ISelector<SNode, SNode>() {
      public SNode select(SNode it) {
        return SLinkOperations.getTarget(it, "participant", false);
      }
    });
  }

  public static Iterable sourceNodesQuery_1117643560963267906(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SNodeOperations.getDescendants(SLinkOperations.getTarget(_context.getNode(), "layout", true), "jetbrains.mps.build.structure.BuildLayout_Node", false, new String[]{});
  }

  public static Iterable sourceNodesQuery_5273009634659101826(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ((Tuples._2<Iterable<SNode>, String>) _context.getVariable("var:depsAndBasePath"))._0();
  }

  public static Iterable sourceNodesQuery_6520682027041196812(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ((Tuples._2<Iterable<SNode>, String>) _context.getVariable("var:depsAndBasePath"))._0();
  }

  public static Iterable sourceNodesQuery_6647099934206970591(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "plugins", true);
  }

  public static Iterable sourceNodesQuery_6789562173791401780(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "selectors", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildFileSelectorInAttribute");
      }
    });
  }

  public static Iterable sourceNodesQuery_6789562173791401759(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "selectors", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return !(SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildFileSelectorInAttribute"));
      }
    });
  }

  public static Iterable sourceNodesQuery_6408167411310621656(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "selectors", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildFileSelectorInAttribute");
      }
    });
  }

  public static Iterable sourceNodesQuery_6408167411310621677(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "selectors", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return !(SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildFileSelectorInAttribute"));
      }
    });
  }

  public static Iterable sourceNodesQuery_8775597636506088245(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ((Collection) IterableUtil.asCollection(_context.getNode().getChildren("attrs")));
  }

  public static Iterable sourceNodesQuery_5979287180587467422(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    SNode project = SNodeOperations.getAncestor(_context.getNode(), "jetbrains.mps.build.structure.BuildProject", false, false);
    if (project == null) {
      _context.showErrorMessage(_context.getNode(), "no context project defined");
      return Collections.emptyList();
    }
    DependenciesHelper helper = new DependenciesHelper(_context, project);
    SNode originalNode = SNodeOperations.as(DependenciesHelper.getOriginalNode(((SNode) _context.getVariable("library")), _context), "jetbrains.mps.build.structure.BuildSource_JavaLibrary");

    return new JavaExternalLibraryHelper(helper, originalNode, _context).artifacts();
  }

  public static Iterable sourceNodesQuery_2750015747481207044(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "parameters", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildLayout_CopyHandler");
      }
    });
  }

  public static Iterable sourceNodesQuery_2750015747481063235(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "parameters", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildLayout_CopyHandler");
      }
    });
  }

  public static Iterable sourceNodesQuery_2750015747481074544(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "parameters", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildLayout_CopyHandler");
      }
    });
  }

  public static Iterable sourceNodesQuery_2750015747481074590(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "parameters", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return !(SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildLayout_CopyHandler"));
      }
    });
  }

  public static Iterable sourceNodesQuery_2750015747481074656(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "parameters", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return !(SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildLayout_CopyHandler"));
      }
    });
  }

  public static Iterable sourceNodesQuery_6083230236994919188(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SNodeOperations.getDescendants(_context.getNode(), "jetbrains.mps.build.structure.BuildSourceArchiveRelativePath", false, new String[]{});
  }

  public static void mappingScript_CodeBlock_809559803149973643(final IOperationContext operationContext, final MappingScriptContext _context) {
    for (SNode buildProject : ListSequence.fromList(SModelOperations.getRoots(_context.getModel(), "jetbrains.mps.build.structure.BuildProject"))) {
      String scriptsPath = BuildProject_Behavior.call_getScriptsPath_4796668409958419284(buildProject, Context.defaultContext(_context));
      if (scriptsPath != null && scriptsPath.endsWith("/")) {
        scriptsPath = scriptsPath.substring(0, scriptsPath.length() - 1);
      }
      String fileName = (scriptsPath == null ?
        null :
        scriptsPath + "/" + BuildProject_Behavior.call_getOutputFileName_4915877860351551360(buildProject)
      );
      buildProject.putUserObject(GenerationUtil.SCRIPTS_TARGET_PROPERTY, fileName);
    }
  }

  public static void mappingScript_CodeBlock_841011766566205060(final IOperationContext operationContext, final MappingScriptContext _context) {
    for (SNode root : SModelOperations.getRoots(_context.getModel(), "jetbrains.mps.build.structure.BuildProject")) {
      if (!(_context.isDirty(root))) {
        continue;
      }

      new FetchDependenciesProcessor(root, _context).process();
    }
  }

  public static void mappingScript_CodeBlock_715289236985580032(final IOperationContext operationContext, final MappingScriptContext _context) {
    ListSequence.fromList(SModelOperations.getNodes(_context.getModel(), "jetbrains.mps.build.structure.BuildSourceArchiveRelativePath")).visitAll(new IVisitor<SNode>() {
      public void visit(SNode path) {
        DependenciesHelper helper = new DependenciesHelper(_context, SNodeOperations.getAncestor(path, "jetbrains.mps.build.structure.BuildProject", false, false));
        helper.contentLocations().put(DependenciesHelper.getOriginalNode(path, _context), BuildSourceArchiveRelativePath_Behavior.call_calculateUnpackPath_715289236985547394(path, Context.defaultContext(_context)));
      }
    });
  }

  public static Object insertMacro_varValue_7801138212747420792(final IOperationContext operationContext, final TemplateQueryContext _context) {
    return FileSetUtil.getContainerPrefix(_context.getNode(), Context.defaultContext(_context).getMacros(_context.getNode()));
  }

  public static Object insertMacro_varValue_7801138212747420750(final IOperationContext operationContext, final TemplateQueryContext _context) {
    return FileSetUtil.getContainerPrefix(_context.getNode(), Context.defaultContext(_context).getMacros(_context.getNode()));
  }

  public static Object insertMacro_varValue_7801138212747420576(final IOperationContext operationContext, final TemplateQueryContext _context) {
    return FileSetUtil.getContainerPrefix(_context.getNode(), Context.defaultContext(_context).getMacros(_context.getNode()));
  }

  public static Object insertMacro_varValue_1330375798062120565(final IOperationContext operationContext, final TemplateQueryContext _context) {
    return BuildLayout_CopyProcessor_Behavior.call_getTempFolder_1330375798096391716(_context.getNode(), _context);
  }

  public static Object insertMacro_varValue_1330375798060387486(final IOperationContext operationContext, final TemplateQueryContext _context) {
    return new String[]{null};
  }

  public static Object insertMacro_varValue_7517237557345560699(final IOperationContext operationContext, final TemplateQueryContext _context) {
    SNode project = SNodeOperations.getAncestor(_context.getNode(), "jetbrains.mps.build.structure.BuildProject", false, false);
    if (project == null) {
      _context.showErrorMessage(_context.getNode(), "no context project defined");
      return "???";
    }
    DependenciesHelper helper = new DependenciesHelper(_context, project);
    String val = helper.locations().get(DependenciesHelper.getOriginalNode(SLinkOperations.getTarget(_context.getNode(), "target", false), _context));
    if (val == null) {
      _context.showErrorMessage(_context.getNode(), "no location for " + BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(_context.getNode(), "target", false), "virtual_getPresentation_1213877396640", new Object[]{}));
    }
    return val;
  }

  public static Object insertMacro_varValue_5610619299013114726(final IOperationContext operationContext, final TemplateQueryContext _context) {
    SNode project = SNodeOperations.getAncestor(_context.getNode(), "jetbrains.mps.build.structure.BuildProject", false, false);
    if (project == null) {
      _context.showErrorMessage(_context.getNode(), "no context project defined");
      return "???";
    }
    DependenciesHelper helper = new DependenciesHelper(_context, project);
    String val = helper.contentLocations().get(DependenciesHelper.getOriginalNode(SLinkOperations.getTarget(_context.getNode(), "target", false), _context));
    if (val == null) {
      _context.showErrorMessage(_context.getNode(), "no location for " + BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(_context.getNode(), "target", false), "virtual_getPresentation_1213877396640", new Object[]{}));
    }
    return val;
  }

  public static Object insertMacro_varValue_5979287180587467220(final IOperationContext operationContext, final TemplateQueryContext _context) {
    return new JavaModulesClosure(_context, _context.getNode()).closure(false);
  }

  public static Object insertMacro_varValue_1659807394254873141(final IOperationContext operationContext, final TemplateQueryContext _context) {
    SNode options = ((SLinkOperations.getTarget(_context.getNode(), "options", true) != null) ?
      SLinkOperations.getTarget(SLinkOperations.getTarget(_context.getNode(), "options", true), "compileOptions", false) :
      null
    );
    if (options == null) {
      options = ListSequence.fromList(SNodeOperations.getAllSiblings(_context.getNode(), false)).where(new IWhereFilter<SNode>() {
        public boolean accept(SNode it) {
          return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildSource_JavaOptions") && isEmpty_x583g4_a0a0a0a0a0a0a0a0b0ap(SPropertyOperations.getString(SNodeOperations.cast(it, "jetbrains.mps.build.structure.BuildSource_JavaOptions"), "optionsName"));
        }
      }).select(new ISelector<SNode, SNode>() {
        public SNode select(SNode it) {
          return SNodeOperations.cast(it, "jetbrains.mps.build.structure.BuildSource_JavaOptions");
        }
      }).first();
    }
    return options;
  }

  public static Object insertMacro_varValue_4129895186893528603(final IOperationContext operationContext, final TemplateQueryContext _context) {
    String basePath = BuildProject_Behavior.call_getBasePath_4959435991187146924(_context.getNode(), Context.defaultContext(_context));
    if (basePath == null) {
      _context.showErrorMessage(_context.getNode(), "no base path for script " + SPropertyOperations.getString(_context.getNode(), "name"));
    }
    return basePath;
  }

  public static Object insertMacro_varValue_6520682027041193831(final IOperationContext operationContext, final TemplateQueryContext _context) {
    Iterable<SNode> list = ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "dependencies", true)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return SNodeOperations.isInstanceOf(it, "jetbrains.mps.build.structure.BuildProjectDependency") && (SLinkOperations.getTarget(SNodeOperations.cast(it, "jetbrains.mps.build.structure.BuildProjectDependency"), "artifacts", true) == null) && !(BuildProject_Behavior.call_isPackaged_4129895186893455885(SLinkOperations.getTarget(SNodeOperations.cast(it, "jetbrains.mps.build.structure.BuildProjectDependency"), "script", false), Context.defaultContext(_context)));
      }
    }).select(new ISelector<SNode, SNode>() {
      public SNode select(SNode it) {
        return SNodeOperations.cast(it, "jetbrains.mps.build.structure.BuildProjectDependency");
      }
    });
    String basePath = BuildProject_Behavior.call_getBasePath_4959435991187146924(_context.getNode(), Context.defaultContext(_context));
    return MultiTuple.<Iterable<SNode>,String>from(list, basePath);
  }

  public static Object insertMacro_varValue_6520682027040940450(final IOperationContext operationContext, final TemplateQueryContext _context) {
    return new MacroHelper.MacroContext(_context.getNode(), _context).getMacros(_context.getNode());
  }

  public static Object insertMacro_varValue_1330375798099589843(final IOperationContext operationContext, final TemplateQueryContext _context) {
    MacroHelper macros = Context.defaultContext(_context).getMacros(_context.getNode());
    String fsetExt = "fileset";
    String prefix = FileSetUtil.getPrefix(_context.getNode(), macros);
    Pair<String, String> filemode = FileSetUtil.getFilemode(_context.getNode(), macros);
    if ((prefix != null && prefix.length() > 0) || filemode != null) {
      SNode filesetContainer = FileSetUtil.getFilesetLayoutContainer(SNodeOperations.as(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Node"));
      fsetExt = BehaviorReflection.invokeVirtual(String.class, filesetContainer, "virtual_getFileSetExtension_6408167411310575216", new Object[]{});
    }
    return MultiTuple.<String,String,String,String>from(fsetExt, prefix, (filemode != null ?
      filemode.o1 :
      null
    ), (filemode != null ?
      filemode.o2 :
      null
    ));
  }

  public static Object insertMacro_varValue_5610619299013114930(final IOperationContext operationContext, final TemplateQueryContext _context) {
    SNode project = SNodeOperations.getAncestor(_context.getNode(), "jetbrains.mps.build.structure.BuildProject", false, false);
    if (project == null) {
      _context.showErrorMessage(_context.getNode(), "no context project defined");
      return "???";
    }
    DependenciesHelper helper = new DependenciesHelper(_context, project);
    String val = helper.locations().get(DependenciesHelper.getOriginalNode(SLinkOperations.getTarget(_context.getNode(), "target", false), _context));
    if (val == null) {
      _context.showErrorMessage(_context.getNode(), "no location for " + BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(_context.getNode(), "target", false), "virtual_getPresentation_1213877396640", new Object[]{}));
    } else if (BehaviorReflection.invokeVirtual(Boolean.TYPE, SLinkOperations.getTarget(_context.getNode(), "target", false), "virtual_isFolder_1368030936106753980", new Object[]{})) {
      _context.showErrorMessage(_context.getNode(), "internal error: cannot handle folders `" + BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(_context.getNode(), "target", false), "virtual_getPresentation_1213877396640", new Object[]{}) + "'");
    }
    return val;
  }

  public static Object insertMacro_varValue_6408167411310656423(final IOperationContext operationContext, final TemplateQueryContext _context) {
    MacroHelper macros = Context.defaultContext(_context).getMacros(_context.getNode());
    String fsetExt = "fileset";
    String prefix = FileSetUtil.getPrefix(_context.getNode(), macros);
    Pair<String, String> filemode = FileSetUtil.getFilemode(_context.getNode(), macros);
    if ((prefix != null && prefix.length() > 0) || filemode != null) {
      SNode filesetContainer = FileSetUtil.getFilesetLayoutContainer(SNodeOperations.as(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Node"));
      fsetExt = BehaviorReflection.invokeVirtual(String.class, filesetContainer, "virtual_getFileSetExtension_6408167411310575216", new Object[]{});
    }
    return MultiTuple.<String,String,String,String>from(fsetExt, prefix, (filemode != null ?
      filemode.o1 :
      null
    ), (filemode != null ?
      filemode.o2 :
      null
    ));
  }

  public static Object insertMacro_varValue_5610619299013115037(final IOperationContext operationContext, final TemplateQueryContext _context) {
    SNode project = SNodeOperations.getAncestor(_context.getNode(), "jetbrains.mps.build.structure.BuildProject", false, false);
    if (project == null) {
      _context.showErrorMessage(_context.getNode(), "no context project defined");
      return "???";
    }
    DependenciesHelper helper = new DependenciesHelper(_context, project);
    String val = helper.contentLocations().get(DependenciesHelper.getOriginalNode(SLinkOperations.getTarget(_context.getNode(), "target", false), _context));
    if (val == null) {
      _context.showErrorMessage(_context.getNode(), "no content location for " + BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(_context.getNode(), "target", false), "virtual_getPresentation_1213877396640", new Object[]{}));
    }
    return val;
  }

  public static Object insertMacro_varValue_6408167411310656356(final IOperationContext operationContext, final TemplateQueryContext _context) {
    MacroHelper macros = Context.defaultContext(_context).getMacros(_context.getNode());
    String fsetExt = "fileset";
    String prefix = FileSetUtil.getPrefix(_context.getNode(), macros);
    Pair<String, String> filemode = FileSetUtil.getFilemode(_context.getNode(), macros);
    if ((prefix != null && prefix.length() > 0) || filemode != null) {
      SNode filesetContainer = FileSetUtil.getFilesetLayoutContainer(SNodeOperations.as(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Node"));
      fsetExt = BehaviorReflection.invokeVirtual(String.class, filesetContainer, "virtual_getFileSetExtension_6408167411310575216", new Object[]{});
    }
    return MultiTuple.<String,String,String,String>from(fsetExt, prefix, (filemode != null ?
      filemode.o1 :
      null
    ), (filemode != null ?
      filemode.o2 :
      null
    ));
  }

  public static Object insertMacro_varValue_6408167411310655877(final IOperationContext operationContext, final TemplateQueryContext _context) {
    String fsetExt = "fileset";
    String prefix = null;
    if (SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Copy")) {
      SNode copyContainer = SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Copy");
      MacroHelper macros = Context.defaultContext(_context).getMacros(_context.getNode());
      prefix = FileSetUtil.getPrefix(copyContainer, macros);
      Pair<String, String> filemode = FileSetUtil.getFilemode(copyContainer, macros);
      if ((prefix != null && prefix.length() > 0) || filemode != null) {
        SNode filesetContainer = FileSetUtil.getFilesetLayoutContainer(SNodeOperations.as(SNodeOperations.getParent(copyContainer), "jetbrains.mps.build.structure.BuildLayout_Node"));
        fsetExt = BehaviorReflection.invokeVirtual(String.class, filesetContainer, "virtual_getFileSetExtension_6408167411310575216", new Object[]{});
      }
      return MultiTuple.<String,String,String,String>from(fsetExt, prefix, (filemode != null ?
        filemode.o1 :
        null
      ), (filemode != null ?
        filemode.o2 :
        null
      ));
    }
    return MultiTuple.<String,String,Object,Object>from(fsetExt, prefix, null, null);
  }

  public static Object insertMacro_varValue_6408167411310656207(final IOperationContext operationContext, final TemplateQueryContext _context) {
    String fsetExt = "fileset";
    String prefix = null;
    if (SNodeOperations.isInstanceOf(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Copy")) {
      SNode copyContainer = SNodeOperations.cast(SNodeOperations.getParent(_context.getNode()), "jetbrains.mps.build.structure.BuildLayout_Copy");
      MacroHelper macros = Context.defaultContext(_context).getMacros(_context.getNode());
      prefix = FileSetUtil.getPrefix(copyContainer, macros);
      Pair<String, String> filemode = FileSetUtil.getFilemode(copyContainer, macros);
      if ((prefix != null && prefix.length() > 0) || filemode != null && filemode.o2 != null) {
        SNode filesetContainer = FileSetUtil.getFilesetLayoutContainer(SNodeOperations.as(SNodeOperations.getParent(copyContainer), "jetbrains.mps.build.structure.BuildLayout_Node"));
        fsetExt = BehaviorReflection.invokeVirtual(String.class, filesetContainer, "virtual_getFileSetExtension_6408167411310575216", new Object[]{});
      }
      return MultiTuple.<String,String,String>from(fsetExt, prefix, (filemode != null ?
        filemode.o2 :
        null
      ));
    }
    return MultiTuple.<String,String,Object>from(fsetExt, prefix, null);
  }

  public static boolean isNotEmpty_x583g4_a0a0a9(String str) {
    return str != null && str.length() > 0;
  }

  public static boolean isNotEmpty_x583g4_a0a0bi(String str) {
    return str != null && str.length() > 0;
  }

  public static boolean isNotEmpty_x583g4_a0a0ci(String str) {
    return str != null && str.length() > 0;
  }

  public static boolean isNotEmpty_x583g4_a0a0di(String str) {
    return str != null && str.length() > 0;
  }

  public static boolean isNotEmpty_x583g4_a0a0ii(String str) {
    return str != null && str.length() > 0;
  }

  public static boolean isNotEmpty_x583g4_a0a0ji(String str) {
    return str != null && str.length() > 0;
  }

  public static boolean isNotEmpty_x583g4_a0a0ki(String str) {
    return str != null && str.length() > 0;
  }

  public static boolean isNotEmpty_x583g4_a0a0qi(String str) {
    return str != null && str.length() > 0;
  }

  public static boolean isNotEmpty_x583g4_a0a0ri(String str) {
    return str != null && str.length() > 0;
  }

  public static boolean isNotEmpty_x583g4_a0a0si(String str) {
    return str != null && str.length() > 0;
  }

  public static boolean isNotEmpty_x583g4_a0a0dk(String str) {
    return str != null && str.length() > 0;
  }

  public static boolean isNotEmpty_x583g4_a0a0gk(String str) {
    return str != null && str.length() > 0;
  }

  public static boolean isNotEmpty_x583g4_a0a0jk(String str) {
    return str != null && str.length() > 0;
  }

  public static boolean isNotEmpty_x583g4_a0a0mk(String str) {
    return str != null && str.length() > 0;
  }

  public static boolean isNotEmpty_x583g4_a0a0pk(String str) {
    return str != null && str.length() > 0;
  }

  public static boolean isEmpty_x583g4_a0a0a0a0a0a0a0a0b0ap(String str) {
    return str == null || str.length() == 0;
  }
}
