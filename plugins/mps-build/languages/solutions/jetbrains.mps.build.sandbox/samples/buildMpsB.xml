<project name="buildMpsB" default="build" basedir="../../">
  <property name="build.dir" location="build" />
  <property name="build.tmp" location="${build.dir}/tmp/buildMpsB" />
  <property name="build.layout" location="${build.dir}/artifacts/buildMpsB" />
  
  <target name="assemble">
    <mkdir dir="${build.layout}/X" />
    <zip destfile="${build.layout}/X/MpsB.zip">
      <fileset file="${basedir}/jetbrains.mps.build.sandbox/samples/buildA/abcde.jar" />
    </zip>
    <tar destfile="${build.layout}/my.tar" longfile="gnu">
      <tarfileset file="${basedir}/jetbrains.mps.build.tests/tests.msd" prefix="A1" />
    </tar>
    <tar destfile="${build.layout}/my.tar.gz" compression="gzip" longfile="gnu">
      <tarfileset file="${basedir}/jetbrains.mps.build.tests/tests.msd" prefix="A2/A3" />
    </tar>
    <tar destfile="${build.layout}/my.tar.bz2" compression="bzip2" longfile="gnu">
      <tarfileset file="${basedir}/jetbrains.mps.build.tests/tests.msd" filemode="640" />
      <tarfileset dir="${basedir}/jetbrains.mps.build.sandbox/models" filemode="640" dirmode="750">
        <include name="*.mps" />
      </tarfileset>
    </tar>
  </target>
  
  <target name="build" depends="assemble" />
  
  <target name="clean">
    <delete dir="${build.tmp}" />
    <delete dir="${build.layout}" />
  </target>
</project>