package jetbrains.mps.build.tests;

/*Generated by MPS */

import jetbrains.mps.MPSLaunch;
import jetbrains.mps.lang.test.runtime.BaseTransformationTest4;
import org.junit.Test;
import jetbrains.mps.lang.test.runtime.BaseTestBody;
import junit.framework.Assert;
import jetbrains.mps.smodel.behaviour.BehaviorReflection;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.smodel.SModelRepository;
import jetbrains.mps.smodel.SModelReference;

@MPSLaunch
public class TestTemporalPaths_Test extends BaseTransformationTest4 {
  @Test
  public void test_topLevelJar() throws Throwable {
    this.initTest("${mps_home}/MPS.mpr", "r:361d93bd-9223-4768-9e37-bcd7b8db1f40(jetbrains.mps.build.tests@tests)");
    this.runTest("jetbrains.mps.build.tests.TestTemporalPaths_Test$TestBody", "test_topLevelJar", true);
  }

  @Test
  public void test_topLevelFolder() throws Throwable {
    this.initTest("${mps_home}/MPS.mpr", "r:361d93bd-9223-4768-9e37-bcd7b8db1f40(jetbrains.mps.build.tests@tests)");
    this.runTest("jetbrains.mps.build.tests.TestTemporalPaths_Test$TestBody", "test_topLevelFolder", true);
  }

  @Test
  public void test_topInternalFolder() throws Throwable {
    this.initTest("${mps_home}/MPS.mpr", "r:361d93bd-9223-4768-9e37-bcd7b8db1f40(jetbrains.mps.build.tests@tests)");
    this.runTest("jetbrains.mps.build.tests.TestTemporalPaths_Test$TestBody", "test_topInternalFolder", true);
  }

  @Test
  public void test_jarInFolder() throws Throwable {
    this.initTest("${mps_home}/MPS.mpr", "r:361d93bd-9223-4768-9e37-bcd7b8db1f40(jetbrains.mps.build.tests@tests)");
    this.runTest("jetbrains.mps.build.tests.TestTemporalPaths_Test$TestBody", "test_jarInFolder", true);
  }

  @Test
  public void test_folderInJar() throws Throwable {
    this.initTest("${mps_home}/MPS.mpr", "r:361d93bd-9223-4768-9e37-bcd7b8db1f40(jetbrains.mps.build.tests@tests)");
    this.runTest("jetbrains.mps.build.tests.TestTemporalPaths_Test$TestBody", "test_folderInJar", true);
  }

  @Test
  public void test_duplicatedNames() throws Throwable {
    this.initTest("${mps_home}/MPS.mpr", "r:361d93bd-9223-4768-9e37-bcd7b8db1f40(jetbrains.mps.build.tests@tests)");
    this.runTest("jetbrains.mps.build.tests.TestTemporalPaths_Test$TestBody", "test_duplicatedNames", true);
  }

  @MPSLaunch
  public static class TestBody extends BaseTestBody {
    public void test_topLevelJar() throws Exception {
      this.addNodeById("4045247515868358884");
      Assert.assertEquals(TestContext.DEPLOY + "/test.jar", BehaviorReflection.invokeNonVirtual(String.class, SNodeOperations.cast(this.getNodeById("280273048052535266"), "jetbrains.mps.build.structure.BuildLayout_Jar"), "jetbrains.mps.build.structure.BuildLayout_NamedContainer", "call_getOutputPath_WithMacro_280273048052535414", new Object[]{new TestContext(SModelRepository.getInstance().getModelDescriptor(new SModelReference("jetbrains.mps.build.tests", "tests")).getSModel())}));
    }

    public void test_topLevelFolder() throws Exception {
      this.addNodeById("4045247515868358884");
      Assert.assertEquals(TestContext.DEPLOY + "/folder", BehaviorReflection.invokeNonVirtual(String.class, SNodeOperations.cast(this.getNodeById("280273048052535287"), "jetbrains.mps.build.structure.BuildLayout_Folder"), "jetbrains.mps.build.structure.BuildLayout_NamedContainer", "call_getOutputPath_WithMacro_280273048052535414", new Object[]{new TestContext(SModelRepository.getInstance().getModelDescriptor(new SModelReference("jetbrains.mps.build.tests", "tests")).getSModel())}));
    }

    public void test_topInternalFolder() throws Exception {
      this.addNodeById("4045247515868358884");
      Assert.assertEquals(TestContext.DEPLOY + "/folder/internal", BehaviorReflection.invokeNonVirtual(String.class, SNodeOperations.cast(this.getNodeById("7422876504327290551"), "jetbrains.mps.build.structure.BuildLayout_Folder"), "jetbrains.mps.build.structure.BuildLayout_NamedContainer", "call_getOutputPath_WithMacro_280273048052535414", new Object[]{new TestContext(SModelRepository.getInstance().getModelDescriptor(new SModelReference("jetbrains.mps.build.tests", "tests")).getSModel())}));
    }

    public void test_jarInFolder() throws Exception {
      this.addNodeById("4045247515868358884");
      Assert.assertEquals(TestContext.DEPLOY + "/folder/test.jar", BehaviorReflection.invokeNonVirtual(String.class, SNodeOperations.cast(this.getNodeById("280273048052535289"), "jetbrains.mps.build.structure.BuildLayout_Jar"), "jetbrains.mps.build.structure.BuildLayout_NamedContainer", "call_getOutputPath_WithMacro_280273048052535414", new Object[]{new TestContext(SModelRepository.getInstance().getModelDescriptor(new SModelReference("jetbrains.mps.build.tests", "tests")).getSModel())}));
    }

    public void test_folderInJar() throws Exception {
      this.addNodeById("4045247515868358884");
      TestContext testContext = new TestContext(SModelRepository.getInstance().getModelDescriptor(new SModelReference("jetbrains.mps.build.tests", "tests")).getSModel());
      Assert.assertEquals(TestContext.TEMP + "/default/test.jar/internalFolder", BehaviorReflection.invokeNonVirtual(String.class, SNodeOperations.cast(this.getNodeById("8104754176559709900"), "jetbrains.mps.build.structure.BuildLayout_Folder"), "jetbrains.mps.build.structure.BuildLayout_NamedContainer", "call_getOutputPath_WithMacro_280273048052535414", new Object[]{testContext}));
      Assert.assertEquals(TestContext.TEMP + "/default/test.jar/internalFolder/internalFolder2", BehaviorReflection.invokeNonVirtual(String.class, SNodeOperations.cast(this.getNodeById("8104754176559709938"), "jetbrains.mps.build.structure.BuildLayout_Folder"), "jetbrains.mps.build.structure.BuildLayout_NamedContainer", "call_getOutputPath_WithMacro_280273048052535414", new Object[]{testContext}));
    }

    public void test_duplicatedNames() throws Exception {
      this.addNodeById("4045247515868358884");
      TestContext testContext = new TestContext(SModelRepository.getInstance().getModelDescriptor(new SModelReference("jetbrains.mps.build.tests", "tests")).getSModel());
      Assert.assertEquals(TestContext.TEMP + "/default/some.jar/someFolder", BehaviorReflection.invokeNonVirtual(String.class, SNodeOperations.cast(this.getNodeById("4209004860870558811"), "jetbrains.mps.build.structure.BuildLayout_Folder"), "jetbrains.mps.build.structure.BuildLayout_NamedContainer", "call_getOutputPath_WithMacro_280273048052535414", new Object[]{testContext}));
      Assert.assertEquals(TestContext.TEMP + "/default/some.jar1/someFolder", BehaviorReflection.invokeNonVirtual(String.class, SNodeOperations.cast(this.getNodeById("4209004860870558814"), "jetbrains.mps.build.structure.BuildLayout_Folder"), "jetbrains.mps.build.structure.BuildLayout_NamedContainer", "call_getOutputPath_WithMacro_280273048052535414", new Object[]{testContext}));
    }
  }
}
