package jetbrains.mps.nodeEditor.cells.jetpad;

/*Generated by MPS */

import jetbrains.jetpad.geometry.Rectangle;
import jetbrains.jetpad.geometry.Vector;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import java.util.ArrayList;

public class PortDecoratorView extends RectDecoratorView {
  public PortDecoratorView() {
  }




  private void fillSelectionView(Rectangle bounds) {
    mySelectionView.children().clear();
    mySelectionView.children().add(createSelectionRect(bounds.origin));
    mySelectionView.children().add(createSelectionRect(bounds.origin.add(new Vector(bounds.dimension.x, 0))));
    mySelectionView.children().add(createSelectionRect(bounds.origin.add(new Vector(bounds.dimension.x, bounds.dimension.y))));
    mySelectionView.children().add(createSelectionRect(bounds.origin.add(new Vector(0, bounds.dimension.y))));
    mySelectionView.invalidate();
  }

  public void updateSelectionDecorator(Rectangle bounds) {
    if (mySelectionView == null) {
      return;
    }
    if (eq_dou52n_a0b0e(mySelectionView.bounds().get().dimension, bounds.dimension)) {
      if (neq_dou52n_a0a0b0e(mySelectionView.bounds().get().origin, bounds.origin)) {
        mySelectionView.moveTo(bounds.origin);
      }
    } else {
      fillSelectionView(bounds);
    }
    mySelectionView.invalidate();
  }

  private void fillErrorView(Rectangle bounds) {
    myErrorPolylineView.points.clear();
    myErrorPolylineView.points.addAll(ListSequence.fromListAndArray(new ArrayList<Vector>(), new Vector(bounds.origin.x, bounds.origin.y), new Vector(bounds.origin.x + bounds.dimension.x, bounds.origin.y), new Vector(bounds.origin.x + bounds.dimension.x, bounds.origin.y + bounds.dimension.y), new Vector(bounds.origin.x, bounds.origin.y + bounds.dimension.y), new Vector(bounds.origin.x, bounds.origin.y)));
  }

  public void updateErrorDecorator(Rectangle bounds) {
    if (myErrorPolylineView == null) {
      return;
    }
    if (eq_dou52n_a0b0g(myErrorPolylineView.bounds().get().dimension, bounds.dimension)) {
      if (neq_dou52n_a0a0b0g(myErrorPolylineView.bounds().get().origin, bounds.origin)) {
        myErrorPolylineView.moveTo(bounds.origin);
      }
    } else {
      fillErrorView(bounds);
    }
    myErrorPolylineView.invalidate();
  }




  private static boolean neq_dou52n_a0a0b0e(Object a, Object b) {
    return !((a != null ? a.equals(b) : a == b));
  }

  private static boolean eq_dou52n_a0b0e(Object a, Object b) {
    return (a != null ? a.equals(b) : a == b);
  }

  private static boolean neq_dou52n_a0a0b0g(Object a, Object b) {
    return !((a != null ? a.equals(b) : a == b));
  }

  private static boolean eq_dou52n_a0b0g(Object a, Object b) {
    return (a != null ? a.equals(b) : a == b);
  }
}
