package jetbrains.mps.lang.editor.diagram.runtime.jetpad.palette;

/*Generated by MPS */

import com.intellij.openapi.actionSystem.ToggleAction;
import com.intellij.openapi.actionSystem.AnActionEvent;

public abstract class DiagramPaletteToggleAction extends ToggleAction {

  private boolean mySelected;
  protected DiagramPalette myPalette;

  /*package*/ DiagramPaletteToggleAction(DiagramPalette palette, PaletteElement element) {
    super(element.getText(), element.getText(), element.getIcon());
    myPalette = palette;
  }



  public boolean isSelected(AnActionEvent event) {
    return mySelected;
  }

  public void setSelected(AnActionEvent event, boolean isSelected) {
    if (event != null) {
      if (!(mySelected) && isSelected) {
        select();
      } else if (mySelected && !(isSelected)) {
        unselect();
      }
    }
    mySelected = isSelected;
  }

  private void select() {
    myPalette.unselectActionWhichWasSelected(this);
  }

  private void unselect() {
    myPalette.unselectActionWhichWasSelected();
  }


}
