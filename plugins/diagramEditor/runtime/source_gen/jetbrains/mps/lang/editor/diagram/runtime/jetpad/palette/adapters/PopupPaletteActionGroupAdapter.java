package jetbrains.mps.lang.editor.diagram.runtime.jetpad.palette.adapters;

/*Generated by MPS */

import com.intellij.openapi.actionSystem.DefaultActionGroup;
import com.intellij.openapi.actionSystem.Toggleable;
import jetbrains.mps.lang.editor.diagram.runtime.jetpad.palette.DiagramPalette;
import jetbrains.mps.lang.editor.diagram.runtime.jetpad.palette.openapi.PaletteActionGroup;
import jetbrains.mps.internal.collections.runtime.Sequence;
import jetbrains.mps.internal.collections.runtime.ISelector;
import jetbrains.mps.lang.editor.diagram.runtime.jetpad.palette.openapi.PaletteElement;
import com.intellij.openapi.actionSystem.AnAction;

public class PopupPaletteActionGroupAdapter extends DefaultActionGroup implements Toggleable {
  private DiagramPalette myPalette;
  private PaletteActionGroup myPaletteActionGroup;


  public PopupPaletteActionGroupAdapter(final DiagramPalette palette, PaletteActionGroup group) {
    super(Sequence.fromIterable(Sequence.fromArray(group.getElements())).select(new ISelector<PaletteElement, AnAction>() {
      public AnAction select(PaletteElement element) {
        return PaletteElementFactory.createPaletteElementAdapter(palette, element);
      }
    }).toListSequence());
    assert group.isPopup();
    setPopup(true);
    myPaletteActionGroup = group;
    myPalette = palette;
  }


}
