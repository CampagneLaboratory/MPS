package jetbrains.mps.ide.migration;

/*Generated by MPS */

import java.util.Set;
import jetbrains.mps.project.Project;
import org.jetbrains.mps.openapi.module.SModule;
import java.util.List;
import jetbrains.mps.baseLanguage.tuples.runtime.Tuples;
import org.jetbrains.mps.openapi.language.SLanguage;
import java.util.Map;

public interface MigrationManager {
  public boolean isMigrationRequired();

  public Set<String> getProjectMigrationsToApply(Project p);

  public Set<String> getLanguageMigrationsToApply(Iterable<SModule> modules);

  public List<Tuples._3<SModule, SLanguage, Integer>> getMissingMigrations();

  public int projectStepsCount(boolean isCleanup);

  public MigrationManager.MigrationStep nextProjectStep(Map<String, Object> options, boolean cleanup);

  public int languageStepsCount();

  public MigrationManager.MigrationStep nextLanguageStep();

  public static interface MigrationStep {
    public String getDescription();
    public boolean execute();
    public void forceExecutionNextTime();
  }
}
