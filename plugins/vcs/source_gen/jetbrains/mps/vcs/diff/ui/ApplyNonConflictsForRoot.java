package jetbrains.mps.vcs.diff.ui;

/*Generated by MPS */

import jetbrains.mps.workbench.action.BaseAction;
import jetbrains.mps.vcs.diff.MergeContext;
import com.intellij.openapi.util.IconLoader;
import com.intellij.util.Icons;
import com.intellij.openapi.actionSystem.AnActionEvent;
import java.util.Map;

public class ApplyNonConflictsForRoot extends BaseAction {
  private MergeContext myMergeContext;
  private MergeRootsDialog myMergeRootsDialog;

  public ApplyNonConflictsForRoot(MergeContext mergeContext, MergeRootsDialog mergeRootsDialog) {
    super("Apply Non-Conflicting changes", null, IconLoader.getIcon("/diff/applyNotConflicts.png", Icons.class));
    myMergeContext = mergeContext;
    myMergeRootsDialog = mergeRootsDialog;
    setDisableOnNoProject(false);
  }

  protected void doExecute(AnActionEvent event, Map<String, Object> map) {
    myMergeContext.applyAllNonConflictingChanges();
    myMergeRootsDialog.rehighlight();
  }
}
