package jetbrains.mps.build.packaging.generator.buildlanguage.template.main;

/*Generated by MPS */

import jetbrains.mps.smodel.IOperationContext;
import jetbrains.mps.generator.template.BaseMappingRuleContext;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import jetbrains.mps.generator.template.PropertyMacroContext;
import jetbrains.mps.build.packaging.behavior.Configuration_Behavior;
import jetbrains.mps.build.packaging.generator.buildlanguage.template.util.Util;
import jetbrains.mps.build.packaging.behavior.ICompositeComponent_Behavior;
import java.io.File;
import jetbrains.mps.build.packaging.behavior.AbstractProjectComponent_Behavior;
import jetbrains.mps.build.packaging.behavior.Copy_Behavior;
import jetbrains.mps.smodel.SNode;
import jetbrains.mps.build.packaging.behavior.Module_Behavior;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.build.packaging.behavior.Antcall_Behavior;
import jetbrains.mps.build.packaging.behavior.IStringExpression_Behavior;
import jetbrains.mps.build.packaging.behavior.PathHolder_Behavior;
import jetbrains.mps.project.IModule;
import jetbrains.mps.build.packaging.behavior.ModuleUtil;
import jetbrains.mps.build.packaging.behavior.CompositePathComponent_Behavior;
import jetbrains.mps.generator.template.ReferenceMacroContext;
import java.util.List;
import jetbrains.mps.internal.collections.runtime.Sequence;
import jetbrains.mps.generator.template.IfMacroContext;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptPropertyOperations;
import org.apache.commons.lang.StringUtils;
import jetbrains.mps.generator.template.SourceSubstituteMacroNodeContext;
import jetbrains.mps.generator.template.SourceSubstituteMacroNodesContext;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SModelOperations;
import jetbrains.mps.build.packaging.behavior.MPSLayout_Behavior;
import java.util.ArrayList;
import jetbrains.mps.build.packaging.behavior.ModuleCycle_Behavior;
import jetbrains.mps.build.packaging.behavior.ILayoutComponent_Behavior;
import java.util.Set;
import java.util.HashSet;
import jetbrains.mps.internal.collections.runtime.ISelector;
import jetbrains.mps.generator.template.MappingScriptContext;
import java.util.Map;
import jetbrains.mps.internal.collections.runtime.MapSequence;
import java.util.HashMap;
import jetbrains.mps.project.DevKit;
import jetbrains.mps.buildlanguage.buildgeneration.StronglyConnectedModules;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;

public class QueriesGenerated {

  public static boolean baseMappingRule_Condition_1215711300445(final IOperationContext operationContext, final BaseMappingRuleContext _context) {
    return ListSequence.fromList(SNodeOperations.getDescendants(_context.getNode(), "jetbrains.mps.build.packaging.structure.Replace", false)).isNotEmpty();
  }

  public static boolean baseMappingRule_Condition_1221758915287(final IOperationContext operationContext, final BaseMappingRuleContext _context) {
    return ListSequence.fromList(SNodeOperations.getDescendants(_context.getNode(), "jetbrains.mps.build.packaging.structure.Module", false)).isNotEmpty();
  }

  public static boolean baseMappingRule_Condition_1224770908054(final IOperationContext operationContext, final BaseMappingRuleContext _context) {
    return SPropertyOperations.getBoolean(_context.getNode(), "compile");
  }

  public static Object propertyMacro_GetPropertyValue_1203614794462(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(Configuration_Behavior.call_getLayout_1213877261819(_context.getNode()), "name") + "-" + SPropertyOperations.getString(_context.getNode(), "name");
  }

  public static Object propertyMacro_GetPropertyValue_1203614993869(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.SEPARATOR + ICompositeComponent_Behavior.call_getChildrenTargetDir_1213877279370(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1203620045650(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.SEPARATOR + ICompositeComponent_Behavior.call_getChildrenTargetDir_1213877279370(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1203622327849(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "name");
  }

  public static Object propertyMacro_GetPropertyValue_1203622549331(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.SEPARATOR + AbstractProjectComponent_Behavior.call_getPath_1213877333777(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1203622771003(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.SEPARATOR + AbstractProjectComponent_Behavior.call_getPath_1213877333777(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1203622819102(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.SEPARATOR + ICompositeComponent_Behavior.call_getChildrenTargetDir_1213877279370(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1203622940784(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.SEPARATOR + AbstractProjectComponent_Behavior.call_getPath_1213877333777(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1204016660715(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.SEPARATOR + AbstractProjectComponent_Behavior.call_getPath_1213877333777(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1204018667699(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.SEPARATOR + AbstractProjectComponent_Behavior.call_getPath_1213877333777(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1204019666208(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "name") + "-languages";
  }

  public static Object propertyMacro_GetPropertyValue_1204022349926(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return "pack." + SPropertyOperations.getString(_context.getNode(), "name");
  }

  public static Object propertyMacro_GetPropertyValue_1204107798457(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Copy_Behavior.call_getExcludes_1213877251358(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_1204107836203(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ICompositeComponent_Behavior.call_getExcludes_1213877279373(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_1204107873448(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ICompositeComponent_Behavior.call_getExcludes_1213877279373(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_1204122982909(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.SEPARATOR + ICompositeComponent_Behavior.call_getChildrenTargetDir_1213877279370(((SNode)SNodeOperations.getParent(_context.getNode()))).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1205332632356(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.SEPARATOR + AbstractProjectComponent_Behavior.call_getPath_1213877333777(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1206439785892(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Copy_Behavior.call_getIncludes_1213877251415(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_1206440112827(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ICompositeComponent_Behavior.call_getIncludes_1213877279430(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_1206440132165(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ICompositeComponent_Behavior.call_getIncludes_1213877279430(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_1209893088423(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.SEPARATOR + ICompositeComponent_Behavior.call_getChildrenTargetDir_1213877279370(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1209893108623(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ICompositeComponent_Behavior.call_getExcludes_1213877279373(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_1209893126195(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return ICompositeComponent_Behavior.call_getIncludes_1213877279430(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_1209915395009(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "filemode");
  }

  public static Object propertyMacro_GetPropertyValue_1209915440098(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "dirmode");
  }

  public static Object propertyMacro_GetPropertyValue_1210097656893(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.SEPARATOR + Module_Behavior.call_getModuleDir_1213877514783(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1210097732538(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.SEPARATOR + Module_Behavior.call_getModuleDir_1213877514783(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1210097988906(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.SEPARATOR + Module_Behavior.call_getChildrenTargetDir_1213877514970(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1210098064936(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.SEPARATOR + Module_Behavior.call_getRuntimeJarPath_1213877515126(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1210098113087(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.SEPARATOR + Module_Behavior.call_getModuleJarPath_1213877515137(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1210100359810(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.SEPARATOR + Module_Behavior.call_getChildrenTargetDir_1213877514970(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1210100712321(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.SEPARATOR + Module_Behavior.call_getChildrenTargetDir_1213877514970(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1210177328361(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.SEPARATOR + Module_Behavior.call_getChildrenTargetDir_1213877514970(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1210236452881(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.SEPARATOR + Module_Behavior.call_getModuleDir_1213877514783(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1210236488956(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Module_Behavior.call_getBasedir_1213877514794(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1210785663407(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(SLinkOperations.getTarget(_context.getNode(), "targetDeclaration", false), "name");
  }

  public static Object propertyMacro_GetPropertyValue_1210846061742(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.SEPARATOR + ICompositeComponent_Behavior.call_getChildrenTargetDir_1213877279370(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1210846095008(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.SEPARATOR + Antcall_Behavior.call_getOutput_1213877286282(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1212486318236(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "name") + "-multistep";
  }

  public static Object propertyMacro_GetPropertyValue_1212486434799(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return _context.createUniqueName("replace", null);
  }

  public static Object propertyMacro_GetPropertyValue_1212486868374(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.SEPARATOR + AbstractProjectComponent_Behavior.call_getPath_1213877333777(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1212487011096(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Util.SEPARATOR + AbstractProjectComponent_Behavior.call_getPath_1213877333777(SNodeOperations.getParent(_context.getNode())).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1216902460852(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "name") + "-compile";
  }

  public static Object propertyMacro_GetPropertyValue_1217517606639(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return _context.createUniqueName("cycle." + SPropertyOperations.getString(SLinkOperations.getTarget(ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "moduleReference", true)).first(), "module", false), "name"), null);
  }

  public static Object propertyMacro_GetPropertyValue_1217518534457(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(SLinkOperations.getTarget(_context.getNode(), "module", false), "name");
  }

  public static Object propertyMacro_GetPropertyValue_1217518689738(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return Module_Behavior.call_getClassesGen_1216909316753(SLinkOperations.getTarget(_context.getNode(), "module", false));
  }

  public static Object propertyMacro_GetPropertyValue_1219156215258(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return IStringExpression_Behavior.call_getValue_1213877173054(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_1219156723142(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "antName");
  }

  public static Object propertyMacro_GetPropertyValue_1219158078257(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return IStringExpression_Behavior.call_getValue_1213877173054(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_1219229652527(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "name");
  }

  public static Object propertyMacro_GetPropertyValue_1219419214201(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "name");
  }

  public static Object propertyMacro_GetPropertyValue_1220026680305(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return PathHolder_Behavior.call_getPathWithoutMacro_1219770843283(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1220026711439(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return PathHolder_Behavior.call_getValue_1219231432401(_context.getNode()).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1220027627425(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return PathHolder_Behavior.call_getPathWithoutMacro_1219770843283(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_1220027647030(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return PathHolder_Behavior.call_getValue_1219231432401(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_1220027664152(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return PathHolder_Behavior.call_getPathWithoutMacro_1219770843283(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_1220027676469(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return PathHolder_Behavior.call_getPathWithoutMacro_1219770843283(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_1220027968145(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return PathHolder_Behavior.call_getValue_1219231432401(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_1220028043245(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return PathHolder_Behavior.call_getValue_1219231432401(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_1220028812061(final IOperationContext operationContext, final PropertyMacroContext _context) {
    IModule module = Module_Behavior.call_getModule_1213877515148(_context.getNode());
    return ModuleUtil.getRelativePath(module.getDescriptorFile().getAbsolutePath(), AbstractProjectComponent_Behavior.call_getHomePath_1213877333764(_context.getNode())).replace(File.separator, Util.SEPARATOR);
  }

  public static Object propertyMacro_GetPropertyValue_1220032496897(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return PathHolder_Behavior.call_getPathWithoutMacro_1219770843283(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_1220032526913(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return PathHolder_Behavior.call_getValue_1219231432401(_context.getNode());
  }

  public static Object propertyMacro_GetPropertyValue_1220363350091(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return SPropertyOperations.getString(_context.getNode(), "antName");
  }

  public static Object propertyMacro_GetPropertyValue_1220983382899(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return CompositePathComponent_Behavior.call_getPath_1220983419344(SLinkOperations.getTarget(_context.getNode(), "path", true));
  }

  public static Object propertyMacro_GetPropertyValue_1220986324545(final IOperationContext operationContext, final PropertyMacroContext _context) {
    return CompositePathComponent_Behavior.call_getPath_1220983419344(SLinkOperations.getTarget(_context.getNode(), "path", true));
  }

  public static Object referenceMacro_GetReferent_1204022248333(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return _context.getOutputNodeByInputNodeAndMappingLabel(_context.getNode(), "LanguageTargets");
  }

  public static Object referenceMacro_GetReferent_1210779752250(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return _context.getNode();
  }

  public static Object referenceMacro_GetReferent_1212487446848(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return _context.getOutputNodeByInputNodeAndMappingLabel(_context.getNode(), "ReplaceTargets");
  }

  public static Object referenceMacro_GetReferent_1219156437486(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return _context.getOutputNodeByInputNodeAndMappingLabel(SLinkOperations.getTarget(_context.getNode(), "variable", false), "VariableToPropertyDeclaration");
  }

  public static Object referenceMacro_GetReferent_1220024346881(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return _context.getOutputNodeByInputNodeAndMappingLabel(SLinkOperations.getTarget(_context.getNode(), "macro", false), "MacroToMacro");
  }

  public static Object referenceMacro_GetReferent_1220024351671(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return _context.getOutputNodeByInputNodeAndMappingLabel(SLinkOperations.getTarget(_context.getNode(), "macro", false), "MacroToMacro");
  }

  public static Object referenceMacro_GetReferent_1220024353687(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return _context.getOutputNodeByInputNodeAndMappingLabel(SLinkOperations.getTarget(_context.getNode(), "macro", false), "MacroToMacro");
  }

  public static Object referenceMacro_GetReferent_1220026621744(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return _context.getOutputNodeByInputNodeAndMappingLabel(SLinkOperations.getTarget(_context.getNode(), "macro", false), "MacroToPropertyDeclaration");
  }

  public static Object referenceMacro_GetReferent_1220032480105(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    return _context.getOutputNodeByInputNodeAndMappingLabel(SLinkOperations.getTarget(_context.getNode(), "macro", false), "MacroToMacro");
  }

  public static Object referenceMacro_GetReferent_1220983242941(final IOperationContext operationContext, final ReferenceMacroContext _context) {
    List<SNode> macros = SLinkOperations.getTargets(SNodeOperations.getAncestor(_context.getNode(), "jetbrains.mps.build.packaging.structure.MPSLayout", false, false), "macro", true);
    for(SNode m : Sequence.fromIterable(macros)) {
      if (SPropertyOperations.getString(m, "name").equals(SPropertyOperations.getString(SLinkOperations.getTarget(_context.getNode(), "macro", true), "name"))) {
        return _context.getOutputNodeByInputNodeAndMappingLabel(m, "MacroToPropertyDeclaration");
      }
    }
    return null;
  }

  public static boolean ifMacro_Condition_1203619982544(final IOperationContext operationContext, final IfMacroContext _context) {
    return SConceptPropertyOperations.getBoolean(_context.getNode(), "cleanAfterTheJob");
  }

  public static boolean ifMacro_Condition_1203622509516(final IOperationContext operationContext, final IfMacroContext _context) {
    return (SLinkOperations.getTarget(_context.getNode(), "sourcePath", true) != null);
  }

  public static boolean ifMacro_Condition_1204016587285(final IOperationContext operationContext, final IfMacroContext _context) {
    return (SLinkOperations.getTarget(_context.getNode(), "sourcePath", true) != null);
  }

  public static boolean ifMacro_Condition_1209915520020(final IOperationContext operationContext, final IfMacroContext _context) {
    return (SPropertyOperations.getString(_context.getNode(), "filemode") != null) && !(SPropertyOperations.getString(_context.getNode(), "filemode").equals(""));
  }

  public static boolean ifMacro_Condition_1209915566250(final IOperationContext operationContext, final IfMacroContext _context) {
    return (SPropertyOperations.getString(_context.getNode(), "dirmode") != null) && !(SPropertyOperations.getString(_context.getNode(), "dirmode").equals(""));
  }

  public static boolean ifMacro_Condition_1210099127132(final IOperationContext operationContext, final IfMacroContext _context) {
    return ListSequence.fromList(Module_Behavior.call_getClassPath_1213877515083(_context.getNode())).isNotEmpty();
  }

  public static boolean ifMacro_Condition_1210099219016(final IOperationContext operationContext, final IfMacroContext _context) {
    return ListSequence.fromList(Module_Behavior.call_getRuntimeClassPath_1213877515098(_context.getNode())).isNotEmpty();
  }

  public static boolean ifMacro_Condition_1210175579862(final IOperationContext operationContext, final IfMacroContext _context) {
    return !(SPropertyOperations.getString(_context.getNode(), "fullPath").endsWith("jar"));
  }

  public static boolean ifMacro_Condition_1210175748472(final IOperationContext operationContext, final IfMacroContext _context) {
    return !(SPropertyOperations.getString(_context.getNode(), "fullPath").endsWith("jar"));
  }

  public static boolean ifMacro_Condition_1210254552692(final IOperationContext operationContext, final IfMacroContext _context) {
    return !(SPropertyOperations.getString(_context.getNode(), "fullPath").endsWith("jar"));
  }

  public static boolean ifMacro_Condition_1215711557318(final IOperationContext operationContext, final IfMacroContext _context) {
    return ListSequence.fromList(SNodeOperations.getDescendants(SNodeOperations.getAncestor(_context.getNode(), "jetbrains.mps.build.packaging.structure.MPSLayout", false, false), "jetbrains.mps.build.packaging.structure.Replace", false)).count() > 0;
  }

  public static boolean ifMacro_Condition_1217529239036(final IOperationContext operationContext, final IfMacroContext _context) {
    return SPropertyOperations.getBoolean(Configuration_Behavior.call_getLayout_1213877261819(_context.getNode()), "compile");
  }

  public static boolean ifMacro_Condition_1219157474820(final IOperationContext operationContext, final IfMacroContext _context) {
    SNode layout = SNodeOperations.getAncestor(_context.getNode(), "jetbrains.mps.build.packaging.structure.MPSLayout", false, false);
    return (layout == null) || !(ListSequence.fromList(SLinkOperations.getTargets(layout, "builtInVariable", true)).contains(SLinkOperations.getTarget(_context.getNode(), "variable", false)));
  }

  public static boolean ifMacro_Condition_1220024346863(final IOperationContext operationContext, final IfMacroContext _context) {
    return (SLinkOperations.getTarget(_context.getNode(), "macro", false) != null);
  }

  public static boolean ifMacro_Condition_1220024351653(final IOperationContext operationContext, final IfMacroContext _context) {
    return (SLinkOperations.getTarget(_context.getNode(), "macro", false) != null);
  }

  public static boolean ifMacro_Condition_1220024353669(final IOperationContext operationContext, final IfMacroContext _context) {
    return (SLinkOperations.getTarget(_context.getNode(), "macro", false) != null);
  }

  public static boolean ifMacro_Condition_1220026604203(final IOperationContext operationContext, final IfMacroContext _context) {
    return (SLinkOperations.getTarget(_context.getNode(), "macro", false) != null);
  }

  public static boolean ifMacro_Condition_1220032434961(final IOperationContext operationContext, final IfMacroContext _context) {
    return (SLinkOperations.getTarget(_context.getNode(), "macro", false) != null);
  }

  public static boolean ifMacro_Condition_1220361608323(final IOperationContext operationContext, final IfMacroContext _context) {
    List<SNode> references = SNodeOperations.getDescendants(SNodeOperations.getAncestor(_context.getNode(), "jetbrains.mps.build.packaging.structure.MPSLayout", true, false), "jetbrains.mps.build.packaging.structure.VariableReference", false);
    for(SNode ref : Sequence.fromIterable(references)) {
      if (SLinkOperations.getTarget(ref, "variable", false) == _context.getNode()) {
        return true;
      }
    }
    return false;
  }

  public static boolean ifMacro_Condition_1220986250252(final IOperationContext operationContext, final IfMacroContext _context) {
    return !(SPropertyOperations.getString(SLinkOperations.getTarget(_context.getNode(), "macro", true), "name").equals("basedir"));
  }

  public static boolean ifMacro_Condition_1221759211471(final IOperationContext operationContext, final IfMacroContext _context) {
    return ListSequence.fromList(SNodeOperations.getDescendants(Configuration_Behavior.call_getLayout_1213877261819(_context.getNode()), "jetbrains.mps.build.packaging.structure.Module", false)).isNotEmpty();
  }

  public static boolean ifMacro_Condition_1224776239614(final IOperationContext operationContext, final IfMacroContext _context) {
    return SPropertyOperations.getBoolean(Configuration_Behavior.call_getLayout_1213877261819(_context.getNode()), "compile");
  }

  public static boolean ifMacro_Condition_1225993322931(final IOperationContext operationContext, final IfMacroContext _context) {
    return (SLinkOperations.getTarget(_context.getNode(), "title", true) != null);
  }

  public static boolean ifMacro_Condition_1226345902716(final IOperationContext operationContext, final IfMacroContext _context) {
    return StringUtils.isNotEmpty(ICompositeComponent_Behavior.call_getExcludes_1213877279373(_context.getNode()));
  }

  public static boolean ifMacro_Condition_1226345946802(final IOperationContext operationContext, final IfMacroContext _context) {
    return StringUtils.isNotEmpty(ICompositeComponent_Behavior.call_getIncludes_1213877279430(_context.getNode()));
  }

  public static boolean ifMacro_Condition_1226346273741(final IOperationContext operationContext, final IfMacroContext _context) {
    return !(Copy_Behavior.call_getExcludes_1213877251358(_context.getNode()).length() == 0);
  }

  public static boolean ifMacro_Condition_1226346293894(final IOperationContext operationContext, final IfMacroContext _context) {
    return !(Copy_Behavior.call_getIncludes_1213877251415(_context.getNode()).length() == 0);
  }

  public static boolean ifMacro_Condition_1226346311970(final IOperationContext operationContext, final IfMacroContext _context) {
    return !(Copy_Behavior.call_getExcludes_1213877251358(_context.getNode()).length() == 0);
  }

  public static boolean ifMacro_Condition_1226346323637(final IOperationContext operationContext, final IfMacroContext _context) {
    return !(ICompositeComponent_Behavior.call_getIncludes_1213877279430(_context.getNode()).length() == 0);
  }

  public static boolean ifMacro_Condition_1226346345677(final IOperationContext operationContext, final IfMacroContext _context) {
    return !(Copy_Behavior.call_getExcludes_1213877251358(_context.getNode()).length() == 0);
  }

  public static boolean ifMacro_Condition_1226346367196(final IOperationContext operationContext, final IfMacroContext _context) {
    return !(ICompositeComponent_Behavior.call_getIncludes_1213877279430(_context.getNode()).length() == 0);
  }

  public static SNode sourceNodeQuery_1219156054317(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "left", true);
  }

  public static SNode sourceNodeQuery_1219156071324(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "right", true);
  }

  public static SNode sourceNodeQuery_1219156874080(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "second", true);
  }

  public static SNode sourceNodeQuery_1219156893018(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "first", true);
  }

  public static SNode sourceNodeQuery_1219156936386(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "message", true);
  }

  public static SNode sourceNodeQuery_1220026769988(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return _context.getNode();
  }

  public static SNode sourceNodeQuery_1220027127567(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return _context.getNode();
  }

  public static SNode sourceNodeQuery_1220027165635(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return _context.getNode();
  }

  public static SNode sourceNodeQuery_1220027346559(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return _context.getNode();
  }

  public static SNode sourceNodeQuery_1220027376314(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return _context.getNode();
  }

  public static SNode sourceNodeQuery_1220983551995(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "sourcePath", true);
  }

  public static SNode sourceNodeQuery_1221139756574(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "sourcePath", true);
  }

  public static SNode sourceNodeQuery_1221143067883(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "sourcePath", true);
  }

  public static SNode sourceNodeQuery_1221143367780(final IOperationContext operationContext, final SourceSubstituteMacroNodeContext _context) {
    return SLinkOperations.getTarget(_context.getNode(), "sourcePath", true);
  }

  public static Iterable sourceNodesQuery_1203613712380(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SModelOperations.getNodes(_context.getInputModel(), "jetbrains.mps.build.packaging.structure.ICompositeComponent");
  }

  public static Iterable sourceNodesQuery_1203619895801(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SModelOperations.getNodes(_context.getInputModel(), "jetbrains.mps.build.packaging.structure.ICompositeComponent");
  }

  public static Iterable sourceNodesQuery_1203620149561(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return MPSLayout_Behavior.call_getTopologicalSortedComponents_1213877228296(Configuration_Behavior.call_getLayout_1213877261819(_context.getNode()), _context.getNode());
  }

  public static Iterable sourceNodesQuery_1204020868967(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return MPSLayout_Behavior.call_getModules_1213877228340(_context.getNode());
  }

  public static Iterable sourceNodesQuery_1210099260514(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return Module_Behavior.call_getRuntimeClassPath_1213877515098(_context.getNode());
  }

  public static Iterable sourceNodesQuery_1210175522062(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return Module_Behavior.call_getClassPath_1213877515083(_context.getNode());
  }

  public static Iterable sourceNodesQuery_1210254517273(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return Module_Behavior.call_getClassPath_1213877515083(_context.getNode());
  }

  public static Iterable sourceNodesQuery_1210779121082(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    List<SNode> antcalls = SNodeOperations.getDescendants(Configuration_Behavior.call_getLayout_1213877261819(_context.getNode()), "jetbrains.mps.build.packaging.structure.Antcall", false);
    List<SNode> projects = new ArrayList<SNode>();
    for(SNode call : Sequence.fromIterable(antcalls)) {
      if ((SLinkOperations.getTarget(call, "project", false) == null)) {
        _context.showErrorMessage(call, "Null project reference!");
        continue;
      }
      if (!(ListSequence.fromList(projects).contains(SLinkOperations.getTarget(call, "project", false)))) {
        ListSequence.fromList(projects).addElement(SLinkOperations.getTarget(call, "project", false));
      }
    }
    return projects;
  }

  public static Iterable sourceNodesQuery_1212486359885(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SNodeOperations.getDescendants(_context.getNode(), "jetbrains.mps.build.packaging.structure.Replace", false);
  }

  public static Iterable sourceNodesQuery_1212487027348(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "replacingPair", true);
  }

  public static Iterable sourceNodesQuery_1217505538283(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "cycle", true);
  }

  public static Iterable sourceNodesQuery_1217518508070(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "moduleReference", true);
  }

  public static Iterable sourceNodesQuery_1219156680507(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(Configuration_Behavior.call_getLayout_1213877261819(_context.getNode()), "variable", true);
  }

  public static Iterable sourceNodesQuery_1219229635323(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(Configuration_Behavior.call_getLayout_1213877261819(_context.getNode()), "macro", true);
  }

  public static Iterable sourceNodesQuery_1219419191024(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return SLinkOperations.getTargets(_context.getNode(), "macro", true);
  }

  public static Iterable sourceNodesQuery_1220033475616(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ModuleCycle_Behavior.getMPSClassPath_1218716245482(ILayoutComponent_Behavior.call_getPath_1213877230696(_context.getNode()), SLinkOperations.getTargets(SNodeOperations.getAncestor(_context.getNode(), "jetbrains.mps.build.packaging.structure.MPSLayout", true, true), "macro", true));
  }

  public static Iterable sourceNodesQuery_1220033499294(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return ModuleCycle_Behavior.call_getClassPath_1218646038565(_context.getNode());
  }

  public static Iterable sourceNodesQuery_1220033518363(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return Module_Behavior.call_getSources_1216909568805(SLinkOperations.getTarget(_context.getNode(), "module", false));
  }

  public static Iterable sourceNodesQuery_1220033533879(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    return Module_Behavior.call_getClassPath_1213877515083(SLinkOperations.getTarget(_context.getNode(), "module", false));
  }

  public static Iterable sourceNodesQuery_1220362753899(final IOperationContext operationContext, final SourceSubstituteMacroNodesContext _context) {
    List<SNode> replaces = SNodeOperations.getDescendants(_context.getNode(), "jetbrains.mps.build.packaging.structure.Replace", false);
    Set<SNode> vars = new HashSet<SNode>();
    for(SNode replace : Sequence.fromIterable(replaces)) {
      List<SNode> variableReferences = SNodeOperations.getDescendants(replace, "jetbrains.mps.build.packaging.structure.VariableReference", false);
      for(SNode ref : Sequence.fromIterable(variableReferences)) {
        if (!(ListSequence.fromList(SLinkOperations.getTargets(_context.getNode(), "builtInVariable", true)).contains(SLinkOperations.getTarget(ref, "variable", false)))) {
          vars.add(SLinkOperations.getTarget(ref, "variable", false));
        }
      }
    }
    List<SNode> varList = new ArrayList<SNode>();
    ListSequence.fromList(varList).addSequence(Sequence.fromIterable(vars));
    ListSequence.fromList(varList).sort(new ISelector <SNode, Comparable<?>>() {

      public Comparable<?> select(SNode it) {
        return it.getProperty("antName");
      }

    }, true);
    return varList;
  }

  public static void mappingScript_CodeBlock_1217435006860(final IOperationContext operationContext, final MappingScriptContext _context) {
    List<SNode> layouts = SModelOperations.getRoots(_context.getModel(), "jetbrains.mps.build.packaging.structure.MPSLayout");
    for(SNode layout : Sequence.fromIterable(layouts)) {
      if (!(SPropertyOperations.getBoolean(layout, "compile"))) {
        continue;
      }
      List<SNode> modules = SNodeOperations.getDescendants(layout, "jetbrains.mps.build.packaging.structure.Module", false);
      Map<IModule, List<SNode>> map = MapSequence.fromMap(new HashMap<IModule, List<SNode>>());
      // fill map
      for(SNode module : Sequence.fromIterable(modules)) {
        IModule imodule = Module_Behavior.call_getModule_1213877515148(module);
        if ((imodule instanceof DevKit) || (!(imodule.isCompileInMPS()))) {
          continue;
        }
        List<SNode> modulesForIModule = MapSequence.fromMap(map).get(imodule);
        if (modulesForIModule == null) {
          modulesForIModule = new ArrayList<SNode>();
          MapSequence.fromMap(map).put(imodule, modulesForIModule);
        }
        ListSequence.fromList(modulesForIModule).addElement(module);
      }
      // calculate module cycles
      List<Set<IModule>> sm = StronglyConnectedModules.getInstance().getStronglyConnectedComponents(MapSequence.fromMap(map).keySet());
      // say to all modules it's cycle
      for(Set<IModule> moduleSet : Sequence.fromIterable(sm)) {
        SNode cycle = SConceptOperations.createNewNode("jetbrains.mps.build.packaging.structure.ModuleCycle", null);
        SLinkOperations.addChild(layout, "cycle", cycle);
        for(IModule imodule : Sequence.fromIterable(moduleSet)) {
          List<SNode> modulesForIModule = MapSequence.fromMap(map).get(imodule);
          for(SNode module : Sequence.fromIterable(modulesForIModule)) {
            SNode ref = SConceptOperations.createNewNode("jetbrains.mps.build.packaging.structure.NewModuleReference", null);
            SLinkOperations.setTarget(ref, "module", module, false);
            SLinkOperations.addChild(cycle, "moduleReference", ref);
          }
        }
      }
    }
  }

  public static void mappingScript_CodeBlock_1219229087938(final IOperationContext operationContext, final MappingScriptContext _context) {
    List<SNode> layouts = SModelOperations.getRoots(_context.getModel(), "jetbrains.mps.build.packaging.structure.MPSLayout");
    for(SNode layout : Sequence.fromIterable(layouts)) {
      List<String> allMAcroNames = MPSLayout_Behavior.call_getAllMacroNames_1220980057360(layout);
      for(String macroName : Sequence.fromIterable(allMAcroNames)) {
        SNode macro = SConceptOperations.createNewNode("jetbrains.mps.build.packaging.structure.Macro", null);
        SPropertyOperations.set(macro, "name", macroName);
        SPropertyOperations.set(macro, "path", MPSLayout_Behavior.call_evaluateMacro_1220980091008(layout, macroName).replace("\\", Util.SEPARATOR));
        SLinkOperations.addChild(layout, "macro", macro);
      }
    }
  }

}
