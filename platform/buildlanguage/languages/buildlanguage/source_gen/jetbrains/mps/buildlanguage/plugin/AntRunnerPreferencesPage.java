package jetbrains.mps.buildlanguage.plugin;

/*Generated by MPS */

import javax.swing.JPanel;
import java.util.Map;
import java.awt.BorderLayout;
import javax.swing.event.TableModelListener;
import javax.swing.event.TableModelEvent;
import com.intellij.ui.ScrollPaneFactory;
import com.intellij.ui.table.JBTable;

public class AntRunnerPreferencesPage extends JPanel {
  private BuildTableModel myModel;
  private boolean myIsModified;

  public AntRunnerPreferencesPage(Map<String, String> data) {
    super(new BorderLayout());
    this.myModel = new BuildTableModel(data);
    this.myModel.addTableModelListener(new TableModelListener() {
      public void tableChanged(TableModelEvent p0) {
        AntRunnerPreferencesPage.this.myIsModified = true;
      }
    });
    this.add(ScrollPaneFactory.createScrollPane(new JBTable(this.myModel)), BorderLayout.CENTER);
  }

  public void updateState(Map<String, String> data) {
    this.myIsModified = false;
    this.myModel.updateState(data);
  }

  public Map<String, String> getState() {
    this.myIsModified = false;
    return this.myModel.saveState();
  }

  public boolean isModified() {
    return this.myIsModified;
  }
}
