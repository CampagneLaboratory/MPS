package jetbrains.mps.gwt.client.stubs;

/*Generated by MPS */

import jetbrains.mps.stubs.util.PathItem;
import jetbrains.mps.vfs.IFileNameFilter;
import jetbrains.mps.vfs.IFile;
import jetbrains.mps.stubs.util.PathItemsReloadableCache;

public class GWTModulePathItem extends PathItem {
  private static final String SUFFIX = ".gwt.xml";

  public GWTModulePathItem(String path) {
    super(path);
  }

  protected IFileNameFilter filter() {
    return new IFileNameFilter() {
      public boolean accept(IFile parent, String name) {
        return name.endsWith(GWTModulePathItem.SUFFIX);
      }
    };
  }

  public String baseName(String res) {
    if (res == null) {
      return null;
    }
    return (res.endsWith(GWTModulePathItem.SUFFIX) ?
      res.substring(0, res.length() - GWTModulePathItem.SUFFIX.length()) :
      res
    );
  }

  public static PathItem getPathItem(String path) {
    return PathItemsReloadableCache.getInstance(GWTModulePathItem.class).getPathItem(path);
  }
}
