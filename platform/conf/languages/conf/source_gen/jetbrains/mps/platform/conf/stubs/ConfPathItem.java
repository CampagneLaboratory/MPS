package jetbrains.mps.platform.conf.stubs;

/*Generated by MPS */

import jetbrains.mps.stubs.util.PathItem;
import jetbrains.mps.vfs.IFileNameFilter;
import jetbrains.mps.vfs.IFile;
import jetbrains.mps.stubs.util.PathItemsReloadableCache;

public class ConfPathItem extends PathItem {
  private static String SUFFIX = ".xml";

  public ConfPathItem(String path) {
    super(path);
  }

  protected IFileNameFilter filter() {
    return new IFileNameFilter() {
      public boolean accept(IFile parent, String name) {
        return name.endsWith(ConfPathItem.SUFFIX);
      }
    };
  }

  public String baseName(String res) {
    if (res == null) {
      return null;
    }
    return (res.endsWith(ConfPathItem.SUFFIX) ?
      res.substring(0, res.length() - ConfPathItem.SUFFIX.length()) :
      res
    );
  }

  public static PathItem getPathItem(String path) {
    return PathItemsReloadableCache.getInstance(ConfPathItem.class).getPathItem(path);
  }
}
