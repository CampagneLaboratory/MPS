package jetbrains.mps.baseLanguage.unitTest.plugin;

/*Generated by MPS */

import java.util.Map;
import jetbrains.mps.internal.collections.runtime.MapSequence;
import java.util.HashMap;
import jetbrains.mps.smodel.SNode;
import jetbrains.mps.core.behavior.INamedConcept_Behavior;
import jetbrains.mps.bootstrap.smodelLanguage.generator.smodelAdapter.SPropertyOperations;

public class TestNameMap <C, M> {

  private Map<String, C> classToTestCase;
  private Map<String, Map<String, M>> classToMethodToMethodTest;

  public TestNameMap() {
    this.classToTestCase = MapSequence.fromMap(new HashMap<String, C>());
    this.classToMethodToMethodTest = MapSequence.fromMap(new HashMap<String, Map<String, M>>());
  }

  public void put(SNode testCaseNode, C testCase) {
    MapSequence.fromMap(this.classToTestCase).put(INamedConcept_Behavior.call_getFqName_1213877404258(testCaseNode), testCase);
  }

  public C get(String testCaseName) {
    return MapSequence.fromMap(this.classToTestCase).get(testCaseName);
  }

  public void put(SNode testCaseNode, SNode testMethodNode, M testMethod) {
    String testCaseName = INamedConcept_Behavior.call_getFqName_1213877404258(testCaseNode);
    Map<String, M> testMethods = MapSequence.fromMap(this.classToMethodToMethodTest).get(testCaseName);
    if (testMethods == null) {
      testMethods = MapSequence.fromMap(new HashMap<String, M>());
      MapSequence.fromMap(this.classToMethodToMethodTest).put(testCaseName, testMethods);
    }
    MapSequence.fromMap(testMethods).put(SPropertyOperations.getString(testMethodNode, "name"), testMethod);
  }

  public M get(String testCaseName, String testMethodName) {
    M testMethod = null;
    Map<String, M> testMethods = MapSequence.fromMap(this.classToMethodToMethodTest).get(testCaseName);
    if (testMethods != null) {
      testMethod = testMethods.get(testMethodName);
    }
    return testMethod;
  }

  public void clear() {
    MapSequence.fromMap(this.classToTestCase).clear();
    MapSequence.fromMap(this.classToMethodToMethodTest).clear();
  }

}
