package jetbrains.mps.graphLayout.intGeom2D;

/*Generated by MPS */


public class GeomUtil {
  public static boolean intersects(Point p1, Point p2, Point q1, Point q2) {
    boolean sameQ = GeomUtil.isOnSameSide(p1, p2, q1, q2);
    boolean sameP = GeomUtil.isOnSameSide(q1, q2, p1, p2);
    return !(sameP) && !(sameQ);
  }

  public static boolean intersects(int minX, int maxX, int minY, int maxY) {
    return Math.min(maxX, maxY) >= Math.max(minX, minY);
  }

  private static boolean isOnSameSide(Point p1, Point p2, Point q1, Point q2) {
    int x = p1.x - p2.x;
    int y = p1.y - p2.y;
    int c1 = intCrossproduct(x, y, q1.x - p2.x, q1.y - p2.y);
    int c2 = intCrossproduct(x, y, q2.x - p2.x, q2.y - p1.y);
    return (c1 > 0 && c2 > 0) || (c1 < 0 && c2 < 0);
  }

  private static int intCrossproduct(int x1, int y1, int x2, int y2) {
    return x1 * y2 - x2 * y1;
  }
}
