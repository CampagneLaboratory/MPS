package jetbrains.mps.ide.refactoring;

/*Generated by MPS */

import com.intellij.refactoring.RefactoringBundle;
import jetbrains.mps.smodel.SNode;
import org.jetbrains.annotations.NotNull;
import com.intellij.openapi.project.Project;
import org.jetbrains.annotations.Nullable;
import javax.swing.JComponent;

public class MoveLinkUpDialog extends RefactoringDialog {
  private static String REFACTORING_NAME = RefactoringBundle.message("move.title");

  private SNode myTarget;
  private NodeHierarchyChooser myPanel;
  private SNode myConcept;

  public MoveLinkUpDialog(@NotNull Project project, SNode target) {
    super(project, true);
    this.myTarget = target;
    init();
    setTitle(REFACTORING_NAME + " " + "link");

  }

  protected void doRefactoringAction() {
    this.myConcept = this.myPanel.getSelectedObject();
    this.dispose();
  }

  @Nullable
  protected JComponent createCenterPanel() {
    this.myPanel = new NodeHierarchyChooser(this.myTarget);
    return myPanel;
  }

  public static SNode getConcept(@NotNull Project project, SNode target) {
    MoveLinkUpDialog dialog = new MoveLinkUpDialog(project, target);
    dialog.show();
    return dialog.myConcept;
  }
}
