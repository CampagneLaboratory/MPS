package jetbrains.mps.plugins.pluginparts.tabbedEditor;

/*Generated by MPS */

import com.intellij.ide.DataManager;
import jetbrains.mps.ide.tabbedEditor.tabs.BaseSingletabbedTab;
import jetbrains.mps.smodel.SNode;
import jetbrains.mps.util.NameUtil;
import jetbrains.mps.workbench.MPSDataKeys;

import javax.swing.JOptionPane;
import java.awt.Frame;

public abstract class BaseSingleTab extends BaseSingletabbedTab {
  public BaseSingleTab(final SNode baseNode) {
    super(baseNode);
  }

  public SNode tryToLoadNode() {
    return getNode(getBaseNode());
  }

  public SNode createLoadableNode() {
    return createNode(getBaseNode());
  }

  public boolean askCreate() {
    return askCreate(getBaseNode());
  }

  public boolean askCreate(SNode baseNode) {
    Frame frame = MPSDataKeys.FRAME.getData(DataManager.getInstance().getDataContext());
    int result = JOptionPane.showConfirmDialog(frame, "Do you want to create a new " + NameUtil.decapitalize(getTitle()) + "?", "Create New " + getTitle(), JOptionPane.YES_NO_OPTION);
    return result == JOptionPane.YES_NO_OPTION;
  }

  public abstract String getTitle();

  public abstract String getNullText();

  public abstract SNode getNode(SNode node);

  public abstract SNode createNode(SNode node);
}
