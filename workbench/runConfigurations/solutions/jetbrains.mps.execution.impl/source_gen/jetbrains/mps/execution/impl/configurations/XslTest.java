package jetbrains.mps.execution.impl.configurations;

/*Generated by MPS */

import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;
import org.jdom.Document;
import jetbrains.mps.util.JDOMUtil;
import org.jdom.transform.JDOMSource;
import org.jdom.transform.JDOMResult;
import javax.xml.transform.Transformer;
import javax.xml.transform.TransformerFactory;
import javax.xml.transform.stream.StreamSource;
import java.io.StringWriter;
import org.jdom.Element;
import java.io.IOException;
import org.jdom.JDOMException;
import javax.xml.transform.TransformerException;

public class XslTest {
  protected static Log log = LogFactory.getLog(XslTest.class);

  public XslTest() {
  }

  public static void main(String[] args) {
    try {
      Document document = JDOMUtil.loadDocument(XslTest.class.getResourceAsStream("configurations.xml"));

      JDOMSource source = new JDOMSource(document);
      JDOMResult result = new JDOMResult();

      Transformer transformer = TransformerFactory.newInstance().newTransformer(new StreamSource(XslTest.class.getResourceAsStream("java.transform.xml")));
      transformer.transform(source, result);

      StringWriter writer = new StringWriter();
      Element root = new Element("root");
      root.addContent(result.getResult());
      Document resultDocument = new Document(root);
      JDOMUtil.writeDocument(resultDocument, writer);
      System.out.println(writer.toString());
    } catch (IOException e) {
      if (log.isErrorEnabled()) {
        log.error("", e);
      }
    } catch (JDOMException e) {
      if (log.isErrorEnabled()) {
        log.error("", e);
      }
    } catch (TransformerException e) {
      if (log.isErrorEnabled()) {
        log.error("Cant transform", e);
      }
    }
  }
}
