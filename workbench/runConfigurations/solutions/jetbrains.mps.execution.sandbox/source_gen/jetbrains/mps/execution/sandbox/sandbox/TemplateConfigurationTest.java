package jetbrains.mps.execution.sandbox.sandbox;

/*Generated by MPS */

import javax.swing.JFrame;
import jetbrains.mps.execution.settings.runtime.SettingsEditorEx;

import javax.swing.JComponent;
import java.awt.BorderLayout;
import javax.swing.JPanel;
import java.awt.FlowLayout;
import javax.swing.JButton;
import javax.swing.AbstractAction;
import java.awt.event.ActionEvent;
import javax.swing.SwingUtilities;

public class TemplateConfigurationTest extends JFrame {
  public TemplateConfigurationTest() {
    final TwoFieldsEditor_Configuration twoFieldsConfiguration = new TwoFieldsEditor_Configuration();
    final SettingsEditorEx<TwoFieldsEditor_Configuration> editor = twoFieldsConfiguration.getEditorEx();
    JComponent panel = editor.getComponent();
    add(panel, BorderLayout.CENTER);
    add(this.createButtons(twoFieldsConfiguration, editor), BorderLayout.SOUTH);
    setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
  }

  private JPanel createButtons(final TwoFieldsEditor_Configuration twoFieldsConfiguration, final SettingsEditorEx<TwoFieldsEditor_Configuration> editor) {
    JPanel buttonsPanel = new JPanel(new FlowLayout());
    buttonsPanel.add(new JButton(new AbstractAction("Ok") {
      public void actionPerformed(ActionEvent p0) {
        editor.apply(twoFieldsConfiguration);
        System.out.println("property1 = " + twoFieldsConfiguration.getProperty1());
        System.out.println("property2 = " + twoFieldsConfiguration.getProperty2());
        dispose();
      }
    }));
    buttonsPanel.add(new JButton(new AbstractAction("Apply") {
      public void actionPerformed(ActionEvent p0) {
        editor.apply(twoFieldsConfiguration);
        System.out.println("property1 = " + twoFieldsConfiguration.getProperty1());
        System.out.println("property2 = " + twoFieldsConfiguration.getProperty2());
      }
    }));
    buttonsPanel.add(new JButton(new AbstractAction("Reset") {
      public void actionPerformed(ActionEvent p0) {
        editor.resetFrom(twoFieldsConfiguration);
        System.out.println("property1 = " + twoFieldsConfiguration.getProperty1());
        System.out.println("property2 = " + twoFieldsConfiguration.getProperty2());
      }
    }));
    buttonsPanel.add(new JButton(new AbstractAction("Cancel") {
      public void actionPerformed(ActionEvent p0) {
        editor.resetFrom(twoFieldsConfiguration);
        System.out.println("property1 = " + twoFieldsConfiguration.getProperty1());
        System.out.println("property2 = " + twoFieldsConfiguration.getProperty2());
        dispose();
      }
    }));
    return buttonsPanel;
  }

  public static void main(String[] args) {
    SwingUtilities.invokeLater(new Runnable() {
      public void run() {
        TemplateConfigurationTest main = new TemplateConfigurationTest();
        main.setVisible(true);
        main.pack();
      }
    });
  }
}
