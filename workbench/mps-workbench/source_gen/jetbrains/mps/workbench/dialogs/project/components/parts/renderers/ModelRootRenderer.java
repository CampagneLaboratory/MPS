package jetbrains.mps.workbench.dialogs.project.components.parts.renderers;

/*Generated by MPS */

import javax.swing.DefaultListCellRenderer;
import java.awt.Component;
import javax.swing.JList;
import jetbrains.mps.project.structure.model.ModelRootDescriptor;
import jetbrains.mps.project.structure.model.ModelRoot;
import jetbrains.mps.project.structure.model.ModelRootManager;
import jetbrains.mps.util.NameUtil;

public class ModelRootRenderer extends DefaultListCellRenderer {
  public ModelRootRenderer() {
  }

  public Component getListCellRendererComponent(JList list, final Object value, int index, boolean isSelected, boolean cellHasFocus) {
    ModelRootDescriptor modelRoot = (ModelRootDescriptor) value;
    ModelRoot root = modelRoot.getRoot();
    ModelRootManager manager = (root != null ?
      root.getManager() :
      null
    );
    String representation = (root != null ?
      root.getPath() + " (" + ((manager == null ?
        "Default" :
        NameUtil.shortNameFromLongName(manager.getClassName())
      )) + ")" :
      "<" + modelRoot.getType() + ">"
    );

    Component result = super.getListCellRendererComponent(list, representation, index, isSelected, cellHasFocus);
    return result;
  }
}
