package jetbrains.mps.ide.properties;

/*Generated by MPS */

import java.util.List;
import org.jetbrains.mps.openapi.module.SModuleReference;
import jetbrains.mps.workbench.dialogs.project.components.parts.lists.ListsFactory;
import jetbrains.mps.project.structure.modules.ModuleDescriptor;
import jetbrains.mps.project.structure.modules.DevkitDescriptor;

public class DevkitProperties {
  public static final String NAMESPACE = "namespace";
  private String myNamespace;
  private List<SModuleReference> myExportedLanguages;
  private List<SModuleReference> myExportedSolutions;
  private List<SModuleReference> myExtendedDevkits;

  public DevkitProperties() {
    myExportedLanguages = ListsFactory.create(ListsFactory.MODULE_VALID_REF_COMPARATOR);
    myExportedSolutions = ListsFactory.create(ListsFactory.MODULE_VALID_REF_COMPARATOR);
    myExtendedDevkits = ListsFactory.create(ListsFactory.MODULE_VALID_REF_COMPARATOR);
  }

  public String getNamespace() {
    return myNamespace;
  }

  public void setNamespace(String namespace) {
    myNamespace = namespace;
  }

  public List<SModuleReference> getExportedLanguages() {
    return myExportedLanguages;
  }

  public List<SModuleReference> getExportedSolutions() {
    return myExportedSolutions;
  }

  public List<SModuleReference> getExtendedDevkits() {
    return myExtendedDevkits;
  }

  public void loadFrom(ModuleDescriptor descriptor) {
    assert descriptor instanceof DevkitDescriptor;
    myNamespace = descriptor.getNamespace();
    DevkitDescriptor d = (DevkitDescriptor) descriptor;
    for (SModuleReference ref : d.getExportedLanguages()) {
      myExportedLanguages.add(ref);
    }
    for (SModuleReference ref : d.getExportedSolutions()) {
      myExportedSolutions.add(ref);
    }
    for (SModuleReference ref : d.getExtendedDevkits()) {
      myExtendedDevkits.add(ref);
    }
  }

  public void saveTo(ModuleDescriptor descriptor) {
    assert descriptor instanceof DevkitDescriptor;
    DevkitDescriptor d = (DevkitDescriptor) descriptor;
    d.setNamespace(myNamespace);
    d.getExportedLanguages().clear();
    d.getExportedLanguages().addAll(myExportedLanguages);
    d.getExportedSolutions().clear();
    d.getExportedSolutions().addAll(myExportedSolutions);
    d.getExtendedDevkits().clear();
    d.getExtendedDevkits().addAll(myExtendedDevkits);
  }
}
