package jetbrains.mps.ide.properties;

/*Generated by MPS */

import java.util.List;
import org.jetbrains.mps.openapi.model.SModelReference;
import org.jetbrains.mps.openapi.module.SModuleReference;
import jetbrains.mps.workbench.dialogs.project.components.parts.lists.ListsFactory;
import jetbrains.mps.project.structure.modules.ModuleDescriptor;
import jetbrains.mps.project.structure.modules.LanguageDescriptor;

public class LanguageProperties extends ModuleProperties {
  public static final String OUTPUT_PATH = "genPath";
  public static final String GENERATE_ADAPTERS = "generateAdapters";
  private String myGenPath;
  private List<SModelReference> myAccessoryModels;
  private List<SModuleReference> myExtendedLanguages;
  private List<SModuleReference> myRuntimeModules;

  public LanguageProperties() {
    myAccessoryModels = ListsFactory.create(ListsFactory.MODEL_REF_COMPARATOR);
    myExtendedLanguages = ListsFactory.create(ListsFactory.MODULE_VALID_REF_COMPARATOR);
    myRuntimeModules = ListsFactory.create(ListsFactory.MODULE_REF_COMPARATOR);
  }

  public String getGenPath() {
    return myGenPath;
  }

  public void setGenPath(String genPath) {
    myGenPath = genPath;
  }

  public List<SModelReference> getAccessoryModels() {
    return myAccessoryModels;
  }

  public List<SModuleReference> getExtendedLanguages() {
    return myExtendedLanguages;
  }

  public List<SModuleReference> getRuntimeModules() {
    return myRuntimeModules;
  }

  @Override
  public void loadFrom(ModuleDescriptor descriptor) {
    assert descriptor instanceof LanguageDescriptor;
    super.loadFrom(descriptor);
    LanguageDescriptor d = (LanguageDescriptor) descriptor;
    myGenPath = d.getGenPath();
    myAccessoryModels.addAll(d.getAccessoryModels());
    myExtendedLanguages.addAll(d.getExtendedLanguages());
    myRuntimeModules.addAll(d.getRuntimeModules());
  }

  @Override
  public void saveTo(ModuleDescriptor descriptor) {
    assert descriptor instanceof LanguageDescriptor;
    super.saveTo(descriptor);
    LanguageDescriptor d = (LanguageDescriptor) descriptor;
    d.setGenPath(myGenPath);
    d.getAccessoryModels().clear();
    d.getAccessoryModels().addAll(myAccessoryModels);
    d.getExtendedLanguages().clear();
    d.getExtendedLanguages().addAll(myExtendedLanguages);
    d.getRuntimeModules().clear();
    d.getRuntimeModules().addAll(myRuntimeModules);
  }
}
