package jetbrains.mps.ide.vcs;

/*Generated by MPS */

import com.intellij.openapi.project.Project;
import com.intellij.openapi.vcs.impl.BasicDefaultVcsRootPolicy;
import com.intellij.openapi.vfs.VirtualFile;
import com.intellij.platform.ProjectBaseDirectory;

public class ExtendedDefaultVcsRootPolicy extends BasicDefaultVcsRootPolicy {
  private Project myProject;
  public ExtendedDefaultVcsRootPolicy(Project project) {
    super(project);
    myProject = project;
  }
  @Override
  public boolean matchesDefaultMapping(VirtualFile file, Object matchContext) {
    if (ProjectBaseDirectory.getInstance(myProject).getBaseDir() == null) {
      // TODO is it needed? 
      return false;
    }
    return super.matchesDefaultMapping(file, matchContext);
  }
}
