package jetbrains.mps.ide.platform.actions.core;

/*Generated by MPS */

import java.util.List;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import java.util.ArrayList;
import java.util.Map;
import jetbrains.mps.internal.collections.runtime.MapSequence;
import java.util.HashMap;

public class RefactoringSessionImpl implements RefactoringSession {

  private List<Runnable> myChanges = ListSequence.fromList(new ArrayList<Runnable>());

  private Map<String, Object> myObjects = MapSequence.fromMap(new HashMap<String, Object>());

  public void putObject(String id, Object object) {
    MapSequence.fromMap(myObjects).put(id, object);
  }
  public Object getObject(String id) {
    return MapSequence.fromMap(myObjects).get(id);
  }
  public void registerChange(Runnable change) {
    ListSequence.fromList(myChanges).addElement(change);
  }

  public void commit() {
    for (int i = 0; i < ListSequence.fromList(myChanges).count(); i++) {
      ListSequence.fromList(myChanges).getElement(i).run();

    }
  }
}
