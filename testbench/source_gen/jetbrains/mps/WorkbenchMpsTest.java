package jetbrains.mps;

/*Generated by MPS */

import jetbrains.mps.tool.environment.Environment;
import org.junit.BeforeClass;
import jetbrains.mps.testbench.junit.runners.MpsTestsSupport;
import org.junit.AfterClass;
import jetbrains.mps.tool.environment.ActiveEnvironment;
import jetbrains.mps.project.Project;
import java.io.File;

public class WorkbenchMpsTest {
  private static Environment CREATED_ENV;


  @BeforeClass
  public static void setUpEnvironment() {
    CREATED_ENV = MpsTestsSupport.initEnv(true);
    if (CREATED_ENV != null) {
      MpsTestsSupport.makeAllInCreatedEnvironment();
    }
  }



  @AfterClass
  public static void cleanup() {
    // todo: if we dispose IdeaEnv we can't create it again =( so we should but we can't dispose CREATED_ENV here 
    // <node> 
  }



  private static void checkEnvironmentExists() {
    assert ActiveEnvironment.get() != null;
  }



  public static Project openProject(File projectFile) {
    checkEnvironmentExists();
    return ActiveEnvironment.get().openProject(projectFile);
  }



  public static void disposeProject(Project project) {
    checkEnvironmentExists();
    ActiveEnvironment.get().disposeProject(project);
  }
}
