package jetbrains.mps.makeTest.test;

/*Generated by MPS */

import jetbrains.mps.smodel.DefaultSModel;
import org.jetbrains.mps.openapi.model.SModel;
import jetbrains.mps.smodel.CopyUtil;
import jetbrains.mps.smodel.BaseSModelDescriptor;

public abstract class ChangeModel {
  private DefaultSModel myModel;

  public ChangeModel() {
  }

  public void change(SModel model) {
    this.myModel = new DefaultSModel(model.getReference());
    CopyUtil.copyModelContentAndPreserveIds(model, myModel.getModelDescriptor());
    CopyUtil.copyModelProperties(model, myModel.getModelDescriptor());
  }

  public void rollback(SModel model) {
    BaseSModelDescriptor md = (BaseSModelDescriptor) model;
    md.replace(this.myModel);
  }
}
