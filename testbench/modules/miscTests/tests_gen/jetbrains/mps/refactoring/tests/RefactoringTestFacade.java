package jetbrains.mps.refactoring.tests;

/*Generated by MPS */

import jetbrains.mps.ide.platform.refactoring.RefactoringFacade;
import jetbrains.mps.refactoring.framework.RefactoringContext;
import jetbrains.mps.smodel.ModelAccess;

/*package*/ class RefactoringTestFacade extends RefactoringFacade {
  /*package*/ RefactoringTestFacade() {
  }

  public void doExecuteInTest(final RefactoringContext refactoringContext) {
    try {
      if (!(refactoringContext.getRefactoring().init(refactoringContext))) {
        myLog.error("refactoring can't be initialized");
      }
      // generation switched off temporary 
      refactoringContext.setDoesGenerateModels(false);
      ModelAccess.instance().runWriteInEDT(new Runnable() {
        public void run() {
          executeSimple(refactoringContext);
        }
      });
    } catch (Throwable t) {
      myLog.error(t);
    }
  }

  public void execute(RefactoringContext context) {
    throw new UnsupportedOperationException();
  }
}
