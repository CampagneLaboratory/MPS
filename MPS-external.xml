<?xml version="1.0" encoding="UTF-8"?>
<project name="MPS-external" default="main">
  <import file="MPS-languages.xml" />
  <property file=".\MPS.properties" />
  <target name="main" depends="clean.before,folders.create,do.the.job,clean.after" />
  <target name="clean.before">
    <delete dir="${deploy.dir}" />
  </target>
  <target name="folders.create" depends="clean.before">
    <mkdir dir="${deploy.dir}" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\beansbinding" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\annotations" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\ant-1.7.0" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\asm" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\alloy" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\commons-lang" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\commons-logging" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\eclipse-compiler" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\equinox" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\httpclient" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\idea-rt" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\jdom" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\joda-time" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\junit" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\junit4" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\log4j" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\spring" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\stax" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\svnkit" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\xstream" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\app" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\app" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\app\agreement" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\app\complexLanguage" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\app\dslbook_example" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\app\fibonacci" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\app\fixedLengthReader" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\app\formulaLanguage" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\core" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\core\baseLanguage" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\core\languageDesign" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\core\configuration" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\core\configurations" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\core\kernel" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\platform" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\platform\businessRules" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\platform\dnq" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\platform\panacea" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\platform\springframework" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\platform\web-query" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\platform\webr" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\platform\stateMachine" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\docs" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\META-INF" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\plugin" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\.configuration" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\workbench" />
    <mkdir dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\log" />
  </target>
  <target name="do.the.job" depends="folders.create">
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\beansbinding">
      <fileset dir="lib\beansbinding" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\annotations">
      <fileset dir="lib\annotations" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\ant-1.7.0">
      <fileset dir="lib\ant-1.7.0" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\asm">
      <fileset dir="lib\asm" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\alloy">
      <fileset dir="lib\alloy" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\commons-lang">
      <fileset dir="lib\commons-lang" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\commons-logging">
      <fileset dir="lib\commons-logging" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\eclipse-compiler">
      <fileset dir="lib\eclipse-compiler" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\equinox">
      <fileset dir="lib\equinox" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\httpclient">
      <fileset dir="lib\httpclient" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\idea-rt">
      <fileset dir="lib\idea-rt" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\jdom">
      <fileset dir="lib\jdom" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\joda-time">
      <fileset dir="lib\joda-time" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\junit">
      <fileset dir="lib\junit" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\junit4">
      <fileset dir="lib\junit4" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\log4j">
      <fileset dir="lib\log4j" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\spring">
      <fileset dir="lib\spring" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\stax">
      <fileset dir="lib\stax" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\svnkit">
      <fileset dir="lib\svnkit" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\xstream">
      <fileset dir="lib\xstream" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\kernel\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="workbench\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\languageDesign\core\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\languageDesign\actionsLanguage\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\languageDesign\editorLanguage\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\languageDesign\annotations\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\languageDesign\constraintsLanguage\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\languageDesign\editorLanguage\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\languageDesign\findUsagesLanguage\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\languageDesign\helgins\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\languageDesign\intentionsLanguage\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\languageDesign\patternLanguage\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\languageDesign\pluginLanguage\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\languageDesign\quotation\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\languageDesign\refactoring\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\languageDesign\scriptLanguage\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\languageDesign\scriptLanguage\runtime\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\languageDesign\sharedConcepts\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\languageDesign\smodelLanguage\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\languageDesign\structureLanguage\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\languageDesign\transformation\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\languageDesign\dataFlow\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\languageDesign\dataFlow\runtime\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\projectLanguage\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\baseLanguage\baseLanguage\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\baseLanguage\collections\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\baseLanguage\collections\runtime\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="core\baseLanguage\classifiers\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp">
      <fileset dir="MPSPlugin\MPSSupport\classes" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </copy>
    <jar destfile="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar" filesonly="true">
      <fileset dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp" excludes="**/*.java, **/*.zip, **/*.iml, **/*.ipr" includes="**/*.jar, **/*.class, **/*.png, " />
    </jar>
    <delete dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp" />
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\app\agreement">
      <fileset dir="app\agreement" excludes="**/*.iml, **/*.ipr" includes="" />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\app\complexLanguage">
      <fileset dir="app\complexLanguage" excludes="**/*.iml, **/*.ipr" includes="" />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\app\dslbook_example">
      <fileset dir="app\dslbook_example" excludes="**/*.iml, **/*.ipr" includes="" />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\app\fibonacci">
      <fileset dir="app\fibonacci" excludes="**/*.iml, **/*.ipr" includes="" />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\app\fixedLengthReader">
      <fileset dir="app\fixedLengthReader" excludes="**/*.iml, **/*.ipr" includes="" />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\app\formulaLanguage">
      <fileset dir="app\formulaLanguage" excludes="**/*.iml, **/*.ipr" includes="" />
    </copy>
    <antcall target="pack.jetbrains.mps.baseLanguageInternal" />
    <antcall target="pack.jetbrains.mps.closures" />
    <antcall target="pack.closures.test" />
    <antcall target="pack.jetbrains.mps.baseLanguage.ext.collections.lang" />
    <antcall target="pack.collections_samples" />
    <antcall target="pack.collections_unittest" />
    <antcall target="pack.jetbrains.mps.baseLanguage.ext.csharp" />
    <antcall target="pack.jetbrains.mps.baseLanguage.ext.dates.lang" />
    <antcall target="pack.jetbrains.mps.baseLanguage.ext.dates.internal" />
    <antcall target="pack.dates_unittest" />
    <antcall target="pack.jetbrains.mps.internal.collections" />
    <antcall target="pack.jetbrains.accounting.money" />
    <antcall target="pack.editor" />
    <antcall target="pack.JDK" />
    <antcall target="pack.jetbrains.mps.baseLanguage.blTypes" />
    <antcall target="pack.jetbrains.mps.baseLanguage" />
    <antcall target="pack.jetbrains.mps.baseLanguage.strings" />
    <antcall target="pack.MPS.Classpath" />
    <antcall target="pack.refactoring" />
    <antcall target="pack.resolve" />
    <antcall target="pack.testLogger" />
    <antcall target="pack.testLogger2" />
    <antcall target="pack.jetbrains.mps.baseLanguage.classifiers" />
    <antcall target="pack.jetbrains.mps.bootstrap.actionsLanguage" />
    <antcall target="pack.jetbrains.mps.annotations" />
    <antcall target="pack.jetbrains.mps.bootstrap.constraintsLanguage" />
    <antcall target="pack.jetbrains.mps.bootstrap.editorLanguage" />
    <antcall target="pack.jetbrains.mps.bootstrap.findUsagesLanguage" />
    <antcall target="pack.jetbrains.mps.bootstrap.helgins" />
    <antcall target="pack.jetbrains.mps.bootstrap.intentionsLanguage" />
    <antcall target="pack.jetbrains.mps.bootstrap.dataFlow" />
    <antcall target="pack.jetbrains.mpslite" />
    <antcall target="pack.jetbrains.mps.nanoj" />
    <antcall target="pack.jetbrains.mps.patterns" />
    <antcall target="pack.jetbrains.mps.quotation" />
    <antcall target="pack.jetbrains.mps.bootstrap.pluginLanguage" />
    <antcall target="pack.jetbrains.mps.bootstrap.sharedConcepts" />
    <antcall target="pack.jetbrains.mps.bootstrap.smodelLanguage" />
    <antcall target="pack.jetbrains.mps.ide.scriptLanguage" />
    <antcall target="pack.jetbrains.mps.ide.scriptLanguageInternal" />
    <antcall target="pack.jetbrains.mps.bootstrap.structureLanguage" />
    <antcall target="pack.jetbrains.mps.core" />
    <antcall target="pack.jetbrains.mps.logging.refactoring" />
    <antcall target="pack.jetbrains.mps.transformation.test.inputLang" />
    <antcall target="pack.jetbrains.mps.transformation.test.outputLang" />
    <antcall target="pack.jetbrains.mps.transformation.TLBase" />
    <antcall target="pack.smodelLanguage-samples" />
    <antcall target="pack.smodelLanguage_typetest" />
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\core\configuration">
      <fileset dir="core\configuration" excludes="**/*.java, **/*.iml, **/*.ipr" includes="" />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\core\configurations">
      <fileset dir="core\configurations" excludes="**/*.java, **/*.iml, **/*.ipr" includes="" />
    </copy>
    <antcall target="pack.jetbrains.mps.vcs" />
    <antcall target="pack.jetbrains.mps.projectLanguage" />
    <antcall target="pack.jetbrains.mps.buildlanguage" />
    <antcall target="pack.jetbrains.mps.mpsLayoutLanguage" />
    <antcall target="pack.jetbrains.mps.mpsProjectLanguage" />
    <antcall target="pack.jetbrains.mps.propertylanguage" />
    <antcall target="pack.jetbrains.mps.bookLanguage" />
    <antcall target="pack.jetbrains.mps.regexp" />
    <antcall target="pack.jetbrains.mps.regexp.examples" />
    <antcall target="pack.jetbrains.mps.textLanguage" />
    <antcall target="pack.jetbrains.mps.textLanguage.formula" />
    <antcall target="pack.jetbrains.mps.textLanguage.table" />
    <antcall target="pack.jetbrains.mps.uiLanguage" />
    <antcall target="pack.jetbrains.mps.baseLanguage.unitTest" />
    <antcall target="pack.jetbrains.mps.xml" />
    <antcall target="pack.jetbrains.springframework.configuration" />
    <antcall target="pack.jetbrains.springframework.configurationInternal" />
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\docs">
      <fileset dir="docs" excludes="**/*.java, **/*.iml, **/*.ipr" includes="" />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\META-INF">
      <fileset dir="META-INF" excludes="**/*.iml, **/*.ipr" includes="" />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\plugin">
      <fileset dir="plugin" excludes="**/*.java, **/*.iml, **/*.ipr" includes="" />
    </copy>
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\.configuration">
      <fileset dir=".configuration" excludes="**/*.java, **/*.iml, **/*.ipr" includes="" />
    </copy>
    <antcall target="pack.jetbrains.mps.ide.uiLanguage" />
    <antcall target="pack.jetbrains.mps.monitorLanguage" />
    <antcall target="pack.jetbrains.mps.ide" />
    <copy todir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\log">
      <fileset dir="log" excludes="**/*.java, **/*.iml, **/*.ipr" includes="" />
    </copy>
    <echo file="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\build.number">build.number=${build.number}${line.separator}revision.number=${build.vcs.number.1}${line.separator}configuration.name=${teamcity.buildConfName}</echo>
    <copy file="changelog.txt" tofile="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\changelog.txt" />
    <copy file="entryPoints.xml" tofile="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\entryPoints.xml" />
    <copy file="focuskiller.dll" tofile="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\focuskiller.dll" />
    <copy file="focuskiller64.dll" tofile="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\focuskiller64.dll" />
    <copy file="plugin.xml" tofile="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\plugin.xml" />
    <copy file="readme.txt" tofile="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\readme.txt" />
    <copy file="runMPS.bat" tofile="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\runMPS.bat" />
    <copy file="runMPS.sh" tofile="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\runMPS.sh" />
    <zip destfile="${deploy.dir}\MPS-${build.number}.zip" filesonly="true">
      <fileset dir="${deploy.dir}\MPS-${build.number}.zip.tmp" excludes="**/*.iml, **/*.ipr" includes="" />
    </zip>
    <delete dir="${deploy.dir}\MPS-${build.number}.zip.tmp" />
  </target>
  <target name="clean.after" depends="do.the.job">
    <delete dir="${deploy.dir}\MPS-${build.number}.zip.tmp" />
    <delete dir="${deploy.dir}\MPS-${build.number}.zip.tmp\MPS\lib\mps.jar.tmp" />
  </target>
</project>

