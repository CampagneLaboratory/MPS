package jetbrains.mps.baseLanguage.behavior;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import org.jetbrains.annotations.NotNull;
import org.jetbrains.mps.openapi.module.SModule;
import java.lang.reflect.Method;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.reloading.ReflectionUtil;
import jetbrains.mps.internal.collections.runtime.Sequence;
import jetbrains.mps.baseLanguage.scopes.Members;
import jetbrains.mps.internal.collections.runtime.IWhereFilter;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.smodel.action.SNodeFactoryOperations;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.smodel.behaviour.BehaviorReflection;

public class StaticMethodCall_Behavior {
  public static void init(SNode thisNode) {
  }

  public static Object virtual_eval_1213877519769(SNode thisNode, @NotNull SModule module) {
    Method method = BaseMethodDeclaration_Behavior.call_getMethod_1213877350393(SLinkOperations.getTarget(thisNode, "baseMethodDeclaration", false), module);
    Object[] actualArguments = BaseMethodCall_Behavior.call_getActualArguments_1213877339153(thisNode, module);
    return ReflectionUtil.staticInvoke(method, actualArguments);
  }

  public static Iterable<SNode> virtual_getAvailableMethodDeclarations_5776618742611315379(SNode thisNode, final String methodName) {
    return Sequence.fromIterable(Members.visibleStaticMethods(SLinkOperations.getTarget(thisNode, "classConcept", false), thisNode)).where(new IWhereFilter<SNode>() {
      public boolean accept(SNode it) {
        return eq_8wxa2a_a0a0a0a0a0a0a2(SPropertyOperations.getString(it, "name"), methodName);
      }
    }).toListSequence();
  }

  public static boolean call_canBeConvertedToLocal_3299924278393499101(SNode thisNode) {
    SNode classConcept1 = SLinkOperations.getTarget(thisNode, "classConcept", false);
    SNode classConcept2 = SNodeOperations.getAncestor(thisNode, "jetbrains.mps.baseLanguage.structure.ClassConcept", false, false);
    return classConcept1 == classConcept2;
  }

  public static void call_convertToLocal_3299924278393509387(SNode thisNode) {
    SNode localStaticMethodCall = SNodeFactoryOperations.replaceWithNewChild(thisNode, "jetbrains.mps.baseLanguage.structure.LocalMethodCall");
    SLinkOperations.setTarget(localStaticMethodCall, "baseMethodDeclaration", SLinkOperations.getTarget(thisNode, "baseMethodDeclaration", false), false);
    for (SNode actualArgument : ListSequence.fromList(SLinkOperations.getTargets(thisNode, "actualArgument", true))) {
      ListSequence.fromList(SLinkOperations.getTargets(localStaticMethodCall, "actualArgument", true)).addElement(actualArgument);
    }
  }

  public static String virtual_getPresentation_1213877396640(SNode thisNode) {
    return BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(thisNode, "classConcept", false), "virtual_getPresentation_1213877396640", new Object[]{}) + "." + BehaviorReflection.invokeVirtual(String.class, SLinkOperations.getTarget(thisNode, "baseMethodDeclaration", false), "virtual_getPresentation_1213877396640", new Object[]{});
  }

  private static boolean eq_8wxa2a_a0a0a0a0a0a0a2(Object a, Object b) {
    return (a != null ?
      a.equals(b) :
      a == b
    );
  }
}
