package jetbrains.mps.baseLanguage.javadoc.intentions;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.project.IModule;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.smodel.SModelInternal;
import org.jetbrains.mps.openapi.module.SModuleReference;
import jetbrains.mps.smodel.ModuleRepositoryFacade;
import jetbrains.mps.smodel.Language;

public class DocCommentHelper {
  public static void addJavadocLangIfMissing(SNode node) {
    IModule module = (IModule) SNodeOperations.getModel(node).getModule();
    SModelInternal model = as_zf4tay_a0a1a0(SNodeOperations.getModel(node), SModelInternal.class);
    SModuleReference javadocLangReference = ModuleRepositoryFacade.getInstance().getModule("jetbrains.mps.baseLanguage.javadoc", Language.class).getModuleReference();
    if (!(model.importedLanguages().contains(javadocLangReference))) {
      module.addUsedLanguage(javadocLangReference);
      model.addLanguage(javadocLangReference);
    }
  }

  private static <T> T as_zf4tay_a0a1a0(Object o, Class<T> type) {
    return (type.isInstance(o) ?
      (T) o :
      null
    );
  }
}
