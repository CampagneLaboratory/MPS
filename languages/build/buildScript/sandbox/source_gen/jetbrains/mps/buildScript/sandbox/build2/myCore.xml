<project name="myCore">
  <target name="java.compile.java.modules.cycle.1">
    <javac destdir="build/temp/module1.cycle">
      <src path="module1/source" />

      <src path="module2/source" />

      <classpath path="mo1.deps" />

      <classpath path="mo2.deps" />

      <classpath path="junit" />

    </javac>
  </target>
  <target name="java.compile.module1">
    <javac destdir="build/temp/module1">
      <src path="module1/source" />

      <classpath path="mo1.deps" />

      <classpath path="junit" />

      <classpath path="build/temp/module2" />

      <classpath path="build/temp/module1.cycle" />

    </javac>
  </target>
  <target name="java.compile.module2">
    <javac destdir="build/temp/module2">
      <src path="module2/source" />

      <classpath path="mo2.deps" />

      <classpath path="junit" />

      <classpath path="build/temp/module1" />

      <classpath path="build/temp/module1.cycle" />

    </javac>
  </target>
  <target name="java.compile.module3">
    <javac destdir="build/temp/module3">
      <src path="module3/source" />

      <classpath path="mo3.deps" />

      <classpath path="junit" />

      <classpath path="build/temp/module1" />

      <classpath path="build/temp/module2" />

    </javac>
  </target>
  <target name="buildDependencies">
    <copy asda="asda" />

    <mkdir asd="aaaa" />

    <javac asd="asd" ssdf="asd">
      asdassda
      asdasdasdas
      asdasd
      <aa>asdas</aa>
    </javac>
  </target>
  <target name="build" depends="buildDependencies"></target>
  <target name="test" depends="build">
    <junit />

  </target>
</project>