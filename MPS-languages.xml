<?xml version="1.0" encoding="UTF-8"?>
<project name="MPS-languages" default="pack.jetbrains.mps.baseLanguageInternal">
  <property file="./MPS.properties" />
  <target name="pack.jetbrains.mps.baseLanguageInternal">
    <mkdir dir="core/baseLanguage/baseLanguageInternal/classes_gen" />
    <mkdir dir="core/baseLanguage/baseLanguageInternal/classes" />
    <mkdir dir="core/baseLanguage/baseLanguageInternal/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguageInternal.tmp">
      <fileset dir="core/baseLanguage/baseLanguageInternal" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/baseLanguage/baseLanguageInternal" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguageInternal.lib.jar" duplicate="preserve">
      <fileset dir="core/baseLanguage/baseLanguageInternal/classes_gen" />
      <fileset dir="core/baseLanguage/baseLanguageInternal/classes" />
      <fileset dir="core/baseLanguage/baseLanguageInternal/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguageInternal.tmp">
      <fileset dir="core/baseLanguage/baseLanguageInternal">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/baseLanguage/baseLanguageInternal">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/baseLanguage/baseLanguageInternal">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguageInternal.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguageInternal.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguageInternal.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguageInternal.tmp/baseLanguageInternal.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguageInternal.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguageInternal.tmp/baseLanguageInternal.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguageInternal.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguageInternal.tmp/baseLanguageInternal.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguageInternal.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguageInternal.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguageInternal.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguageInternal.tmp" />
  </target>
  <target name="pack.jetbrains.mps.closures">
    <mkdir dir="core/baseLanguage/closures/classes_gen" />
    <mkdir dir="core/baseLanguage/closures/runtime/classes" />
    <mkdir dir="core/baseLanguage/closures/classes" />
    <mkdir dir="core/baseLanguage/closures/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.closures.tmp">
      <fileset dir="core/baseLanguage/closures" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/baseLanguage/closures" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.closures.lib.jar" duplicate="preserve">
      <fileset dir="core/baseLanguage/closures/classes_gen" />
      <fileset dir="core/baseLanguage/closures/runtime/classes" />
      <fileset dir="core/baseLanguage/closures/classes" />
      <fileset dir="core/baseLanguage/closures/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.closures.tmp">
      <fileset dir="core/baseLanguage/closures">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/baseLanguage/closures">
        <include name="runtime/classes/" />
      </fileset>
      <fileset dir="core/baseLanguage/closures">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/baseLanguage/closures">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.closures.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.closures.tmp/META-INF/MANIFEST.MF" token="/runtime/classes/" value="/runtime/classes/,/runtime/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.closures.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.closures.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.closures.tmp/closures.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.closures.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.closures.tmp/closures.mpl" token="{language_descriptor}\runtime\classes" value="{mps_home}/core/baseLanguage/jetbrains.mps.closures.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.closures.tmp/closures.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/baseLanguage/jetbrains.mps.closures.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.closures.tmp/closures.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.closures.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.closures.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.closures.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.closures.tmp" />
  </target>
  <target name="pack.jetbrains.mps.baseLanguage.ext.collections.lang">
    <mkdir dir="core/baseLanguage/collections/classes_gen" />
    <mkdir dir="core/baseLanguage/collections/classes" />
    <mkdir dir="core/baseLanguage/collections/runtime/classes" />
    <mkdir dir="core/baseLanguage/collections/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.collections.lang.tmp">
      <fileset dir="core/baseLanguage/collections" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/baseLanguage/collections" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.collections.lang.lib.jar" duplicate="preserve">
      <fileset dir="core/baseLanguage/collections/classes_gen" />
      <fileset dir="core/baseLanguage/collections/classes" />
      <fileset dir="core/baseLanguage/collections/runtime/classes" />
      <fileset dir="core/baseLanguage/collections/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.collections.lang.tmp">
      <fileset dir="core/baseLanguage/collections">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/baseLanguage/collections">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/baseLanguage/collections">
        <include name="runtime/classes/" />
      </fileset>
      <fileset dir="core/baseLanguage/collections">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.collections.lang.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.collections.lang.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.collections.lang.tmp/META-INF/MANIFEST.MF" token="/runtime/classes/" value="/runtime/classes/,/runtime/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.collections.lang.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.collections.lang.tmp/collections.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.ext.collections.lang.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.collections.lang.tmp/collections.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.ext.collections.lang.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.collections.lang.tmp/collections.mpl" token="{language_descriptor}\runtime\classes" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.ext.collections.lang.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.collections.lang.tmp/collections.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.ext.collections.lang.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.collections.lang.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.collections.lang.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.collections.lang.tmp" />
  </target>
  <target name="pack.collections_samples">
    <mkdir dir="core/baseLanguage/collections/solutions/collections/samples/classes_gen" />
    <mkdir dir="core/baseLanguage/collections/solutions/collections/samples/classes_gen" />
    <mkdir dir="core/baseLanguage/collections/solutions/collections/samples/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/collections_samples.tmp">
      <fileset dir="core/baseLanguage/collections/solutions/collections/samples" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/baseLanguage/collections/solutions/collections/samples" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/collections_samples.lib.jar" duplicate="preserve">
      <fileset dir="core/baseLanguage/collections/solutions/collections/samples/classes_gen" />
      <fileset dir="core/baseLanguage/collections/solutions/collections/samples/classes_gen" />
      <fileset dir="core/baseLanguage/collections/solutions/collections/samples/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/collections_samples.tmp">
      <fileset dir="core/baseLanguage/collections/solutions/collections/samples">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/baseLanguage/collections/solutions/collections/samples">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/baseLanguage/collections/solutions/collections/samples">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/collections_samples.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/collections_samples.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/collections_samples.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/collections_samples.tmp/collections_samples.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/collections_samples.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/collections_samples.tmp/collections_samples.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/collections_samples.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/collections_samples.tmp/collections_samples.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/collections_samples.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/collections_samples.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/collections_samples.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/collections_samples.tmp" />
  </target>
  <target name="pack.jetbrains.mps.baseLanguage.ext.csharp">
    <mkdir dir="core/baseLanguage/csharp/classes_gen" />
    <mkdir dir="core/baseLanguage/csharp/classes" />
    <mkdir dir="core/baseLanguage/csharp/runtime/classes" />
    <mkdir dir="core/baseLanguage/csharp/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.csharp.tmp">
      <fileset dir="core/baseLanguage/csharp" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/baseLanguage/csharp" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.csharp.lib.jar" duplicate="preserve">
      <fileset dir="core/baseLanguage/csharp/classes_gen" />
      <fileset dir="core/baseLanguage/csharp/classes" />
      <fileset dir="core/baseLanguage/csharp/runtime/classes" />
      <fileset dir="core/baseLanguage/csharp/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.csharp.tmp">
      <fileset dir="core/baseLanguage/csharp">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/baseLanguage/csharp">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/baseLanguage/csharp">
        <include name="runtime/classes/" />
      </fileset>
      <fileset dir="core/baseLanguage/csharp">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.csharp.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.csharp.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.csharp.tmp/META-INF/MANIFEST.MF" token="/runtime/classes/" value="/runtime/classes/,/runtime/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.csharp.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.csharp.tmp/csharp.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.ext.csharp.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.csharp.tmp/csharp.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.ext.csharp.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.csharp.tmp/csharp.mpl" token="{language_descriptor}\runtime\classes" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.ext.csharp.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.csharp.tmp/csharp.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.ext.csharp.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.csharp.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.csharp.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.csharp.tmp" />
  </target>
  <target name="pack.jetbrains.mps.baseLanguage.ext.dates.lang">
    <mkdir dir="core/baseLanguage/dates/classes_gen" />
    <mkdir dir="core/baseLanguage/dates/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.dates.lang.tmp">
      <fileset dir="core/baseLanguage/dates" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/baseLanguage/dates" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.dates.lang.lib.jar" duplicate="preserve">
      <fileset dir="core/baseLanguage/dates/classes_gen" />
      <fileset dir="core/baseLanguage/dates/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.dates.lang.tmp">
      <fileset dir="core/baseLanguage/dates">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/baseLanguage/dates">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.dates.lang.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.dates.lang.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.dates.lang.tmp/dates.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.ext.dates.lang.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.dates.lang.tmp/dates.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.ext.dates.lang.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.dates.lang.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.dates.lang.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.dates.lang.tmp" />
  </target>
  <target name="pack.jetbrains.mps.baseLanguage.ext.dates.internal">
    <mkdir dir="core/baseLanguage/dates/internal/classes_gen" />
    <mkdir dir="core/baseLanguage/dates/internal/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.dates.internal.tmp">
      <fileset dir="core/baseLanguage/dates/internal" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/baseLanguage/dates/internal" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.dates.internal.lib.jar" duplicate="preserve">
      <fileset dir="core/baseLanguage/dates/internal/classes_gen" />
      <fileset dir="core/baseLanguage/dates/internal/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.dates.internal.tmp">
      <fileset dir="core/baseLanguage/dates/internal">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/baseLanguage/dates/internal">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.dates.internal.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.dates.internal.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.dates.internal.tmp/internal.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.ext.dates.internal.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.dates.internal.tmp/internal.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.ext.dates.internal.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.dates.internal.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.dates.internal.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.ext.dates.internal.tmp" />
  </target>
  <target name="pack.jetbrains.mps.baseLanguage.dates.runtime">
    <mkdir dir="core/baseLanguage/dates/runtime/classes_gen" />
    <mkdir dir="core/baseLanguage/dates/runtime/classes_gen" />
    <mkdir dir="core/baseLanguage/dates/runtime/classes_gen" />
    <mkdir dir="core/baseLanguage/dates/runtime/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.dates.runtime.tmp">
      <fileset dir="core/baseLanguage/dates/runtime" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/baseLanguage/dates/runtime" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.dates.runtime.lib.jar" duplicate="preserve">
      <fileset dir="core/baseLanguage/dates/runtime/classes_gen" />
      <fileset dir="core/baseLanguage/dates/runtime/classes_gen" />
      <fileset dir="core/baseLanguage/dates/runtime/classes_gen" />
      <fileset dir="core/baseLanguage/dates/runtime/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.dates.runtime.tmp">
      <fileset dir="core/baseLanguage/dates/runtime">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/baseLanguage/dates/runtime">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/baseLanguage/dates/runtime">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/baseLanguage/dates/runtime">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.dates.runtime.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.dates.runtime.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.dates.runtime.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.dates.runtime.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.dates.runtime.tmp/jetbrains.mps.baseLanguage.dates.runtime.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.dates.runtime.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.dates.runtime.tmp/jetbrains.mps.baseLanguage.dates.runtime.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.dates.runtime.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.dates.runtime.tmp/jetbrains.mps.baseLanguage.dates.runtime.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.dates.runtime.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.dates.runtime.tmp/jetbrains.mps.baseLanguage.dates.runtime.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.dates.runtime.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.dates.runtime.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.dates.runtime.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.dates.runtime.tmp" />
  </target>
  <target name="pack.jetbrains.mps.internal.collections">
    <mkdir dir="core/baseLanguage/internalCollections/languages/collections/classes_gen" />
    <mkdir dir="core/baseLanguage/internalCollections/languages/collections/runtime/classes" />
    <mkdir dir="core/baseLanguage/internalCollections/classes" />
    <mkdir dir="core/baseLanguage/internalCollections/languages/collections/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.internal.collections.tmp">
      <fileset dir="core/baseLanguage/internalCollections/languages/collections" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/baseLanguage/internalCollections/languages/collections" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.internal.collections.lib.jar" duplicate="preserve">
      <fileset dir="core/baseLanguage/internalCollections/languages/collections/classes_gen" />
      <fileset dir="core/baseLanguage/internalCollections/languages/collections/runtime/classes" />
      <fileset dir="core/baseLanguage/internalCollections/classes" />
      <fileset dir="core/baseLanguage/internalCollections/languages/collections/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.internal.collections.tmp">
      <fileset dir="core/baseLanguage/internalCollections/languages/collections">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/baseLanguage/internalCollections/languages/collections">
        <include name="runtime/classes/" />
      </fileset>
      <fileset dir="core/baseLanguage/internalCollections">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/baseLanguage/internalCollections/languages/collections">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.internal.collections.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.internal.collections.tmp/META-INF/MANIFEST.MF" token="/runtime/classes/" value="/runtime/classes/,/runtime/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.internal.collections.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.internal.collections.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.internal.collections.tmp/collections.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.internal.collections.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.internal.collections.tmp/collections.mpl" token="{language_descriptor}\runtime\classes" value="{mps_home}/core/baseLanguage/jetbrains.mps.internal.collections.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.internal.collections.tmp/collections.mpl" token="{mps_home}\core\baseLanguage\internalCollections\classes" value="{mps_home}/core/baseLanguage/jetbrains.mps.internal.collections.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.internal.collections.tmp/collections.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.internal.collections.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.internal.collections.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.internal.collections.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.internal.collections.tmp" />
  </target>
  <target name="pack.jetbrains.accounting.money">
    <mkdir dir="core/baseLanguage/money/classes_gen" />
    <mkdir dir="core/baseLanguage/money/classes" />
    <mkdir dir="core/baseLanguage/money/runtime/classes" />
    <mkdir dir="core/baseLanguage/money/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.accounting.money.tmp">
      <fileset dir="core/baseLanguage/money" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/baseLanguage/money" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.accounting.money.lib.jar" duplicate="preserve">
      <fileset dir="core/baseLanguage/money/classes_gen" />
      <fileset dir="core/baseLanguage/money/classes" />
      <fileset dir="core/baseLanguage/money/runtime/classes" />
      <fileset dir="core/baseLanguage/money/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.accounting.money.tmp">
      <fileset dir="core/baseLanguage/money">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/baseLanguage/money">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/baseLanguage/money">
        <include name="runtime/classes/" />
      </fileset>
      <fileset dir="core/baseLanguage/money">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.accounting.money.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.accounting.money.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.accounting.money.tmp/META-INF/MANIFEST.MF" token="/runtime/classes/" value="/runtime/classes/,/runtime/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.accounting.money.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.accounting.money.tmp/money.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.accounting.money.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.accounting.money.tmp/money.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/baseLanguage/jetbrains.accounting.money.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.accounting.money.tmp/money.mpl" token="{language_descriptor}\runtime\classes" value="{mps_home}/core/baseLanguage/jetbrains.accounting.money.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.accounting.money.tmp/money.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.accounting.money.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.accounting.money.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.accounting.money.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.accounting.money.tmp" />
  </target>
  <target name="pack.JDK">
    <mkdir dir="core/baseLanguage/baseLanguage/solutions/JDK/classes_gen" />
    <mkdir dir="core/baseLanguage/baseLanguage/solutions/JDK/classes_gen" />
    <mkdir dir="core/baseLanguage/baseLanguage/solutions/JDK/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/JDK.tmp">
      <fileset dir="core/baseLanguage/baseLanguage/solutions/JDK" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/baseLanguage/baseLanguage/solutions/JDK" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/JDK.lib.jar" duplicate="preserve">
      <fileset dir="core/baseLanguage/baseLanguage/solutions/JDK/classes_gen" />
      <fileset dir="core/baseLanguage/baseLanguage/solutions/JDK/classes_gen" />
      <fileset dir="core/baseLanguage/baseLanguage/solutions/JDK/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/JDK.tmp">
      <fileset dir="core/baseLanguage/baseLanguage/solutions/JDK">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/baseLanguage/baseLanguage/solutions/JDK">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/baseLanguage/baseLanguage/solutions/JDK">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/JDK.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/JDK.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/JDK.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/JDK.tmp/JDK.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/JDK.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/JDK.tmp/JDK.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/JDK.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/JDK.tmp/JDK.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/JDK.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/JDK.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/JDK.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/JDK.tmp" />
  </target>
  <target name="pack.jetbrains.mps.baseLanguage.blTypes">
    <mkdir dir="core/baseLanguage/baseLanguage/languages/blTypes/classes_gen" />
    <mkdir dir="core/baseLanguage/baseLanguage/classes" />
    <mkdir dir="core/baseLanguage/baseLanguage/languages/blTypes/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.blTypes.tmp">
      <fileset dir="core/baseLanguage/baseLanguage/languages/blTypes" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/baseLanguage/baseLanguage/languages/blTypes" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.blTypes.lib.jar" duplicate="preserve">
      <fileset dir="core/baseLanguage/baseLanguage/languages/blTypes/classes_gen" />
      <fileset dir="core/baseLanguage/baseLanguage/classes" />
      <fileset dir="core/baseLanguage/baseLanguage/languages/blTypes/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.blTypes.tmp">
      <fileset dir="core/baseLanguage/baseLanguage/languages/blTypes">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/baseLanguage/baseLanguage">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/baseLanguage/baseLanguage/languages/blTypes">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.blTypes.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.blTypes.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.blTypes.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.blTypes.tmp/blTypes.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.blTypes.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.blTypes.tmp/blTypes.mpl" token="{mps_home}\core\baseLanguage\baseLanguage\classes" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.blTypes.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.blTypes.tmp/blTypes.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.blTypes.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.blTypes.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.blTypes.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.blTypes.tmp" />
  </target>
  <target name="pack.jetbrains.mps.baseLanguage">
    <mkdir dir="core/baseLanguage/baseLanguage/classes_gen" />
    <mkdir dir="core/baseLanguage/baseLanguage/classes" />
    <mkdir dir="core/baseLanguage/baseLanguage/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.tmp">
      <fileset dir="core/baseLanguage/baseLanguage" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/baseLanguage/baseLanguage" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.lib.jar" duplicate="preserve">
      <fileset dir="core/baseLanguage/baseLanguage/classes_gen" />
      <fileset dir="core/baseLanguage/baseLanguage/classes" />
      <fileset dir="core/baseLanguage/baseLanguage/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.tmp">
      <fileset dir="core/baseLanguage/baseLanguage">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/baseLanguage/baseLanguage">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/baseLanguage/baseLanguage">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.tmp/baseLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.tmp/baseLanguage.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.tmp/baseLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.tmp" />
  </target>
  <target name="pack.jetbrains.mps.baseLanguage.strings">
    <mkdir dir="core/baseLanguage/strings/classes_gen" />
    <mkdir dir="core/baseLanguage/strings/classes" />
    <mkdir dir="core/baseLanguage/strings/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.strings.tmp">
      <fileset dir="core/baseLanguage/strings" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/baseLanguage/strings" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.strings.lib.jar" duplicate="preserve">
      <fileset dir="core/baseLanguage/strings/classes_gen" />
      <fileset dir="core/baseLanguage/strings/classes" />
      <fileset dir="core/baseLanguage/strings/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.strings.tmp">
      <fileset dir="core/baseLanguage/strings">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/baseLanguage/strings">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/baseLanguage/strings">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.strings.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.strings.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.strings.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.strings.tmp/strings.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.strings.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.strings.tmp/strings.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.strings.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.strings.tmp/strings.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.strings.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.strings.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.strings.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.strings.tmp" />
  </target>
  <target name="pack.MPS.Classpath">
    <mkdir dir="core/baseLanguage/baseLanguage/solutions/MPS.Classpath/classes_gen" />
    <mkdir dir="core/baseLanguage/baseLanguage/solutions/MPS.Classpath/classes_gen" />
    <mkdir dir="core/baseLanguage/baseLanguage/solutions/MPS.Classpath/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/MPS.Classpath.tmp">
      <fileset dir="core/baseLanguage/baseLanguage/solutions/MPS.Classpath" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/baseLanguage/baseLanguage/solutions/MPS.Classpath" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/MPS.Classpath.lib.jar" duplicate="preserve">
      <fileset dir="core/baseLanguage/baseLanguage/solutions/MPS.Classpath/classes_gen" />
      <fileset dir="core/baseLanguage/baseLanguage/solutions/MPS.Classpath/classes_gen" />
      <fileset dir="core/baseLanguage/baseLanguage/solutions/MPS.Classpath/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/MPS.Classpath.tmp">
      <fileset dir="core/baseLanguage/baseLanguage/solutions/MPS.Classpath">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/baseLanguage/baseLanguage/solutions/MPS.Classpath">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/baseLanguage/baseLanguage/solutions/MPS.Classpath">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/MPS.Classpath.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/MPS.Classpath.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/MPS.Classpath.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/MPS.Classpath.tmp/MPS.Classpath.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/MPS.Classpath.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/MPS.Classpath.tmp/MPS.Classpath.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/MPS.Classpath.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/MPS.Classpath.tmp/MPS.Classpath.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/MPS.Classpath.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/MPS.Classpath.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/MPS.Classpath.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/MPS.Classpath.tmp" />
  </target>
  <target name="pack.refactoring">
    <mkdir dir="core/baseLanguage/baseLanguage/refactoring/classes_gen" />
    <mkdir dir="core/baseLanguage/baseLanguage/refactoring/classes_gen" />
    <mkdir dir="core/baseLanguage/baseLanguage/refactoring/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/refactoring.tmp">
      <fileset dir="core/baseLanguage/baseLanguage/refactoring" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/baseLanguage/baseLanguage/refactoring" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/refactoring.lib.jar" duplicate="preserve">
      <fileset dir="core/baseLanguage/baseLanguage/refactoring/classes_gen" />
      <fileset dir="core/baseLanguage/baseLanguage/refactoring/classes_gen" />
      <fileset dir="core/baseLanguage/baseLanguage/refactoring/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/refactoring.tmp">
      <fileset dir="core/baseLanguage/baseLanguage/refactoring">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/baseLanguage/baseLanguage/refactoring">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/baseLanguage/baseLanguage/refactoring">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/refactoring.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/refactoring.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/refactoring.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/refactoring.tmp/refactoring.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/refactoring.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/refactoring.tmp/refactoring.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/refactoring.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/refactoring.tmp/refactoring.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/refactoring.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/refactoring.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/refactoring.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/refactoring.tmp" />
  </target>
  <target name="pack.jetbrains.mps.baseLanguage.classifiers">
    <mkdir dir="core/baseLanguage/classifiers/classes_gen" />
    <mkdir dir="core/baseLanguage/classifiers/classes" />
    <mkdir dir="core/baseLanguage/classifiers/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.classifiers.tmp">
      <fileset dir="core/baseLanguage/classifiers" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/baseLanguage/classifiers" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.classifiers.lib.jar" duplicate="preserve">
      <fileset dir="core/baseLanguage/classifiers/classes_gen" />
      <fileset dir="core/baseLanguage/classifiers/classes" />
      <fileset dir="core/baseLanguage/classifiers/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.classifiers.tmp">
      <fileset dir="core/baseLanguage/classifiers">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/baseLanguage/classifiers">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/baseLanguage/classifiers">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.classifiers.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.classifiers.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.classifiers.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.classifiers.tmp/classifiers.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.classifiers.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.classifiers.tmp/classifiers.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.classifiers.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.classifiers.tmp/classifiers.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/baseLanguage/jetbrains.mps.baseLanguage.classifiers.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.classifiers.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.classifiers.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/baseLanguage/jetbrains.mps.baseLanguage.classifiers.tmp" />
  </target>
  <target name="pack.jetbrains.mps.bootstrap.actionsLanguage">
    <mkdir dir="core/languageDesign/actionsLanguage/classes_gen" />
    <mkdir dir="core/languageDesign/actionsLanguage/classes" />
    <mkdir dir="core/languageDesign/actionsLanguage/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.actionsLanguage.tmp">
      <fileset dir="core/languageDesign/actionsLanguage" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/languageDesign/actionsLanguage" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.actionsLanguage.lib.jar" duplicate="preserve">
      <fileset dir="core/languageDesign/actionsLanguage/classes_gen" />
      <fileset dir="core/languageDesign/actionsLanguage/classes" />
      <fileset dir="core/languageDesign/actionsLanguage/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.actionsLanguage.tmp">
      <fileset dir="core/languageDesign/actionsLanguage">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/languageDesign/actionsLanguage">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/languageDesign/actionsLanguage">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.actionsLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.actionsLanguage.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.actionsLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.actionsLanguage.tmp/languageDescriptor.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.actionsLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.actionsLanguage.tmp/languageDescriptor.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.actionsLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.actionsLanguage.tmp/languageDescriptor.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.actionsLanguage.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.actionsLanguage.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.actionsLanguage.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.actionsLanguage.tmp" />
  </target>
  <target name="pack.jetbrains.mps.annotations">
    <mkdir dir="core/languageDesign/annotations/languages/annotations/classes_gen" />
    <mkdir dir="core/languageDesign/annotations/classes" />
    <mkdir dir="core/languageDesign/annotations/languages/annotations/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.annotations.tmp">
      <fileset dir="core/languageDesign/annotations/languages/annotations" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/languageDesign/annotations/languages/annotations" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.annotations.lib.jar" duplicate="preserve">
      <fileset dir="core/languageDesign/annotations/languages/annotations/classes_gen" />
      <fileset dir="core/languageDesign/annotations/classes" />
      <fileset dir="core/languageDesign/annotations/languages/annotations/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.annotations.tmp">
      <fileset dir="core/languageDesign/annotations/languages/annotations">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/languageDesign/annotations">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/languageDesign/annotations/languages/annotations">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.annotations.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.annotations.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.annotations.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.annotations.tmp/annotations.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.annotations.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.annotations.tmp/annotations.mpl" token="{mps_home}\core\languageDesign\annotations\classes" value="{mps_home}/core/languageDesign/jetbrains.mps.annotations.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.annotations.tmp/annotations.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.annotations.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.annotations.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.annotations.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.annotations.tmp" />
  </target>
  <target name="pack.jetbrains.mps.bootstrap.constraintsLanguage">
    <mkdir dir="core/languageDesign/constraintsLanguage/classes_gen" />
    <mkdir dir="core/languageDesign/constraintsLanguage/classes" />
    <mkdir dir="core/languageDesign/constraintsLanguage/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.constraintsLanguage.tmp">
      <fileset dir="core/languageDesign/constraintsLanguage" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/languageDesign/constraintsLanguage" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.constraintsLanguage.lib.jar" duplicate="preserve">
      <fileset dir="core/languageDesign/constraintsLanguage/classes_gen" />
      <fileset dir="core/languageDesign/constraintsLanguage/classes" />
      <fileset dir="core/languageDesign/constraintsLanguage/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.constraintsLanguage.tmp">
      <fileset dir="core/languageDesign/constraintsLanguage">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/languageDesign/constraintsLanguage">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/languageDesign/constraintsLanguage">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.constraintsLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.constraintsLanguage.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.constraintsLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.constraintsLanguage.tmp/constraintsLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.constraintsLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.constraintsLanguage.tmp/constraintsLanguage.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.constraintsLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.constraintsLanguage.tmp/constraintsLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.constraintsLanguage.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.constraintsLanguage.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.constraintsLanguage.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.constraintsLanguage.tmp" />
  </target>
  <target name="pack.jetbrains.mps.bootstrap.editorLanguage">
    <mkdir dir="core/languageDesign/editorLanguage/classes_gen" />
    <mkdir dir="core/languageDesign/editorLanguage/classes" />
    <mkdir dir="core/languageDesign/editorLanguage/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.editorLanguage.tmp">
      <fileset dir="core/languageDesign/editorLanguage" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/languageDesign/editorLanguage" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.editorLanguage.lib.jar" duplicate="preserve">
      <fileset dir="core/languageDesign/editorLanguage/classes_gen" />
      <fileset dir="core/languageDesign/editorLanguage/classes" />
      <fileset dir="core/languageDesign/editorLanguage/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.editorLanguage.tmp">
      <fileset dir="core/languageDesign/editorLanguage">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/languageDesign/editorLanguage">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/languageDesign/editorLanguage">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.editorLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.editorLanguage.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.editorLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.editorLanguage.tmp/editorLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.editorLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.editorLanguage.tmp/editorLanguage.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.editorLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.editorLanguage.tmp/editorLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.editorLanguage.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.editorLanguage.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.editorLanguage.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.editorLanguage.tmp" />
  </target>
  <target name="pack.jetbrains.mps.bootstrap.findUsagesLanguage">
    <mkdir dir="core/languageDesign/findUsagesLanguage/classes_gen" />
    <mkdir dir="core/languageDesign/findUsagesLanguage/classes" />
    <mkdir dir="core/languageDesign/findUsagesLanguage/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.findUsagesLanguage.tmp">
      <fileset dir="core/languageDesign/findUsagesLanguage" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/languageDesign/findUsagesLanguage" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.findUsagesLanguage.lib.jar" duplicate="preserve">
      <fileset dir="core/languageDesign/findUsagesLanguage/classes_gen" />
      <fileset dir="core/languageDesign/findUsagesLanguage/classes" />
      <fileset dir="core/languageDesign/findUsagesLanguage/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.findUsagesLanguage.tmp">
      <fileset dir="core/languageDesign/findUsagesLanguage">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/languageDesign/findUsagesLanguage">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/languageDesign/findUsagesLanguage">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.findUsagesLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.findUsagesLanguage.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.findUsagesLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.findUsagesLanguage.tmp/findUsagesLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.findUsagesLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.findUsagesLanguage.tmp/findUsagesLanguage.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.findUsagesLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.findUsagesLanguage.tmp/findUsagesLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.findUsagesLanguage.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.findUsagesLanguage.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.findUsagesLanguage.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.findUsagesLanguage.tmp" />
  </target>
  <target name="pack.jetbrains.mps.bootstrap.helgins">
    <mkdir dir="core/languageDesign/helgins/classes_gen" />
    <mkdir dir="core/languageDesign/helgins/classes" />
    <mkdir dir="core/languageDesign/helgins/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.helgins.tmp">
      <fileset dir="core/languageDesign/helgins" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/languageDesign/helgins" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.helgins.lib.jar" duplicate="preserve">
      <fileset dir="core/languageDesign/helgins/classes_gen" />
      <fileset dir="core/languageDesign/helgins/classes" />
      <fileset dir="core/languageDesign/helgins/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.helgins.tmp">
      <fileset dir="core/languageDesign/helgins">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/languageDesign/helgins">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/languageDesign/helgins">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.helgins.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.helgins.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.helgins.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.helgins.tmp/helgins.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.helgins.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.helgins.tmp/helgins.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.helgins.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.helgins.tmp/helgins.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.helgins.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.helgins.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.helgins.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.helgins.tmp" />
  </target>
  <target name="pack.jetbrains.mps.bootstrap.intentionsLanguage">
    <mkdir dir="core/languageDesign/intentionsLanguage/classes_gen" />
    <mkdir dir="core/languageDesign/intentionsLanguage/classes" />
    <mkdir dir="core/languageDesign/intentionsLanguage/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.intentionsLanguage.tmp">
      <fileset dir="core/languageDesign/intentionsLanguage" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/languageDesign/intentionsLanguage" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.intentionsLanguage.lib.jar" duplicate="preserve">
      <fileset dir="core/languageDesign/intentionsLanguage/classes_gen" />
      <fileset dir="core/languageDesign/intentionsLanguage/classes" />
      <fileset dir="core/languageDesign/intentionsLanguage/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.intentionsLanguage.tmp">
      <fileset dir="core/languageDesign/intentionsLanguage">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/languageDesign/intentionsLanguage">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/languageDesign/intentionsLanguage">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.intentionsLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.intentionsLanguage.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.intentionsLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.intentionsLanguage.tmp/intentionsLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.intentionsLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.intentionsLanguage.tmp/intentionsLanguage.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.intentionsLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.intentionsLanguage.tmp/intentionsLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.intentionsLanguage.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.intentionsLanguage.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.intentionsLanguage.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.intentionsLanguage.tmp" />
  </target>
  <target name="pack.jetbrains.mps.bootstrap.dataFlow">
    <mkdir dir="core/languageDesign/dataFlow/classes_gen" />
    <mkdir dir="core/languageDesign/dataFlow/classes" />
    <mkdir dir="core/languageDesign/dataFlow/runtime/classes" />
    <mkdir dir="core/languageDesign/dataFlow/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.dataFlow.tmp">
      <fileset dir="core/languageDesign/dataFlow" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/languageDesign/dataFlow" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.dataFlow.lib.jar" duplicate="preserve">
      <fileset dir="core/languageDesign/dataFlow/classes_gen" />
      <fileset dir="core/languageDesign/dataFlow/classes" />
      <fileset dir="core/languageDesign/dataFlow/runtime/classes" />
      <fileset dir="core/languageDesign/dataFlow/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.dataFlow.tmp">
      <fileset dir="core/languageDesign/dataFlow">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/languageDesign/dataFlow">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/languageDesign/dataFlow">
        <include name="runtime/classes/" />
      </fileset>
      <fileset dir="core/languageDesign/dataFlow">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.dataFlow.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.dataFlow.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.dataFlow.tmp/META-INF/MANIFEST.MF" token="/runtime/classes/" value="/runtime/classes/,/runtime/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.dataFlow.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.dataFlow.tmp/dataFlow.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.dataFlow.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.dataFlow.tmp/dataFlow.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.dataFlow.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.dataFlow.tmp/dataFlow.mpl" token="{language_descriptor}\runtime\classes" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.dataFlow.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.dataFlow.tmp/dataFlow.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.dataFlow.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.dataFlow.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.dataFlow.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.dataFlow.tmp" />
  </target>
  <target name="pack.jetbrains.mpslite">
    <mkdir dir="core/languageDesign/mps-lite/languages/mpslite/classes_gen" />
    <mkdir dir="core/languageDesign/mps-lite/classes" />
    <mkdir dir="core/languageDesign/mps-lite/languages/mpslite/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mpslite.tmp">
      <fileset dir="core/languageDesign/mps-lite/languages/mpslite" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/languageDesign/mps-lite/languages/mpslite" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mpslite.lib.jar" duplicate="preserve">
      <fileset dir="core/languageDesign/mps-lite/languages/mpslite/classes_gen" />
      <fileset dir="core/languageDesign/mps-lite/classes" />
      <fileset dir="core/languageDesign/mps-lite/languages/mpslite/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mpslite.tmp">
      <fileset dir="core/languageDesign/mps-lite/languages/mpslite">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/languageDesign/mps-lite">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/languageDesign/mps-lite/languages/mpslite">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mpslite.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mpslite.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mpslite.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mpslite.tmp/mpslite.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mpslite.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mpslite.tmp/mpslite.mpl" token="{mps_home}\core\languageDesign\mps-lite\classes" value="{mps_home}/core/languageDesign/jetbrains.mpslite.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mpslite.tmp/mpslite.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mpslite.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mpslite.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mpslite.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mpslite.tmp" />
  </target>
  <target name="pack.jetbrains.mps.nanoj">
    <mkdir dir="core/languageDesign/mps-lite/languages/nanoj/classes_gen" />
    <mkdir dir="core/languageDesign/mps-lite/classes" />
    <mkdir dir="core/languageDesign/mps-lite/languages/nanoj/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.nanoj.tmp">
      <fileset dir="core/languageDesign/mps-lite/languages/nanoj" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/languageDesign/mps-lite/languages/nanoj" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.nanoj.lib.jar" duplicate="preserve">
      <fileset dir="core/languageDesign/mps-lite/languages/nanoj/classes_gen" />
      <fileset dir="core/languageDesign/mps-lite/classes" />
      <fileset dir="core/languageDesign/mps-lite/languages/nanoj/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.nanoj.tmp">
      <fileset dir="core/languageDesign/mps-lite/languages/nanoj">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/languageDesign/mps-lite">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/languageDesign/mps-lite/languages/nanoj">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.nanoj.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.nanoj.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.nanoj.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.nanoj.tmp/nanoj.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.nanoj.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.nanoj.tmp/nanoj.mpl" token="{mps_home}\core\languageDesign\mps-lite\classes" value="{mps_home}/core/languageDesign/jetbrains.mps.nanoj.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.nanoj.tmp/nanoj.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.nanoj.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.nanoj.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.nanoj.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.nanoj.tmp" />
  </target>
  <target name="pack.jetbrains.mps.patterns">
    <mkdir dir="core/languageDesign/patternLanguage/classes_gen" />
    <mkdir dir="core/languageDesign/patternLanguage/classes" />
    <mkdir dir="core/languageDesign/patternLanguage/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.patterns.tmp">
      <fileset dir="core/languageDesign/patternLanguage" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/languageDesign/patternLanguage" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.patterns.lib.jar" duplicate="preserve">
      <fileset dir="core/languageDesign/patternLanguage/classes_gen" />
      <fileset dir="core/languageDesign/patternLanguage/classes" />
      <fileset dir="core/languageDesign/patternLanguage/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.patterns.tmp">
      <fileset dir="core/languageDesign/patternLanguage">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/languageDesign/patternLanguage">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/languageDesign/patternLanguage">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.patterns.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.patterns.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.patterns.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.patterns.tmp/patterns.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.patterns.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.patterns.tmp/patterns.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/languageDesign/jetbrains.mps.patterns.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.patterns.tmp/patterns.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.patterns.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.patterns.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.patterns.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.patterns.tmp" />
  </target>
  <target name="pack.jetbrains.mps.quotation">
    <mkdir dir="core/languageDesign/quotation/classes_gen" />
    <mkdir dir="core/languageDesign/quotation/classes" />
    <mkdir dir="core/languageDesign/quotation/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.quotation.tmp">
      <fileset dir="core/languageDesign/quotation" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/languageDesign/quotation" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.quotation.lib.jar" duplicate="preserve">
      <fileset dir="core/languageDesign/quotation/classes_gen" />
      <fileset dir="core/languageDesign/quotation/classes" />
      <fileset dir="core/languageDesign/quotation/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.quotation.tmp">
      <fileset dir="core/languageDesign/quotation">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/languageDesign/quotation">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/languageDesign/quotation">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.quotation.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.quotation.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.quotation.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.quotation.tmp/quotation.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.quotation.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.quotation.tmp/quotation.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/languageDesign/jetbrains.mps.quotation.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.quotation.tmp/quotation.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.quotation.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.quotation.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.quotation.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.quotation.tmp" />
  </target>
  <target name="pack.jetbrains.mps.bootstrap.pluginLanguage">
    <mkdir dir="core/languageDesign/pluginLanguage/classes_gen" />
    <mkdir dir="core/languageDesign/pluginLanguage/classes" />
    <mkdir dir="core/languageDesign/pluginLanguage/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.pluginLanguage.tmp">
      <fileset dir="core/languageDesign/pluginLanguage" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/languageDesign/pluginLanguage" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.pluginLanguage.lib.jar" duplicate="preserve">
      <fileset dir="core/languageDesign/pluginLanguage/classes_gen" />
      <fileset dir="core/languageDesign/pluginLanguage/classes" />
      <fileset dir="core/languageDesign/pluginLanguage/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.pluginLanguage.tmp">
      <fileset dir="core/languageDesign/pluginLanguage">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/languageDesign/pluginLanguage">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/languageDesign/pluginLanguage">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.pluginLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.pluginLanguage.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.pluginLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.pluginLanguage.tmp/pluginLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.pluginLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.pluginLanguage.tmp/pluginLanguage.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.pluginLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.pluginLanguage.tmp/pluginLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.pluginLanguage.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.pluginLanguage.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.pluginLanguage.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.pluginLanguage.tmp" />
  </target>
  <target name="pack.jetbrains.mps.bootstrap.sharedConcepts">
    <mkdir dir="core/languageDesign/sharedConcepts/classes_gen" />
    <mkdir dir="core/languageDesign/sharedConcepts/classes" />
    <mkdir dir="core/languageDesign/sharedConcepts/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.sharedConcepts.tmp">
      <fileset dir="core/languageDesign/sharedConcepts" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/languageDesign/sharedConcepts" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.sharedConcepts.lib.jar" duplicate="preserve">
      <fileset dir="core/languageDesign/sharedConcepts/classes_gen" />
      <fileset dir="core/languageDesign/sharedConcepts/classes" />
      <fileset dir="core/languageDesign/sharedConcepts/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.sharedConcepts.tmp">
      <fileset dir="core/languageDesign/sharedConcepts">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/languageDesign/sharedConcepts">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/languageDesign/sharedConcepts">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.sharedConcepts.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.sharedConcepts.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.sharedConcepts.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.sharedConcepts.tmp/sharedConcepts.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.sharedConcepts.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.sharedConcepts.tmp/sharedConcepts.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.sharedConcepts.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.sharedConcepts.tmp/sharedConcepts.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.sharedConcepts.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.sharedConcepts.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.sharedConcepts.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.sharedConcepts.tmp" />
  </target>
  <target name="pack.jetbrains.mps.bootstrap.smodelLanguage">
    <mkdir dir="core/languageDesign/smodelLanguage/classes_gen" />
    <mkdir dir="core/languageDesign/smodelLanguage/classes" />
    <mkdir dir="core/languageDesign/smodelLanguage/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.smodelLanguage.tmp">
      <fileset dir="core/languageDesign/smodelLanguage" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/languageDesign/smodelLanguage" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.smodelLanguage.lib.jar" duplicate="preserve">
      <fileset dir="core/languageDesign/smodelLanguage/classes_gen" />
      <fileset dir="core/languageDesign/smodelLanguage/classes" />
      <fileset dir="core/languageDesign/smodelLanguage/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.smodelLanguage.tmp">
      <fileset dir="core/languageDesign/smodelLanguage">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/languageDesign/smodelLanguage">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/languageDesign/smodelLanguage">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.smodelLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.smodelLanguage.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.smodelLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.smodelLanguage.tmp/smodelLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.smodelLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.smodelLanguage.tmp/smodelLanguage.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.smodelLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.smodelLanguage.tmp/smodelLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.smodelLanguage.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.smodelLanguage.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.smodelLanguage.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.smodelLanguage.tmp" />
  </target>
  <target name="pack.jetbrains.mps.ide.scriptLanguage">
    <mkdir dir="core/languageDesign/scriptLanguage/classes_gen" />
    <mkdir dir="core/languageDesign/scriptLanguage/classes" />
    <mkdir dir="core/languageDesign/scriptLanguage/runtime/classes" />
    <mkdir dir="core/languageDesign/scriptLanguage/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguage.tmp">
      <fileset dir="core/languageDesign/scriptLanguage" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/languageDesign/scriptLanguage" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguage.lib.jar" duplicate="preserve">
      <fileset dir="core/languageDesign/scriptLanguage/classes_gen" />
      <fileset dir="core/languageDesign/scriptLanguage/classes" />
      <fileset dir="core/languageDesign/scriptLanguage/runtime/classes" />
      <fileset dir="core/languageDesign/scriptLanguage/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguage.tmp">
      <fileset dir="core/languageDesign/scriptLanguage">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/languageDesign/scriptLanguage">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/languageDesign/scriptLanguage">
        <include name="runtime/classes/" />
      </fileset>
      <fileset dir="core/languageDesign/scriptLanguage">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguage.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguage.tmp/META-INF/MANIFEST.MF" token="/runtime/classes/" value="/runtime/classes/,/runtime/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguage.tmp/scriptLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.ide.scriptLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguage.tmp/scriptLanguage.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/languageDesign/jetbrains.mps.ide.scriptLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguage.tmp/scriptLanguage.mpl" token="{language_descriptor}\runtime\classes" value="{mps_home}/core/languageDesign/jetbrains.mps.ide.scriptLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguage.tmp/scriptLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.ide.scriptLanguage.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguage.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguage.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguage.tmp" />
  </target>
  <target name="pack.jetbrains.mps.ide.scriptLanguageInternal">
    <mkdir dir="core/languageDesign/scriptLanguageInternal/classes_gen" />
    <mkdir dir="core/languageDesign/scriptLanguageInternal/classes" />
    <mkdir dir="core/languageDesign/scriptLanguageInternal/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguageInternal.tmp">
      <fileset dir="core/languageDesign/scriptLanguageInternal" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/languageDesign/scriptLanguageInternal" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguageInternal.lib.jar" duplicate="preserve">
      <fileset dir="core/languageDesign/scriptLanguageInternal/classes_gen" />
      <fileset dir="core/languageDesign/scriptLanguageInternal/classes" />
      <fileset dir="core/languageDesign/scriptLanguageInternal/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguageInternal.tmp">
      <fileset dir="core/languageDesign/scriptLanguageInternal">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/languageDesign/scriptLanguageInternal">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/languageDesign/scriptLanguageInternal">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguageInternal.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguageInternal.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguageInternal.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguageInternal.tmp/scriptLanguageInternal.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.ide.scriptLanguageInternal.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguageInternal.tmp/scriptLanguageInternal.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/languageDesign/jetbrains.mps.ide.scriptLanguageInternal.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguageInternal.tmp/scriptLanguageInternal.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.ide.scriptLanguageInternal.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguageInternal.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguageInternal.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.ide.scriptLanguageInternal.tmp" />
  </target>
  <target name="pack.jetbrains.mps.bootstrap.structureLanguage">
    <mkdir dir="core/languageDesign/structureLanguage/classes_gen" />
    <mkdir dir="core/languageDesign/structureLanguage/classes" />
    <mkdir dir="core/languageDesign/structureLanguage/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.structureLanguage.tmp">
      <fileset dir="core/languageDesign/structureLanguage" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/languageDesign/structureLanguage" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.structureLanguage.lib.jar" duplicate="preserve">
      <fileset dir="core/languageDesign/structureLanguage/classes_gen" />
      <fileset dir="core/languageDesign/structureLanguage/classes" />
      <fileset dir="core/languageDesign/structureLanguage/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.structureLanguage.tmp">
      <fileset dir="core/languageDesign/structureLanguage">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/languageDesign/structureLanguage">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/languageDesign/structureLanguage">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.structureLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.structureLanguage.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.structureLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.structureLanguage.tmp/languageDescriptor.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.structureLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.structureLanguage.tmp/languageDescriptor.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.structureLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.structureLanguage.tmp/languageDescriptor.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.bootstrap.structureLanguage.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.structureLanguage.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.structureLanguage.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.bootstrap.structureLanguage.tmp" />
  </target>
  <target name="pack.jetbrains.mps.core">
    <mkdir dir="core/languageDesign/core/classes_gen" />
    <mkdir dir="core/languageDesign/core/classes" />
    <mkdir dir="core/languageDesign/core/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.core.tmp">
      <fileset dir="core/languageDesign/core" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/languageDesign/core" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.core.lib.jar" duplicate="preserve">
      <fileset dir="core/languageDesign/core/classes_gen" />
      <fileset dir="core/languageDesign/core/classes" />
      <fileset dir="core/languageDesign/core/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.core.tmp">
      <fileset dir="core/languageDesign/core">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/languageDesign/core">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/languageDesign/core">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.core.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.core.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.core.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.core.tmp/languageDescriptor.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.core.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.core.tmp/languageDescriptor.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/languageDesign/jetbrains.mps.core.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.core.tmp/languageDescriptor.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.core.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.core.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.core.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.core.tmp" />
  </target>
  <target name="pack.jetbrains.mps.logging.refactoring">
    <mkdir dir="core/languageDesign/refactoring/classes_gen" />
    <mkdir dir="core/languageDesign/refactoring/classes" />
    <mkdir dir="core/languageDesign/refactoring/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.logging.refactoring.tmp">
      <fileset dir="core/languageDesign/refactoring" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/languageDesign/refactoring" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.logging.refactoring.lib.jar" duplicate="preserve">
      <fileset dir="core/languageDesign/refactoring/classes_gen" />
      <fileset dir="core/languageDesign/refactoring/classes" />
      <fileset dir="core/languageDesign/refactoring/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.logging.refactoring.tmp">
      <fileset dir="core/languageDesign/refactoring">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/languageDesign/refactoring">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/languageDesign/refactoring">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.logging.refactoring.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.logging.refactoring.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.logging.refactoring.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.logging.refactoring.tmp/refactoring.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.logging.refactoring.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.logging.refactoring.tmp/refactoring.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/languageDesign/jetbrains.mps.logging.refactoring.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.logging.refactoring.tmp/refactoring.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.logging.refactoring.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.logging.refactoring.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.logging.refactoring.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.logging.refactoring.tmp" />
  </target>
  <target name="pack.jetbrains.mps.transformation.TLBase">
    <mkdir dir="core/languageDesign/transformation/classes_gen" />
    <mkdir dir="core/languageDesign/transformation/classes" />
    <mkdir dir="core/languageDesign/transformation/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.transformation.TLBase.tmp">
      <fileset dir="core/languageDesign/transformation" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/languageDesign/transformation" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.transformation.TLBase.lib.jar" duplicate="preserve">
      <fileset dir="core/languageDesign/transformation/classes_gen" />
      <fileset dir="core/languageDesign/transformation/classes" />
      <fileset dir="core/languageDesign/transformation/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.transformation.TLBase.tmp">
      <fileset dir="core/languageDesign/transformation">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/languageDesign/transformation">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/languageDesign/transformation">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.transformation.TLBase.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.transformation.TLBase.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.transformation.TLBase.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.transformation.TLBase.tmp/languageDescriptor.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.transformation.TLBase.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.transformation.TLBase.tmp/languageDescriptor.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/languageDesign/jetbrains.mps.transformation.TLBase.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.transformation.TLBase.tmp/languageDescriptor.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/languageDesign/jetbrains.mps.transformation.TLBase.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.transformation.TLBase.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.transformation.TLBase.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/languageDesign/jetbrains.mps.transformation.TLBase.tmp" />
  </target>
  <target name="pack.jetbrains.mps.vcs">
    <mkdir dir="core/kernel/vcs/generic/solutions/jetbrains.mps.vcs/classes_gen" />
    <mkdir dir="core/kernel/vcs/generic/solutions/jetbrains.mps.vcs/classes_gen" />
    <mkdir dir="core/kernel/vcs/generic/solutions/jetbrains.mps.vcs/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/kernel/vcs/generic/jetbrains.mps.vcs.tmp">
      <fileset dir="core/kernel/vcs/generic/solutions/jetbrains.mps.vcs" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/kernel/vcs/generic/solutions/jetbrains.mps.vcs" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/kernel/vcs/generic/jetbrains.mps.vcs.lib.jar" duplicate="preserve">
      <fileset dir="core/kernel/vcs/generic/solutions/jetbrains.mps.vcs/classes_gen" />
      <fileset dir="core/kernel/vcs/generic/solutions/jetbrains.mps.vcs/classes_gen" />
      <fileset dir="core/kernel/vcs/generic/solutions/jetbrains.mps.vcs/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/kernel/vcs/generic/jetbrains.mps.vcs.tmp">
      <fileset dir="core/kernel/vcs/generic/solutions/jetbrains.mps.vcs">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/kernel/vcs/generic/solutions/jetbrains.mps.vcs">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/kernel/vcs/generic/solutions/jetbrains.mps.vcs">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/kernel/vcs/generic/jetbrains.mps.vcs.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/kernel/vcs/generic/jetbrains.mps.vcs.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/kernel/vcs/generic/jetbrains.mps.vcs.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/kernel/vcs/generic/jetbrains.mps.vcs.tmp/jetbrains.mps.vcs.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/core/kernel/vcs/generic/jetbrains.mps.vcs.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/kernel/vcs/generic/jetbrains.mps.vcs.tmp/jetbrains.mps.vcs.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/core/kernel/vcs/generic/jetbrains.mps.vcs.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/kernel/vcs/generic/jetbrains.mps.vcs.tmp/jetbrains.mps.vcs.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/core/kernel/vcs/generic/jetbrains.mps.vcs.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/kernel/vcs/generic/jetbrains.mps.vcs.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/kernel/vcs/generic/jetbrains.mps.vcs.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/kernel/vcs/generic/jetbrains.mps.vcs.tmp" />
  </target>
  <target name="pack.jetbrains.mps.projectLanguage">
    <mkdir dir="core/projectLanguage/classes_gen" />
    <mkdir dir="core/projectLanguage/classes" />
    <mkdir dir="core/projectLanguage/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/jetbrains.mps.projectLanguage.tmp">
      <fileset dir="core/projectLanguage" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="core/projectLanguage" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/jetbrains.mps.projectLanguage.lib.jar" duplicate="preserve">
      <fileset dir="core/projectLanguage/classes_gen" />
      <fileset dir="core/projectLanguage/classes" />
      <fileset dir="core/projectLanguage/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/jetbrains.mps.projectLanguage.tmp">
      <fileset dir="core/projectLanguage">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="core/projectLanguage">
        <include name="classes/" />
      </fileset>
      <fileset dir="core/projectLanguage">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/jetbrains.mps.projectLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/jetbrains.mps.projectLanguage.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/jetbrains.mps.projectLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/jetbrains.mps.projectLanguage.tmp/languageDescriptor.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/jetbrains.mps.projectLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/jetbrains.mps.projectLanguage.tmp/languageDescriptor.mpl" token="{language_descriptor}\classes" value="{mps_home}/core/jetbrains.mps.projectLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/jetbrains.mps.projectLanguage.tmp/languageDescriptor.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/core/jetbrains.mps.projectLanguage.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/jetbrains.mps.projectLanguage.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/jetbrains.mps.projectLanguage.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/core/jetbrains.mps.projectLanguage.tmp" />
  </target>
  <target name="pack.ypath.main">
    <mkdir dir="platform/ypath/solutions/main/classes_gen" />
    <mkdir dir="platform/ypath/solutions/main/classes_gen" />
    <mkdir dir="platform/ypath/solutions/classes" />
    <mkdir dir="platform/ypath/solutions/main/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.main.tmp">
      <fileset dir="platform/ypath/solutions/main" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/ypath/solutions/main" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.main.lib.jar" duplicate="preserve">
      <fileset dir="platform/ypath/solutions/main/classes_gen" />
      <fileset dir="platform/ypath/solutions/main/classes_gen" />
      <fileset dir="platform/ypath/solutions/classes" />
      <fileset dir="platform/ypath/solutions/main/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.main.tmp">
      <fileset dir="platform/ypath/solutions/main">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/ypath/solutions/main">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/ypath">
        <include name="solutions/classes/" />
      </fileset>
      <fileset dir="platform/ypath/solutions/main">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.main.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.main.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.main.tmp/META-INF/MANIFEST.MF" token="/solutions/classes/" value="/solutions/classes/,/solutions/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.main.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.main.tmp/main.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/platform/ypath.main.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.main.tmp/main.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/platform/ypath.main.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.main.tmp/main.msd" token="{mps_home}\platform\ypath\solutions\classes" value="{mps_home}/platform/ypath.main.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.main.tmp/main.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/platform/ypath.main.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.main.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.main.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.main.tmp" />
  </target>
  <target name="pack.ypath.test">
    <mkdir dir="platform/ypath/solutions/test/classes_gen" />
    <mkdir dir="platform/ypath/solutions/test/classes_gen" />
    <mkdir dir="platform/ypath/classes" />
    <mkdir dir="platform/ypath/solutions/classes" />
    <mkdir dir="platform/ypath/solutions/test/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.test.tmp">
      <fileset dir="platform/ypath/solutions/test" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/ypath/solutions/test" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.test.lib.jar" duplicate="preserve">
      <fileset dir="platform/ypath/solutions/test/classes_gen" />
      <fileset dir="platform/ypath/solutions/test/classes_gen" />
      <fileset dir="platform/ypath/classes" />
      <fileset dir="platform/ypath/solutions/classes" />
      <fileset dir="platform/ypath/solutions/test/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.test.tmp">
      <fileset dir="platform/ypath/solutions/test">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/ypath/solutions/test">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/ypath">
        <include name="classes/" />
      </fileset>
      <fileset dir="platform/ypath">
        <include name="solutions/classes/" />
      </fileset>
      <fileset dir="platform/ypath/solutions/test">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.test.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.test.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.test.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.test.tmp/META-INF/MANIFEST.MF" token="/solutions/classes/" value="/solutions/classes/,/solutions/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.test.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.test.tmp/test.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/platform/ypath.test.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.test.tmp/test.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/platform/ypath.test.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.test.tmp/test.msd" token="{mps_home}\platform\ypath\classes" value="{mps_home}/platform/ypath.test.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.test.tmp/test.msd" token="{mps_home}\platform\ypath\solutions\classes" value="{mps_home}/platform/ypath.test.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.test.tmp/test.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/platform/ypath.test.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.test.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.test.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/ypath.test.tmp" />
  </target>
  <target name="pack.jetbrains.mps.ypath">
    <mkdir dir="platform/ypath/classes_gen" />
    <mkdir dir="platform/ypath/classes" />
    <mkdir dir="platform/ypath/runtime/classes" />
    <mkdir dir="platform/ypath/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.ypath.tmp">
      <fileset dir="platform/ypath" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/ypath" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.ypath.lib.jar" duplicate="preserve">
      <fileset dir="platform/ypath/classes_gen" />
      <fileset dir="platform/ypath/classes" />
      <fileset dir="platform/ypath/runtime/classes" />
      <fileset dir="platform/ypath/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.ypath.tmp">
      <fileset dir="platform/ypath">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/ypath">
        <include name="classes/" />
      </fileset>
      <fileset dir="platform/ypath">
        <include name="runtime/classes/" />
      </fileset>
      <fileset dir="platform/ypath">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.ypath.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.ypath.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.ypath.tmp/META-INF/MANIFEST.MF" token="/runtime/classes/" value="/runtime/classes/,/runtime/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.ypath.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.ypath.tmp/ypath.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.ypath.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.ypath.tmp/ypath.mpl" token="{language_descriptor}\classes" value="{mps_home}/platform/jetbrains.mps.ypath.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.ypath.tmp/ypath.mpl" token="{language_descriptor}\runtime\classes" value="{mps_home}/platform/jetbrains.mps.ypath.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.ypath.tmp/ypath.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.ypath.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.ypath.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.ypath.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.ypath.tmp" />
  </target>
  <target name="pack.jetbrains.mps.buildlanguage">
    <mkdir dir="platform/buildlanguage/languages/buildlanguage/classes_gen" />
    <mkdir dir="platform/buildlanguage/classes" />
    <mkdir dir="platform/buildlanguage/languages/buildlanguage/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.buildlanguage.tmp">
      <fileset dir="platform/buildlanguage/languages/buildlanguage" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/buildlanguage/languages/buildlanguage" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.buildlanguage.lib.jar" duplicate="preserve">
      <fileset dir="platform/buildlanguage/languages/buildlanguage/classes_gen" />
      <fileset dir="platform/buildlanguage/classes" />
      <fileset dir="platform/buildlanguage/languages/buildlanguage/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.buildlanguage.tmp">
      <fileset dir="platform/buildlanguage/languages/buildlanguage">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/buildlanguage">
        <include name="classes/" />
      </fileset>
      <fileset dir="platform/buildlanguage/languages/buildlanguage">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.buildlanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.buildlanguage.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.buildlanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.buildlanguage.tmp/buildlanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.buildlanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.buildlanguage.tmp/buildlanguage.mpl" token="{mps_home}\platform\buildlanguage\classes" value="{mps_home}/platform/jetbrains.mps.buildlanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.buildlanguage.tmp/buildlanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.buildlanguage.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.buildlanguage.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.buildlanguage.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.buildlanguage.tmp" />
  </target>
  <target name="pack.jetbrains.mps.mpsLayoutLanguage">
    <mkdir dir="platform/buildlanguage/languages/mpsLayoutLanguage/classes_gen" />
    <mkdir dir="platform/buildlanguage/classes" />
    <mkdir dir="platform/buildlanguage/languages/mpsLayoutLanguage/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.mpsLayoutLanguage.tmp">
      <fileset dir="platform/buildlanguage/languages/mpsLayoutLanguage" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/buildlanguage/languages/mpsLayoutLanguage" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.mpsLayoutLanguage.lib.jar" duplicate="preserve">
      <fileset dir="platform/buildlanguage/languages/mpsLayoutLanguage/classes_gen" />
      <fileset dir="platform/buildlanguage/classes" />
      <fileset dir="platform/buildlanguage/languages/mpsLayoutLanguage/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.mpsLayoutLanguage.tmp">
      <fileset dir="platform/buildlanguage/languages/mpsLayoutLanguage">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/buildlanguage">
        <include name="classes/" />
      </fileset>
      <fileset dir="platform/buildlanguage/languages/mpsLayoutLanguage">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.mpsLayoutLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.mpsLayoutLanguage.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.mpsLayoutLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.mpsLayoutLanguage.tmp/mpsLayoutLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.mpsLayoutLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.mpsLayoutLanguage.tmp/mpsLayoutLanguage.mpl" token="{mps_home}\platform\buildlanguage\classes" value="{mps_home}/platform/jetbrains.mps.mpsLayoutLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.mpsLayoutLanguage.tmp/mpsLayoutLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.mpsLayoutLanguage.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.mpsLayoutLanguage.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.mpsLayoutLanguage.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.mpsLayoutLanguage.tmp" />
  </target>
  <target name="pack.jetbrains.mps.mpsProjectLanguage">
    <mkdir dir="platform/buildlanguage/languages/mpsProjectLanguage/classes_gen" />
    <mkdir dir="platform/buildlanguage/classes" />
    <mkdir dir="platform/buildlanguage/languages/mpsProjectLanguage/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.mpsProjectLanguage.tmp">
      <fileset dir="platform/buildlanguage/languages/mpsProjectLanguage" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/buildlanguage/languages/mpsProjectLanguage" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.mpsProjectLanguage.lib.jar" duplicate="preserve">
      <fileset dir="platform/buildlanguage/languages/mpsProjectLanguage/classes_gen" />
      <fileset dir="platform/buildlanguage/classes" />
      <fileset dir="platform/buildlanguage/languages/mpsProjectLanguage/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.mpsProjectLanguage.tmp">
      <fileset dir="platform/buildlanguage/languages/mpsProjectLanguage">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/buildlanguage">
        <include name="classes/" />
      </fileset>
      <fileset dir="platform/buildlanguage/languages/mpsProjectLanguage">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.mpsProjectLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.mpsProjectLanguage.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.mpsProjectLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.mpsProjectLanguage.tmp/mpsProjectLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.mpsProjectLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.mpsProjectLanguage.tmp/mpsProjectLanguage.mpl" token="{mps_home}\platform\buildlanguage\classes" value="{mps_home}/platform/jetbrains.mps.mpsProjectLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.mpsProjectLanguage.tmp/mpsProjectLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.mpsProjectLanguage.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.mpsProjectLanguage.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.mpsProjectLanguage.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.mpsProjectLanguage.tmp" />
  </target>
  <target name="pack.jetbrains.mps.propertylanguage">
    <mkdir dir="platform/buildlanguage/languages/propertylanguage/classes_gen" />
    <mkdir dir="platform/buildlanguage/classes" />
    <mkdir dir="platform/buildlanguage/languages/propertylanguage/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.propertylanguage.tmp">
      <fileset dir="platform/buildlanguage/languages/propertylanguage" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/buildlanguage/languages/propertylanguage" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.propertylanguage.lib.jar" duplicate="preserve">
      <fileset dir="platform/buildlanguage/languages/propertylanguage/classes_gen" />
      <fileset dir="platform/buildlanguage/classes" />
      <fileset dir="platform/buildlanguage/languages/propertylanguage/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.propertylanguage.tmp">
      <fileset dir="platform/buildlanguage/languages/propertylanguage">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/buildlanguage">
        <include name="classes/" />
      </fileset>
      <fileset dir="platform/buildlanguage/languages/propertylanguage">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.propertylanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.propertylanguage.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.propertylanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.propertylanguage.tmp/propertylanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.propertylanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.propertylanguage.tmp/propertylanguage.mpl" token="{mps_home}\platform\buildlanguage\classes" value="{mps_home}/platform/jetbrains.mps.propertylanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.propertylanguage.tmp/propertylanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.propertylanguage.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.propertylanguage.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.propertylanguage.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.propertylanguage.tmp" />
  </target>
  <target name="pack.jetbrains.mps.bookLanguage">
    <mkdir dir="platform/textLanguage/languages/bookLanguage/classes_gen" />
    <mkdir dir="platform/textLanguage/classes" />
    <mkdir dir="platform/textLanguage/languages/bookLanguage/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.bookLanguage.tmp">
      <fileset dir="platform/textLanguage/languages/bookLanguage" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/textLanguage/languages/bookLanguage" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.bookLanguage.lib.jar" duplicate="preserve">
      <fileset dir="platform/textLanguage/languages/bookLanguage/classes_gen" />
      <fileset dir="platform/textLanguage/classes" />
      <fileset dir="platform/textLanguage/languages/bookLanguage/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.bookLanguage.tmp">
      <fileset dir="platform/textLanguage/languages/bookLanguage">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/textLanguage">
        <include name="classes/" />
      </fileset>
      <fileset dir="platform/textLanguage/languages/bookLanguage">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.bookLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.bookLanguage.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.bookLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.bookLanguage.tmp/bookLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.bookLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.bookLanguage.tmp/bookLanguage.mpl" token="{mps_home}\platform\textLanguage\classes" value="{mps_home}/platform/jetbrains.mps.bookLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.bookLanguage.tmp/bookLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.bookLanguage.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.bookLanguage.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.bookLanguage.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.bookLanguage.tmp" />
  </target>
  <target name="pack.jetbrains.mps.regexp">
    <mkdir dir="platform/regexp/classes_gen" />
    <mkdir dir="platform/regexp/classes" />
    <mkdir dir="platform/regexp/runtime/classes" />
    <mkdir dir="platform/regexp/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.tmp">
      <fileset dir="platform/regexp" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/regexp" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.lib.jar" duplicate="preserve">
      <fileset dir="platform/regexp/classes_gen" />
      <fileset dir="platform/regexp/classes" />
      <fileset dir="platform/regexp/runtime/classes" />
      <fileset dir="platform/regexp/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.tmp">
      <fileset dir="platform/regexp">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/regexp">
        <include name="classes/" />
      </fileset>
      <fileset dir="platform/regexp">
        <include name="runtime/classes/" />
      </fileset>
      <fileset dir="platform/regexp">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.tmp/META-INF/MANIFEST.MF" token="/runtime/classes/" value="/runtime/classes/,/runtime/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.tmp/regexp.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.regexp.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.tmp/regexp.mpl" token="{language_descriptor}\classes" value="{mps_home}/platform/jetbrains.mps.regexp.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.tmp/regexp.mpl" token="{language_descriptor}\runtime\classes" value="{mps_home}/platform/jetbrains.mps.regexp.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.tmp/regexp.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.regexp.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.tmp" />
  </target>
  <target name="pack.jetbrains.mps.regexp.examples">
    <mkdir dir="platform/regexp/solutions/jetbrains.mps.regexp.examples/classes_gen" />
    <mkdir dir="platform/regexp/solutions/jetbrains.mps.regexp.examples/classes_gen" />
    <mkdir dir="platform/regexp/solutions/jetbrains.mps.regexp.examples/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.examples.tmp">
      <fileset dir="platform/regexp/solutions/jetbrains.mps.regexp.examples" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/regexp/solutions/jetbrains.mps.regexp.examples" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.examples.lib.jar" duplicate="preserve">
      <fileset dir="platform/regexp/solutions/jetbrains.mps.regexp.examples/classes_gen" />
      <fileset dir="platform/regexp/solutions/jetbrains.mps.regexp.examples/classes_gen" />
      <fileset dir="platform/regexp/solutions/jetbrains.mps.regexp.examples/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.examples.tmp">
      <fileset dir="platform/regexp/solutions/jetbrains.mps.regexp.examples">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/regexp/solutions/jetbrains.mps.regexp.examples">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/regexp/solutions/jetbrains.mps.regexp.examples">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.examples.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.examples.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.examples.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.examples.tmp/jetbrains.mps.regexp.examples.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.regexp.examples.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.examples.tmp/jetbrains.mps.regexp.examples.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.regexp.examples.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.examples.tmp/jetbrains.mps.regexp.examples.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.regexp.examples.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.examples.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.examples.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.regexp.examples.tmp" />
  </target>
  <target name="pack.jetbrains.mps.textLanguage">
    <mkdir dir="platform/textLanguage/languages/textLanguage/classes_gen" />
    <mkdir dir="platform/textLanguage/classes" />
    <mkdir dir="platform/textLanguage/languages/textLanguage/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.tmp">
      <fileset dir="platform/textLanguage/languages/textLanguage" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/textLanguage/languages/textLanguage" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.lib.jar" duplicate="preserve">
      <fileset dir="platform/textLanguage/languages/textLanguage/classes_gen" />
      <fileset dir="platform/textLanguage/classes" />
      <fileset dir="platform/textLanguage/languages/textLanguage/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.tmp">
      <fileset dir="platform/textLanguage/languages/textLanguage">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/textLanguage">
        <include name="classes/" />
      </fileset>
      <fileset dir="platform/textLanguage/languages/textLanguage">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.tmp/textLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.textLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.tmp/textLanguage.mpl" token="{mps_home}\platform\textLanguage\classes" value="{mps_home}/platform/jetbrains.mps.textLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.tmp/textLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.textLanguage.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.tmp" />
  </target>
  <target name="pack.jetbrains.mps.textLanguage.formula">
    <mkdir dir="platform/textLanguage/languages/formula/classes_gen" />
    <mkdir dir="platform/textLanguage/classes" />
    <mkdir dir="platform/textLanguage/languages/formula/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.formula.tmp">
      <fileset dir="platform/textLanguage/languages/formula" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/textLanguage/languages/formula" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.formula.lib.jar" duplicate="preserve">
      <fileset dir="platform/textLanguage/languages/formula/classes_gen" />
      <fileset dir="platform/textLanguage/classes" />
      <fileset dir="platform/textLanguage/languages/formula/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.formula.tmp">
      <fileset dir="platform/textLanguage/languages/formula">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/textLanguage">
        <include name="classes/" />
      </fileset>
      <fileset dir="platform/textLanguage/languages/formula">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.formula.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.formula.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.formula.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.formula.tmp/formula.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.textLanguage.formula.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.formula.tmp/formula.mpl" token="{mps_home}\platform\textLanguage\classes" value="{mps_home}/platform/jetbrains.mps.textLanguage.formula.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.formula.tmp/formula.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.textLanguage.formula.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.formula.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.formula.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.formula.tmp" />
  </target>
  <target name="pack.jetbrains.mps.textLanguage.table">
    <mkdir dir="platform/textLanguage/languages/table/classes_gen" />
    <mkdir dir="platform/textLanguage/classes" />
    <mkdir dir="platform/textLanguage/languages/table/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.table.tmp">
      <fileset dir="platform/textLanguage/languages/table" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/textLanguage/languages/table" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.table.lib.jar" duplicate="preserve">
      <fileset dir="platform/textLanguage/languages/table/classes_gen" />
      <fileset dir="platform/textLanguage/classes" />
      <fileset dir="platform/textLanguage/languages/table/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.table.tmp">
      <fileset dir="platform/textLanguage/languages/table">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/textLanguage">
        <include name="classes/" />
      </fileset>
      <fileset dir="platform/textLanguage/languages/table">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.table.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.table.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.table.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.table.tmp/table.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.textLanguage.table.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.table.tmp/table.mpl" token="{mps_home}\platform\textLanguage\classes" value="{mps_home}/platform/jetbrains.mps.textLanguage.table.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.table.tmp/table.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.textLanguage.table.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.table.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.table.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.textLanguage.table.tmp" />
  </target>
  <target name="pack.jetbrains.mps.uiLanguage">
    <mkdir dir="platform/uiLanguage/classes_gen" />
    <mkdir dir="platform/uiLanguage/classes" />
    <mkdir dir="platform/uiLanguage/runtime/classes" />
    <mkdir dir="platform/uiLanguage/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.uiLanguage.tmp">
      <fileset dir="platform/uiLanguage" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/uiLanguage" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.uiLanguage.lib.jar" duplicate="preserve">
      <fileset dir="platform/uiLanguage/classes_gen" />
      <fileset dir="platform/uiLanguage/classes" />
      <fileset dir="platform/uiLanguage/runtime/classes" />
      <fileset dir="platform/uiLanguage/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.uiLanguage.tmp">
      <fileset dir="platform/uiLanguage">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/uiLanguage">
        <include name="classes/" />
      </fileset>
      <fileset dir="platform/uiLanguage">
        <include name="runtime/classes/" />
      </fileset>
      <fileset dir="platform/uiLanguage">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.uiLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.uiLanguage.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.uiLanguage.tmp/META-INF/MANIFEST.MF" token="/runtime/classes/" value="/runtime/classes/,/runtime/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.uiLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.uiLanguage.tmp/uiLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.uiLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.uiLanguage.tmp/uiLanguage.mpl" token="{language_descriptor}\classes" value="{mps_home}/platform/jetbrains.mps.uiLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.uiLanguage.tmp/uiLanguage.mpl" token="{language_descriptor}\runtime\classes" value="{mps_home}/platform/jetbrains.mps.uiLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.uiLanguage.tmp/uiLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.uiLanguage.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.uiLanguage.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.uiLanguage.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.uiLanguage.tmp" />
  </target>
  <target name="pack.jetbrains.mps.baseLanguage.unitTest">
    <mkdir dir="platform/unitTest/classes_gen" />
    <mkdir dir="platform/unitTest/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.baseLanguage.unitTest.tmp">
      <fileset dir="platform/unitTest" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/unitTest" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.baseLanguage.unitTest.lib.jar" duplicate="preserve">
      <fileset dir="platform/unitTest/classes_gen" />
      <fileset dir="platform/unitTest/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.baseLanguage.unitTest.tmp">
      <fileset dir="platform/unitTest">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/unitTest">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.baseLanguage.unitTest.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.baseLanguage.unitTest.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.baseLanguage.unitTest.tmp/unitTest.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.baseLanguage.unitTest.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.baseLanguage.unitTest.tmp/unitTest.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.baseLanguage.unitTest.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.baseLanguage.unitTest.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.baseLanguage.unitTest.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.baseLanguage.unitTest.tmp" />
  </target>
  <target name="pack.jetbrains.mps.baseLanguage.unitTest.runtime">
    <mkdir dir="platform/unitTest/solutions/runtime/classes_gen" />
    <mkdir dir="platform/unitTest/solutions/runtime/classes_gen" />
    <mkdir dir="platform/unitTest/solutions/runtime/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.baseLanguage.unitTest.runtime.tmp">
      <fileset dir="platform/unitTest/solutions/runtime" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/unitTest/solutions/runtime" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.baseLanguage.unitTest.runtime.lib.jar" duplicate="preserve">
      <fileset dir="platform/unitTest/solutions/runtime/classes_gen" />
      <fileset dir="platform/unitTest/solutions/runtime/classes_gen" />
      <fileset dir="platform/unitTest/solutions/runtime/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.baseLanguage.unitTest.runtime.tmp">
      <fileset dir="platform/unitTest/solutions/runtime">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/unitTest/solutions/runtime">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/unitTest/solutions/runtime">
        <include name="lib/junit-4.1.jar" />
      </fileset>
      <fileset dir="platform/unitTest/solutions/runtime">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.baseLanguage.unitTest.runtime.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.baseLanguage.unitTest.runtime.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.baseLanguage.unitTest.runtime.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.baseLanguage.unitTest.runtime.tmp/jetbrains.mps.baseLanguage.unitTest.runtime.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.baseLanguage.unitTest.runtime.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.baseLanguage.unitTest.runtime.tmp/jetbrains.mps.baseLanguage.unitTest.runtime.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.baseLanguage.unitTest.runtime.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.baseLanguage.unitTest.runtime.tmp/jetbrains.mps.baseLanguage.unitTest.runtime.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.baseLanguage.unitTest.runtime.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.baseLanguage.unitTest.runtime.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.baseLanguage.unitTest.runtime.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.baseLanguage.unitTest.runtime.tmp" />
  </target>
  <target name="pack.jetbrains.mps.xml">
    <mkdir dir="platform/xml/classes_gen" />
    <mkdir dir="platform/xml/classes" />
    <mkdir dir="platform/xml/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.xml.tmp">
      <fileset dir="platform/xml" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/xml" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.xml.lib.jar" duplicate="preserve">
      <fileset dir="platform/xml/classes_gen" />
      <fileset dir="platform/xml/classes" />
      <fileset dir="platform/xml/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.xml.tmp">
      <fileset dir="platform/xml">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/xml">
        <include name="classes/" />
      </fileset>
      <fileset dir="platform/xml">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.xml.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.xml.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.xml.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.xml.tmp/languageDescriptor.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.xml.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.xml.tmp/languageDescriptor.mpl" token="{language_descriptor}\classes" value="{mps_home}/platform/jetbrains.mps.xml.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.xml.tmp/languageDescriptor.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.xml.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.xml.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.xml.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.xml.tmp" />
  </target>
  <target name="pack.jetbrains.springframework.configuration">
    <mkdir dir="platform/springframework/languages/configuration/classes_gen" />
    <mkdir dir="platform/springframework/languages/configuration/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.springframework.configuration.tmp">
      <fileset dir="platform/springframework/languages/configuration" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/springframework/languages/configuration" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.springframework.configuration.lib.jar" duplicate="preserve">
      <fileset dir="platform/springframework/languages/configuration/classes_gen" />
      <fileset dir="platform/springframework/languages/configuration/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.springframework.configuration.tmp">
      <fileset dir="platform/springframework/languages/configuration">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/springframework/languages/configuration">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.springframework.configuration.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.springframework.configuration.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.springframework.configuration.tmp/configuration.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.springframework.configuration.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.springframework.configuration.tmp/configuration.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.springframework.configuration.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.springframework.configuration.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.springframework.configuration.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.springframework.configuration.tmp" />
  </target>
  <target name="pack.jetbrains.springframework.configurationInternal">
    <mkdir dir="platform/springframework/languages/configurationInternal/classes_gen" />
    <mkdir dir="platform/springframework/languages/configurationInternal/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.springframework.configurationInternal.tmp">
      <fileset dir="platform/springframework/languages/configurationInternal" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/springframework/languages/configurationInternal" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.springframework.configurationInternal.lib.jar" duplicate="preserve">
      <fileset dir="platform/springframework/languages/configurationInternal/classes_gen" />
      <fileset dir="platform/springframework/languages/configurationInternal/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.springframework.configurationInternal.tmp">
      <fileset dir="platform/springframework/languages/configurationInternal">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/springframework/languages/configurationInternal">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.springframework.configurationInternal.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.springframework.configurationInternal.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.springframework.configurationInternal.tmp/configurationInternal.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.springframework.configurationInternal.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.springframework.configurationInternal.tmp/configurationInternal.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.springframework.configurationInternal.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.springframework.configurationInternal.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.springframework.configurationInternal.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.springframework.configurationInternal.tmp" />
  </target>
  <target name="pack.jetbrains.mps.springframework.configuration.runtime">
    <mkdir dir="platform/springframework/runtime/classes_gen" />
    <mkdir dir="platform/springframework/runtime/classes_gen" />
    <mkdir dir="platform/springframework/runtime/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.springframework.configuration.runtime.tmp">
      <fileset dir="platform/springframework/runtime" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/springframework/runtime" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.springframework.configuration.runtime.lib.jar" duplicate="preserve">
      <fileset dir="platform/springframework/runtime/classes_gen" />
      <fileset dir="platform/springframework/runtime/classes_gen" />
      <fileset dir="platform/springframework/runtime/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.springframework.configuration.runtime.tmp">
      <fileset dir="platform/springframework/runtime">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/springframework/runtime">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/springframework/runtime">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.springframework.configuration.runtime.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.springframework.configuration.runtime.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.springframework.configuration.runtime.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.springframework.configuration.runtime.tmp/jetbrains.mps.springframework.configuration.runtime.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.springframework.configuration.runtime.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.springframework.configuration.runtime.tmp/jetbrains.mps.springframework.configuration.runtime.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.springframework.configuration.runtime.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.springframework.configuration.runtime.tmp/jetbrains.mps.springframework.configuration.runtime.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.springframework.configuration.runtime.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.springframework.configuration.runtime.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.springframework.configuration.runtime.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.springframework.configuration.runtime.tmp" />
  </target>
  <target name="pack.webr.logging">
    <mkdir dir="platform/webr/languages/logging/classes_gen" />
    <mkdir dir="platform/webr/languages/logging/classes_gen" />
    <mkdir dir="platform/webr/languages/logging/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.logging.tmp">
      <fileset dir="platform/webr/languages/logging" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/webr/languages/logging" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.logging.lib.jar" duplicate="preserve">
      <fileset dir="platform/webr/languages/logging/classes_gen" />
      <fileset dir="platform/webr/languages/logging/classes_gen" />
      <fileset dir="platform/webr/languages/logging/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.logging.tmp">
      <fileset dir="platform/webr/languages/logging">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/webr/languages/logging">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/webr/languages/logging">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.logging.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.logging.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.logging.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.logging.tmp/logging.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/webr.logging.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.logging.tmp/logging.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/webr.logging.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.logging.tmp/logging.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/webr.logging.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.logging.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.logging.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.logging.tmp" />
  </target>
  <target name="pack.webr.xml">
    <mkdir dir="platform/webr/languages/xml/classes_gen" />
    <mkdir dir="platform/webr/languages/xml/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xml.tmp">
      <fileset dir="platform/webr/languages/xml" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/webr/languages/xml" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xml.lib.jar" duplicate="preserve">
      <fileset dir="platform/webr/languages/xml/classes_gen" />
      <fileset dir="platform/webr/languages/xml/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xml.tmp">
      <fileset dir="platform/webr/languages/xml">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/webr/languages/xml">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xml.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xml.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xml.tmp/xml.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/webr.xml.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xml.tmp/xml.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/webr.xml.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xml.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xml.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xml.tmp" />
  </target>
  <target name="pack.webr.gtext">
    <mkdir dir="platform/webr/languages/gtext/classes_gen" />
    <mkdir dir="platform/webr/languages/gtext/classes_gen" />
    <mkdir dir="platform/webr/languages/gtext/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.gtext.tmp">
      <fileset dir="platform/webr/languages/gtext" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/webr/languages/gtext" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.gtext.lib.jar" duplicate="preserve">
      <fileset dir="platform/webr/languages/gtext/classes_gen" />
      <fileset dir="platform/webr/languages/gtext/classes_gen" />
      <fileset dir="platform/webr/languages/gtext/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.gtext.tmp">
      <fileset dir="platform/webr/languages/gtext">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/webr/languages/gtext">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/webr/languages/gtext">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.gtext.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.gtext.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.gtext.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.gtext.tmp/gtext.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/webr.gtext.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.gtext.tmp/gtext.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/webr.gtext.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.gtext.tmp/gtext.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/webr.gtext.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.gtext.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.gtext.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.gtext.tmp" />
  </target>
  <target name="pack.webr.xmlInternal">
    <mkdir dir="platform/webr/languages/xmlInternal/classes_gen" />
    <mkdir dir="platform/webr/languages/xmlInternal/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xmlInternal.tmp">
      <fileset dir="platform/webr/languages/xmlInternal" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/webr/languages/xmlInternal" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xmlInternal.lib.jar" duplicate="preserve">
      <fileset dir="platform/webr/languages/xmlInternal/classes_gen" />
      <fileset dir="platform/webr/languages/xmlInternal/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xmlInternal.tmp">
      <fileset dir="platform/webr/languages/xmlInternal">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/webr/languages/xmlInternal">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xmlInternal.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xmlInternal.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xmlInternal.tmp/xmlInternal.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/webr.xmlInternal.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xmlInternal.tmp/xmlInternal.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/webr.xmlInternal.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xmlInternal.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xmlInternal.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xmlInternal.tmp" />
  </target>
  <target name="pack.webr.xmlSchema">
    <mkdir dir="platform/webr/languages/xmlSchema/classes_gen" />
    <mkdir dir="platform/webr/languages/xmlSchema/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xmlSchema.tmp">
      <fileset dir="platform/webr/languages/xmlSchema" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/webr/languages/xmlSchema" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xmlSchema.lib.jar" duplicate="preserve">
      <fileset dir="platform/webr/languages/xmlSchema/classes_gen" />
      <fileset dir="platform/webr/languages/xmlSchema/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xmlSchema.tmp">
      <fileset dir="platform/webr/languages/xmlSchema">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/webr/languages/xmlSchema">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xmlSchema.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xmlSchema.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xmlSchema.tmp/xmlSchema.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/webr.xmlSchema.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xmlSchema.tmp/xmlSchema.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/platform/webr.xmlSchema.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xmlSchema.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xmlSchema.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/webr.xmlSchema.tmp" />
  </target>
  <target name="pack.jetbrains.mps.gtext.runtime">
    <mkdir dir="platform/webr/languages/gtext/runtime/classes_gen" />
    <mkdir dir="platform/webr/languages/gtext/runtime/classes_gen" />
    <mkdir dir="platform/webr/languages/gtext/runtime/classes_gen" />
    <mkdir dir="platform/webr/languages/gtext/runtime/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.gtext.runtime.tmp">
      <fileset dir="platform/webr/languages/gtext/runtime" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="platform/webr/languages/gtext/runtime" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.gtext.runtime.lib.jar" duplicate="preserve">
      <fileset dir="platform/webr/languages/gtext/runtime/classes_gen" />
      <fileset dir="platform/webr/languages/gtext/runtime/classes_gen" />
      <fileset dir="platform/webr/languages/gtext/runtime/classes_gen" />
      <fileset dir="platform/webr/languages/gtext/runtime/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.gtext.runtime.tmp">
      <fileset dir="platform/webr/languages/gtext/runtime">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/webr/languages/gtext/runtime">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/webr/languages/gtext/runtime">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="platform/webr/languages/gtext/runtime">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.gtext.runtime.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.gtext.runtime.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.gtext.runtime.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.gtext.runtime.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.gtext.runtime.tmp/jetbrains.mps.gtext.runtime.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.gtext.runtime.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.gtext.runtime.tmp/jetbrains.mps.gtext.runtime.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.gtext.runtime.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.gtext.runtime.tmp/jetbrains.mps.gtext.runtime.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.gtext.runtime.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.gtext.runtime.tmp/jetbrains.mps.gtext.runtime.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/platform/jetbrains.mps.gtext.runtime.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.gtext.runtime.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.gtext.runtime.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/platform/jetbrains.mps.gtext.runtime.tmp" />
  </target>
  <target name="pack.jetbrains.mps.ide.uiLanguage">
    <mkdir dir="workbench/ideUiLanguage/classes_gen" />
    <mkdir dir="workbench/ideUiLanguage/classes" />
    <mkdir dir="workbench/ideUiLanguage/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.ide.uiLanguage.tmp">
      <fileset dir="workbench/ideUiLanguage" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="workbench/ideUiLanguage" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.ide.uiLanguage.lib.jar" duplicate="preserve">
      <fileset dir="workbench/ideUiLanguage/classes_gen" />
      <fileset dir="workbench/ideUiLanguage/classes" />
      <fileset dir="workbench/ideUiLanguage/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.ide.uiLanguage.tmp">
      <fileset dir="workbench/ideUiLanguage">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="workbench/ideUiLanguage">
        <include name="classes/" />
      </fileset>
      <fileset dir="workbench/ideUiLanguage">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.ide.uiLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.ide.uiLanguage.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.ide.uiLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.ide.uiLanguage.tmp/uiLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/workbench/jetbrains.mps.ide.uiLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.ide.uiLanguage.tmp/uiLanguage.mpl" token="{language_descriptor}\classes" value="{mps_home}/workbench/jetbrains.mps.ide.uiLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.ide.uiLanguage.tmp/uiLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/workbench/jetbrains.mps.ide.uiLanguage.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.ide.uiLanguage.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.ide.uiLanguage.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.ide.uiLanguage.tmp" />
  </target>
  <target name="pack.jetbrains.mps.monitorLanguage">
    <mkdir dir="workbench/monitorLanguage/languages/monitorLanguage/classes_gen" />
    <mkdir dir="workbench/monitorLanguage/classes" />
    <mkdir dir="workbench/monitorLanguage/languages/monitorLanguage/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.monitorLanguage.tmp">
      <fileset dir="workbench/monitorLanguage/languages/monitorLanguage" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="workbench/monitorLanguage/languages/monitorLanguage" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.monitorLanguage.lib.jar" duplicate="preserve">
      <fileset dir="workbench/monitorLanguage/languages/monitorLanguage/classes_gen" />
      <fileset dir="workbench/monitorLanguage/classes" />
      <fileset dir="workbench/monitorLanguage/languages/monitorLanguage/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.monitorLanguage.tmp">
      <fileset dir="workbench/monitorLanguage/languages/monitorLanguage">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="workbench/monitorLanguage">
        <include name="classes/" />
      </fileset>
      <fileset dir="workbench/monitorLanguage/languages/monitorLanguage">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.monitorLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.monitorLanguage.tmp/META-INF/MANIFEST.MF" token="/classes/" value="/classes/,/classes" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.monitorLanguage.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.monitorLanguage.tmp/monitorLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/workbench/jetbrains.mps.monitorLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.monitorLanguage.tmp/monitorLanguage.mpl" token="{mps_home}\workbench\monitorLanguage\classes" value="{mps_home}/workbench/jetbrains.mps.monitorLanguage.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.monitorLanguage.tmp/monitorLanguage.mpl" token="{language_descriptor}\classes_gen" value="{mps_home}/workbench/jetbrains.mps.monitorLanguage.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.monitorLanguage.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.monitorLanguage.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.monitorLanguage.tmp" />
  </target>
  <target name="pack.jetbrains.mps.ide">
    <mkdir dir="workbench/ideSolution/classes_gen" />
    <mkdir dir="workbench/ideSolution/classes_gen" />
    <mkdir dir="workbench/ideSolution/classes_gen" />
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.ide.tmp">
      <fileset dir="workbench/ideSolution" excludes="**/*.java, **/*.class, **/*.mpl, **/*.msd, **/*.devkit, **/*.iml, **/*.ipr" />
      <fileset dir="workbench/ideSolution" includes="*.mpl, *.msd, *.devkit" />
    </copy>
    <jar destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.ide.lib.jar" duplicate="preserve">
      <fileset dir="workbench/ideSolution/classes_gen" />
      <fileset dir="workbench/ideSolution/classes_gen" />
      <fileset dir="workbench/ideSolution/classes_gen" />
    </jar>
    <copy todir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.ide.tmp">
      <fileset dir="workbench/ideSolution">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="workbench/ideSolution">
        <include name="classes_gen/" />
      </fileset>
      <fileset dir="workbench/ideSolution">
        <include name="classes_gen/" />
      </fileset>
    </copy>
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.ide.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.ide.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.ide.tmp/META-INF/MANIFEST.MF" token="/classes_gen/" value="/classes_gen/,/classes_gen" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.ide.tmp/jetbrains.mps.ide.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/workbench/jetbrains.mps.ide.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.ide.tmp/jetbrains.mps.ide.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/workbench/jetbrains.mps.ide.lib.jar" />
    <replace file="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.ide.tmp/jetbrains.mps.ide.msd" token="{solution_descriptor}\classes_gen" value="{mps_home}/workbench/jetbrains.mps.ide.lib.jar" />
    <zip destfile="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.ide.mpsarch" basedir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.ide.tmp" />
    <delete dir="${deploy.dir}/MPS-${build.number}.zip.tmp/MPS/workbench/jetbrains.mps.ide.tmp" />
  </target>
</project>

