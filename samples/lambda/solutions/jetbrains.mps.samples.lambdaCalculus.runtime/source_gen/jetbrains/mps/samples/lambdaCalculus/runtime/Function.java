package jetbrains.mps.samples.lambdaCalculus.runtime;

/*Generated by MPS */

import java.util.List;
import java.util.ArrayList;

public abstract class Function {
  protected List myArgs = new ArrayList();

  public Function() {
  }

  public Object apply(Object... argValue) {
    for (Object arg : argValue) {
      this.myArgs.add(arg);
    }
    if (this.myArgs.size() == this.getParamsCount()) {
      return this.eval();
    } else {
      return this;
    }
  }

  public String toString() {
    StringBuilder sb = new StringBuilder();
    sb.append("Function(");
    for (Object arg : this.myArgs) {
      sb.append(arg);
      sb.append(", ");
    }
    for (int i = this.myArgs.size(); i < this.getParamsCount(); i++) {
      sb.append("__, ");
    }
    sb.append(")");
    return sb.toString();
  }

  public abstract Object eval();

  public abstract int getParamsCount();
}
