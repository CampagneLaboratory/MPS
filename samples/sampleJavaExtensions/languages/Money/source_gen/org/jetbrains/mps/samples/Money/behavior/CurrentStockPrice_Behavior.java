package org.jetbrains.mps.samples.Money.behavior;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import org.jetbrains.mps.samples.money.runtime.Money;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import java.math.BigDecimal;
import org.jetbrains.mps.samples.money.runtime.StockPriceDownloader;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;

public class CurrentStockPrice_Behavior {
  public static void init(SNode thisNode) {
  }
  public static Money call_getCurrentPrice_4001135958233293105(SNode thisNode) {
    if ((SLinkOperations.getTarget(thisNode, MetaAdapterFactory.getContainmentLink(0x662a9f2b58024d16L, 0x955872c65c7a681eL, 0x3786e3f4808999c3L, 0x3786e3f480b0926aL, "symbol")) == null)) {
      return new Money(BigDecimal.ZERO, "USD");
    }
    Money currentPrice = StockPriceDownloader.getInstance().getCurrentPrice(SPropertyOperations.getString(SLinkOperations.getTarget(thisNode, MetaAdapterFactory.getContainmentLink(0x662a9f2b58024d16L, 0x955872c65c7a681eL, 0x3786e3f4808999c3L, 0x3786e3f480b0926aL, "symbol")), MetaAdapterFactory.getProperty(0x662a9f2b58024d16L, 0x955872c65c7a681eL, 0x3786e3f480a9b18aL, 0x3786e3f480afac5bL, "symbol")));
    if (currentPrice == null) {
      return new Money(BigDecimal.ZERO, "USD");
    }
    return currentPrice;
  }
}
