package org.jetbrains.mps.samples.Money.behavior;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import org.jetbrains.mps.samples.money.runtime.Money;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import java.math.BigDecimal;
import org.jetbrains.mps.samples.money.runtime.StockPriceDownloader;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;

public class CurrentStockPrice_Behavior {
  public static void init(SNode thisNode) {
  }

  public static Money call_getCurrentPrice_4001135958233293105(SNode thisNode) {
    if ((SLinkOperations.getTarget(thisNode, "symbol", true) == null)) {
      return new Money(BigDecimal.ZERO, "USD");
    }
    Money currentPrice = StockPriceDownloader.getInstance().getCurrentPrice(SPropertyOperations.getString(SLinkOperations.getTarget(thisNode, "symbol", true), "symbol"));
    if (currentPrice == null) {
      return new Money(BigDecimal.ZERO, "USD");
    }
    return currentPrice;
  }
}
