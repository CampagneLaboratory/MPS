package jetbrains.mps.nanoc.plugin;

/*Generated by MPS */

import javax.swing.JPanel;
import javax.swing.JTextField;
import javax.swing.JButton;
import javax.swing.AbstractAction;
import java.awt.event.ActionEvent;
import javax.swing.JFileChooser;
import java.io.File;
import java.awt.GridBagLayout;
import javax.swing.JLabel;
import jetbrains.mps.baseLanguage.util.plugin.run.LayoutUtil;

public class ExecutableParametersEditor extends JPanel {
  private String myFileName;
  private JTextField myTextField = new JTextField();
  private JButton myButton = new JButton(new AbstractAction("OK") {
    public void actionPerformed(ActionEvent event) {
      JFileChooser fileChooser = new JFileChooser();
      int result = fileChooser.showDialog(ExecutableParametersEditor.this, "OK");
      if (result == JFileChooser.APPROVE_OPTION) {
        File selectedFile = fileChooser.getSelectedFile();
        String fileName = selectedFile.getAbsolutePath();
        ExecutableParametersEditor.this.myFileName = fileName;
        ExecutableParametersEditor.this.myTextField.setText(fileName);
      }
    }
  });

  public ExecutableParametersEditor() {
    super(new GridBagLayout());
    this.add(new JLabel("Configuration"), LayoutUtil.createLabelConstraints(0));
    this.add(this.myTextField, LayoutUtil.createFieldConstraints(1));
    this.add(this.myButton, LayoutUtil.createLabelConstraints(2));
  }

  public String getFileName() {
    return this.myFileName;
  }

  public void setFileName(String fileName) {
    this.myFileName = fileName;
    this.myTextField.setText(this.myFileName);
  }
}
